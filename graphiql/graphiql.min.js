!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{var g;g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,g.GraphiQL=f()}}(function(){var define;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";function getLocation(e,r){for(var o,t=0,i=r,n=/\r\n|[\n\r]/g;(o=n.exec(e))&&o.index<r;)t+=1,i=r-(o.index+o[0].length);return _codemirror2.default.Pos(t,i)}var _interopRequireDefault=require("babel-runtime/helpers/interop-require-default").default,_codemirror=require("codemirror"),_codemirror2=_interopRequireDefault(_codemirror),_jsonLint=require("./jsonLint");_codemirror2.default.registerHelper("lint","json",function(e){var r=_jsonLint.jsonLint(e);return r?[{message:r.message,severity:"error",from:getLocation(e,r.start),to:getLocation(e,r.end)}]:[]})},{"./jsonLint":2,"babel-runtime/helpers/interop-require-default":23,codemirror:107}],2:[function(require,module,exports){"use strict";function jsonLint(e,r){string=e,strLen=e.length,end=-1;try{ch(),lex(),r?readVal():readObj(),expect("EOF")}catch(t){return t}}function readObj(){if(expect("{"),!skip("}")){do expect("String"),expect(":"),readVal();while(skip(","));expect("}")}}function readArr(){if(expect("["),!skip("]")){do readVal();while(skip(","));expect("]")}}function readVal(){switch(kind){case"[":return readArr();case"{":return readObj();case"String":return lex();default:return expect("Value")}}function syntaxError(e){return{message:e,start:start,end:end}}function expect(e){if(kind===e)return lex();throw syntaxError("Expected "+e+" but got "+string.slice(start,end)+".")}function skip(e){return kind===e?(lex(),!0):void 0}function ch(){strLen>end&&(end++,code=end===strLen?0:string.charCodeAt(end))}function lex(){for(;9===code||10===code||13===code||32===code;)ch();if(0===code)return void(kind="EOF");switch(start=end,code){case 34:return kind="String",readString();case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return kind="Value",readNumber();case 102:if("false"!==string.slice(start,start+5))break;return end+=4,ch(),void(kind="Value");case 110:if("null"!==string.slice(start,start+4))break;return end+=3,ch(),void(kind="Value");case 116:if("true"!==string.slice(start,start+4))break;return end+=3,ch(),void(kind="Value")}kind=string[start],ch()}function readString(){for(ch();34!==code;)if(ch(),92===code)switch(ch(),code){case 34:case 47:case 92:case 98:case 102:case 110:case 114:case 116:ch();break;case 117:ch(),readHex(),readHex(),readHex(),readHex();break;default:throw syntaxError("Bad character escape sequence.")}else if(end===strLen)throw syntaxError("Unterminated string.");if(34===code)return void ch();throw syntaxError("Unterminated string.")}function readHex(){if(code>=48&&57>=code||code>=65&&70>=code||code>=97&&102>=code)return ch();throw syntaxError("Expected hexadecimal digit.")}function readNumber(){45===code&&ch(),48===code?ch():readDigits(),46===code&&(ch(),readDigits()),(69===code||101===code)&&(ch(),(43===code||45===code)&&ch(),readDigits())}function readDigits(){if(48>code||code>57)throw syntaxError("Expected decimal digit.");do ch();while(code>=48&&57>=code)}exports.__esModule=!0,exports.jsonLint=jsonLint;var string,strLen,start,end,code,kind},{}],3:[function(require,module,exports){(function(global){"use strict";var _inherits=require("babel-runtime/helpers/inherits").default,_classCallCheck=require("babel-runtime/helpers/class-call-check").default,_interopRequireDefault=require("babel-runtime/helpers/interop-require-default").default;exports.__esModule=!0;var _react="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,_react2=_interopRequireDefault(_react),ExecuteButton=function(e){function t(){_classCallCheck(this,t),e.apply(this,arguments)}return _inherits(t,e),t.prototype.render=function(){return _react2.default.createElement("button",{className:"execute-button",onClick:this.props.onClick,title:"Execute Query (Ctrl-Enter)"},_react2.default.createElement("svg",{width:"34",height:"34"},_react2.default.createElement("path",{d:"M 11 9 L 24 16 L 11 23 z"})))},t.prototype.componentDidMount=function(){var e=this;this.keyHandler=function(t){(t.metaKey||t.ctrlKey)&&13===t.keyCode&&(t.preventDefault(),e.props.onClick&&e.props.onClick())},document.addEventListener("keydown",this.keyHandler,!0)},t.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",this.keyHandler,!0)},t}(_react2.default.Component);exports.ExecuteButton=ExecuteButton}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"babel-runtime/helpers/class-call-check":19,"babel-runtime/helpers/inherits":22,"babel-runtime/helpers/interop-require-default":23}],4:[function(require,module,exports){(function(global){"use strict";function getLeft(e){for(var t=0,r=e;r.offsetParent;)t+=r.offsetLeft,r=r.offsetParent;return t}function getTop(e){for(var t=0,r=e;r.offsetParent;)t+=r.offsetTop,r=r.offsetParent;return t}var _inherits=require("babel-runtime/helpers/inherits").default,_classCallCheck=require("babel-runtime/helpers/class-call-check").default,_interopRequireDefault=require("babel-runtime/helpers/interop-require-default").default;exports.__esModule=!0;var _react="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,_react2=_interopRequireDefault(_react),_ExecuteButton=require("./ExecuteButton"),_QueryEditor=require("./QueryEditor"),_VariableEditor=require("./VariableEditor"),_ResultViewer=require("./ResultViewer"),_graphqlUtilities=require("graphql/utilities"),_graphqlJsutilsFind=require("graphql/jsutils/find"),_graphqlJsutilsFind2=_interopRequireDefault(_graphqlJsutilsFind),_utilityFillLeafs=require("../utility/fillLeafs"),GraphiQL=function(e){function t(r){if(_classCallCheck(this,t),e.call(this),"function"!=typeof r.fetcher)throw new TypeError("GraphiQL requires a fetcher function.");var i=window.localStorage,a=r.query||i.getItem("query")||r.defaultQuery||defaultQuery,n=r.variables||i.getItem("variables");this.state={schema:r.schema,query:a,variables:n,response:null,editorFlex:i.getItem("editorFlex")||1,variableEditorOpen:Boolean(n),variableEditorHeight:i.getItem("variableEditorHeight")||200,typeToExplore:null},this._editorQueryID=0}return _inherits(t,e),t.prototype.autoCompleteLeafs=function(){var e=_utilityFillLeafs.fillLeafs(this.state.schema,this.state.query,this.props.getDefaultFieldNames),t=e.insertions,r=e.result;if(t){var i=this.refs.queryEditor.getCodeMirror();i.setValue(r);var a=0,n=t.map(function(e){var t=e.index,r=e.string;return i.markText(i.posFromIndex(t+a),i.posFromIndex(t+(a+=r.length)),{className:"autoInsertedLeaf",clearOnEnter:!0,title:"Automatically added leaf fields"})});setTimeout(function(){return n.forEach(function(e){return e.clear()})},7e3)}},t.prototype.componentWillReceiveProps=function(e){var t=this.state.query,r=this.state.variables;e.query&&e.query!==t&&(t=e.query),e.variables&&e.variables!==r&&(r=e.variables),this.setState({query:t,variables:r})},t.prototype.componentDidMount=function(){var e=this;this.state.schema||this._fetchQuery(_graphqlUtilities.introspectionQuery,null,function(t){t.data?e.setState({schema:_graphqlUtilities.buildClientSchema(t.data)}):e.setState({response:JSON.stringify(t,null,2)})})},t.prototype.componentDidUpdate=function(e,t){(this.state.variableEditorOpen!==t.variableEditorOpen||this.state.variableEditorHeight!==t.variableEditorHeight)&&window.dispatchEvent(new Event("resize"))},t.prototype.render=function(){var e=[];_react2.default.Children.forEach(this.props.children,function(t){e.push(t)});var r=_graphqlJsutilsFind2.default(e,function(e){return e.type===t.Logo})||_react2.default.createElement(t.Logo,null),i=_graphqlJsutilsFind2.default(e,function(e){return e.type===t.Toolbar}),a=_graphqlJsutilsFind2.default(e,function(e){return e.type===t.Footer}),n=this.state.variableEditorOpen,o=n?this.state.variableEditorHeight:null,s={WebkitFlex:this.state.editorFlex,flex:this.state.editorFlex};return _react2.default.createElement("div",{id:"graphiql-container"},_react2.default.createElement("div",{className:"topBar"},r,_react2.default.createElement(_ExecuteButton.ExecuteButton,{onClick:this._runEditorQuery.bind(this)}),i),_react2.default.createElement("div",{ref:"editorBar",className:"editorBar",onMouseDown:this._onResizeStart.bind(this)},_react2.default.createElement("div",{className:"queryWrap",style:s},_react2.default.createElement(_QueryEditor.QueryEditor,{ref:"queryEditor",schema:this.state.schema,value:this.state.query,onEdit:this._onEditQuery.bind(this),onHintInformationRender:this._onHintInformationRender.bind(this)}),_react2.default.createElement("div",{className:"variable-editor",style:{height:o}},_react2.default.createElement("div",{className:"variable-editor-title",style:{cursor:n?"row-resize":"n-resize"},onMouseDown:this._onVariableResizeStart.bind(this)},"Query Variables"),_react2.default.createElement(_VariableEditor.VariableEditor,{value:this.state.variables,onEdit:this._onEditVariables.bind(this)}))),_react2.default.createElement("div",{className:"resultWrap"},_react2.default.createElement(_ResultViewer.ResultViewer,{ref:"result",value:this.state.response}),a)),_react2.default.createElement("div",{className:"docExplorerWrap"}))},t.prototype._fetchQuery=function(e,t,r){var i=this;this.props.fetcher({query:e,variables:t}).then(r).catch(function(e){i.setState({response:JSON.stringify(e,null,2)})})},t.prototype._runEditorQuery=function(){var e=this;this._editorQueryID++;var t=this._editorQueryID;this.autoCompleteLeafs(),this._fetchQuery(this.state.query,this.state.variables,function(r){t===e._editorQueryID&&e.setState({response:JSON.stringify(r,null,2)})})},t.prototype._onEditQuery=function(e){return window.localStorage.setItem("query",e),this.setState({query:e}),this.props.onEditQuery?this.props.onEditQuery(e):void 0},t.prototype._onEditVariables=function(e){window.localStorage.setItem("variables",e),this.setState({variables:e}),this.props.onEditVariables&&this.props.onEditVariables(e)},t.prototype._onHintInformationRender=function(e){var t=this._onClickHintInformation.bind(this);e.addEventListener("click",t);var r;e.addEventListener("DOMNodeRemoved",r=function(){e.removeEventListener("DOMNodeRemoved",r),e.removeEventListener("click",t)})},t.prototype._onClickHintInformation=function(e){if("infoType"===e.target.className){var t=e.target.innerHTML;this.setState({typeToExplore:t})}},t.prototype._onResizeStart=function(e){var t=this;if(this._didClickDragBar(e)){e.preventDefault();var r=e.clientX-getLeft(e.target),i=function(e){if(0===e.buttons)return a();var i=_react2.default.findDOMNode(t.refs.editorBar),n=e.clientX-getLeft(i)-r,o=i.clientWidth-n;t.setState({editorFlex:n/o})},a=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){window.localStorage.setItem("editorFlex",t.state.editorFlex),document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",a),i=null,a=null});document.addEventListener("mousemove",i),document.addEventListener("mouseup",a)}},t.prototype._didClickDragBar=function(e){if(0!==e.button||e.ctrlKey)return!1;var t=e.target;if(0!==t.className.indexOf("CodeMirror-gutter"))return!1;for(var r=_react2.default.findDOMNode(this.refs.result);t;){if(t===r)return!0;t=t.parentNode}return!1},t.prototype._onVariableResizeStart=function(e){var t=this;e.preventDefault();var r=!1,i=this.state.variableEditorOpen,a=this.state.variableEditorHeight,n=e.clientY-getTop(e.target),o=function(e){if(0===e.buttons)return s();r=!0;var i=_react2.default.findDOMNode(t.refs.editorBar),o=e.clientY-getTop(i)-n,l=i.clientHeight-o;60>l?t.setState({variableEditorOpen:!1,variableEditorHeight:a}):t.setState({variableEditorOpen:!0,variableEditorHeight:l})},s=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){r?window.localStorage.setItem("variableEditorHeight",t.state.variableEditorHeight):t.setState({variableEditorOpen:!i}),document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",s),o=null,s=null});document.addEventListener("mousemove",o),document.addEventListener("mouseup",s)},t}(_react2.default.Component);exports.GraphiQL=GraphiQL,GraphiQL.Logo=function(e){function t(){_classCallCheck(this,t),e.apply(this,arguments)}return _inherits(t,e),t.prototype.render=function(){return _react2.default.createElement("div",{className:"title"},this.props.children||_react2.default.createElement("span",null,"Graph",_react2.default.createElement("em",null,"i"),"QL"))},t}(_react2.default.Component),GraphiQL.Toolbar=function(e){function t(){_classCallCheck(this,t),e.apply(this,arguments)}return _inherits(t,e),t.prototype.render=function(){return _react2.default.createElement("div",{className:"toolbar"},this.props.children)},t}(_react2.default.Component),GraphiQL.Footer=function(e){function t(){_classCallCheck(this,t),e.apply(this,arguments)}return _inherits(t,e),t.prototype.render=function(){return _react2.default.createElement("div",{className:"footer"},this.props.children)},t}(_react2.default.Component);var defaultQuery="# Welcome to GraphiQL\n#\n# GraphiQL is an in-browser IDE for writing, validating, and\n# testing GraphQL queries.\n#\n# Type queries into this side of the screen, and you will\n# see intelligent typeaheads aware of the current GraphQL type schema and\n# live syntax and validation errors highlighted within the text.\n#\n# To bring up the auto-complete at any point, just press Ctrl-Space.\n#\n# Press the run button above, or Cmd-Enter to execute the query, and the result\n# will appear in the pane to the right.\n\n"}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utility/fillLeafs":9,"./ExecuteButton":3,"./QueryEditor":5,"./ResultViewer":6,"./VariableEditor":7,"babel-runtime/helpers/class-call-check":19,"babel-runtime/helpers/inherits":22,"babel-runtime/helpers/interop-require-default":23,"graphql/jsutils/find":114,"graphql/utilities":140}],5:[function(require,module,exports){(function(global){"use strict";var _inherits=require("babel-runtime/helpers/inherits").default,_classCallCheck=require("babel-runtime/helpers/class-call-check").default,_interopRequireDefault=require("babel-runtime/helpers/interop-require-default").default;exports.__esModule=!0;var _react="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,_react2=_interopRequireDefault(_react),_marked=require("marked"),_marked2=_interopRequireDefault(_marked),_codemirror=require("codemirror"),_codemirror2=_interopRequireDefault(_codemirror);require("codemirror/addon/hint/show-hint"),require("codemirror/addon/comment/comment"),require("codemirror/addon/edit/matchbrackets"),require("codemirror/addon/edit/closebrackets"),require("codemirror/addon/fold/foldgutter"),require("codemirror/addon/fold/brace-fold"),require("codemirror/addon/lint/lint"),require("codemirror/keymap/sublime"),require("codemirror-graphql/hint"),require("codemirror-graphql/lint"),require("codemirror-graphql/mode");var QueryEditor=function(e){function t(r){_classCallCheck(this,t),e.call(this),this.cachedValue=r.value||""}return _inherits(t,e),t.prototype.getCodeMirror=function(){return this.editor},t.prototype.componentDidMount=function(){var e=this;this.editor=_codemirror2.default(_react2.default.findDOMNode(this),{value:this.props.value||"",lineNumbers:!0,tabSize:2,mode:"graphql",theme:"graphiql",keyMap:"sublime",autoCloseBrackets:!0,matchBrackets:!0,showCursorWhenSelecting:!0,foldGutter:{minFoldSize:4},lint:{schema:this.props.schema},hintOptions:{schema:this.props.schema,closeOnUnfocus:!1,completeSingle:!1},gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],extraKeys:{"Cmd-Space":function(){return e.editor.showHint({completeSingle:!0})},"Ctrl-Space":function(){return e.editor.showHint({completeSingle:!0})},"Ctrl-Left":"goSubwordLeft","Ctrl-Right":"goSubwordRight","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight"}}),this.editor.on("change",this._onEdit.bind(this)),this.editor.on("keyup",this._onKeyUp.bind(this)),this.editor.on("hasCompletion",this._onHasCompletion.bind(this))},t.prototype.componentWillUnmount=function(){this.editor=null},t.prototype.componentDidUpdate=function(e){this.ignoreChangeEvent=!0,this.props.schema!==e.schema&&(this.editor.options.lint.schema=this.props.schema,this.editor.options.hintOptions.schema=this.props.schema,_codemirror2.default.signal(this.editor,"change",this.editor)),this.props.value!==e.value&&this.props.value!==this.cachedValue&&(this.cachedValue=this.props.value,this.editor.setValue(this.props.value)),this.ignoreChangeEvent=!1},t.prototype._onKeyUp=function(e,t){var r=t.keyCode;(r>=65&&90>=r||!t.shiftKey&&r>=48&&57>=r||t.shiftKey&&189===r||t.shiftKey&&50===r||t.shiftKey&&57===r)&&this.editor.execCommand("autocomplete")},t.prototype._onEdit=function(){this.ignoreChangeEvent||(this.cachedValue=this.editor.getValue(),this.props.onEdit&&this.props.onEdit(this.cachedValue))},t.prototype._onHasCompletion=function(e,t){var r,o,i=this;_codemirror2.default.on(t,"select",function(t,n){if(!r){var s=n.parentNode,a=s.parentNode;r=document.createElement("div"),a.appendChild(r);var d=s.style.top,l="",p=e.cursorCoords().top;parseInt(d,10)<p&&(d="",l=window.innerHeight-p+3+"px"),r.className="CodeMirror-hints-wrapper",r.style.left=s.style.left,r.style.top=d,r.style.bottom=l,s.style.left="",s.style.top="",o=document.createElement("div"),o.className="CodeMirror-hint-information",l?(r.appendChild(o),r.appendChild(s)):(r.appendChild(s),r.appendChild(o));var c;r.addEventListener("DOMNodeRemoved",c=function(e){e.target===s&&(r.removeEventListener("DOMNodeRemoved",c),r.parentNode.removeChild(r),r=null,o=null,c=null)})}var h=t.description?_marked2.default(t.description,{smartypants:!0}):"Self descriptive.",u=t.type?'<span class="infoType">'+String(t.type)+"</span>":"";o.innerHTML='<div class="content">'+("<p>"===h.slice(0,3)?"<p>"+u+h.slice(3):u+h)+"</div>";var m=i.props.onHintInformationRender;m&&m(o)})},t.prototype.render=function(){return _react2.default.createElement("div",{className:"query-editor"})},t}(_react2.default.Component);exports.QueryEditor=QueryEditor}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"babel-runtime/helpers/class-call-check":19,"babel-runtime/helpers/inherits":22,"babel-runtime/helpers/interop-require-default":23,codemirror:107,"codemirror-graphql/hint":94,"codemirror-graphql/lint":95,"codemirror-graphql/mode":96,"codemirror/addon/comment/comment":97,"codemirror/addon/edit/closebrackets":98,"codemirror/addon/edit/matchbrackets":99,"codemirror/addon/fold/brace-fold":100,"codemirror/addon/fold/foldgutter":102,"codemirror/addon/hint/show-hint":103,"codemirror/addon/lint/lint":104,"codemirror/keymap/sublime":106,marked:172}],6:[function(require,module,exports){(function(global){"use strict";var _inherits=require("babel-runtime/helpers/inherits").default,_classCallCheck=require("babel-runtime/helpers/class-call-check").default,_interopRequireDefault=require("babel-runtime/helpers/interop-require-default").default;exports.__esModule=!0;var _react="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,_react2=_interopRequireDefault(_react),_codemirror=require("codemirror"),_codemirror2=_interopRequireDefault(_codemirror);require("codemirror/addon/fold/foldgutter"),require("codemirror/addon/fold/brace-fold"),require("codemirror/keymap/sublime"),require("codemirror/mode/javascript/javascript");var ResultViewer=function(e){function r(){_classCallCheck(this,r),e.apply(this,arguments)}return _inherits(r,e),r.prototype.componentDidMount=function(){this.viewer=_codemirror2.default(_react2.default.findDOMNode(this),{value:this.props.value||"",readOnly:!0,theme:"graphiql",mode:{name:"javascript",json:!0},keyMap:"sublime",foldGutter:{minFoldSize:4},gutters:["CodeMirror-foldgutter"],extraKeys:{"Ctrl-Left":"goSubwordLeft","Ctrl-Right":"goSubwordRight","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight"}})},r.prototype.componentWillUnmount=function(){this.viewer=null},r.prototype.shouldComponentUpdate=function(e){return this.props.value!==e.value},r.prototype.componentDidUpdate=function(){this.viewer.setValue(this.props.value||"")},r.prototype.render=function(){return _react2.default.createElement("div",{className:"result-window"})},r}(_react2.default.Component);exports.ResultViewer=ResultViewer}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"babel-runtime/helpers/class-call-check":19,"babel-runtime/helpers/inherits":22,"babel-runtime/helpers/interop-require-default":23,codemirror:107,"codemirror/addon/fold/brace-fold":100,"codemirror/addon/fold/foldgutter":102,"codemirror/keymap/sublime":106,"codemirror/mode/javascript/javascript":108}],7:[function(require,module,exports){(function(global){"use strict";var _inherits=require("babel-runtime/helpers/inherits").default,_classCallCheck=require("babel-runtime/helpers/class-call-check").default,_interopRequireDefault=require("babel-runtime/helpers/interop-require-default").default;exports.__esModule=!0;var _react="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,_react2=_interopRequireDefault(_react),_codemirror=require("codemirror"),_codemirror2=_interopRequireDefault(_codemirror);require("codemirror/addon/fold/brace-fold"),require("codemirror/addon/fold/foldgutter"),require("codemirror/addon/lint/lint"),require("codemirror/keymap/sublime"),require("codemirror/mode/javascript/javascript"),require("../codemirror/lint/json-lint");var VariableEditor=function(e){function r(t){_classCallCheck(this,r),e.call(this),this.cachedValue=t.value||""}return _inherits(r,e),r.prototype.componentDidMount=function(){this.editor=_codemirror2.default(_react2.default.findDOMNode(this),{value:this.props.value||"",lineNumbers:!0,theme:"graphiql",mode:{name:"javascript",json:!0},lint:!0,autoCloseBrackets:!0,matchBrackets:!0,showCursorWhenSelecting:!0,keyMap:"sublime",foldGutter:{minFoldSize:4},gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],extraKeys:{"Ctrl-Left":"goSubwordLeft","Ctrl-Right":"goSubwordRight","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight"}}),this.editor.on("change",this._onEdit.bind(this))},r.prototype.componentWillUnmount=function(){this.editor=null},r.prototype.componentDidUpdate=function(e){this.ignoreChangeEvent=!0,this.props.value!==e.value&&this.props.value!==this.cachedValue&&(this.cachedValue=this.props.value,this.editor.setValue(this.props.value)),this.ignoreChangeEvent=!1},r.prototype._onEdit=function(){this.ignoreChangeEvent||(this.cachedValue=this.editor.getValue(),this.props.onEdit&&this.props.onEdit(this.cachedValue))},r.prototype.render=function(){return _react2.default.createElement("div",{className:"codemirrorWrap",ref:"codemirror"})},r}(_react2.default.Component);exports.VariableEditor=VariableEditor}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../codemirror/lint/json-lint":1,"babel-runtime/helpers/class-call-check":19,"babel-runtime/helpers/inherits":22,"babel-runtime/helpers/interop-require-default":23,codemirror:107,"codemirror/addon/fold/brace-fold":100,"codemirror/addon/fold/foldgutter":102,"codemirror/addon/lint/lint":104,"codemirror/keymap/sublime":106,"codemirror/mode/javascript/javascript":108}],8:[function(require,module,exports){"use strict";module.exports=require("./components/GraphiQL").GraphiQL},{"./components/GraphiQL":4}],9:[function(require,module,exports){"use strict";function fillLeafs(e,t,r){var i;try{i=_graphqlLanguage.parse(t)}catch(n){return t}var a=r||defaultGetDefaultFieldNames,l=[],u=new _graphqlUtilities.TypeInfo(e);return _graphqlLanguage.visit(i,{leave:function(e){u.leave(e)},enter:function(e){if(u.enter(e),"Field"===e.kind&&!e.selectionSet){var r=u.getType(),i=buildSelectionSet(r,a);if(i){var n=getIndentation(t,e.loc.start);l.push({index:e.loc.end,string:" "+_graphqlLanguage.print(i).replace(/\n/g,"\n"+n)})}}}}),{insertions:l,result:withInsertions(t,l)}}function defaultGetDefaultFieldNames(e){var t=e.getFields();if(t.id)return["id"];if(t.edges)return["edges"];if(t.node)return["node"];var r=[];return _Object$keys(t).forEach(function(e){_graphqlType.isLeafType(t[e].type)&&r.push(e)}),r}function buildSelectionSet(e,t){if(e&&!_graphqlType.isLeafType(e)){var r=_graphqlType.getNamedType(e),i=t(r);if(Array.isArray(i)&&0!==i.length)return{kind:"SelectionSet",selections:i.map(function(e){var i=r.getFields()[e],n=i?i.type:null;return{kind:"Field",name:{kind:"Name",value:e},selectionSet:buildSelectionSet(n,t)}})}}}function withInsertions(e,t){if(0===t.length)return e;var r="",i=0;return t.forEach(function(t){var n=t.index,a=t.string;r+=e.slice(i,n)+a,i=n}),r+=e.slice(i)}function getIndentation(e,t){for(var r=t,i=t;r;){var n=e.charCodeAt(r-1);if(10===n||13===n||8232===n||8233===n)break;r--,9!==n&&11!==n&&12!==n&&32!==n&&160!==n&&(i=r)}return e.substring(r,i)}var _Object$keys=require("babel-runtime/core-js/object/keys").default;exports.__esModule=!0,exports.fillLeafs=fillLeafs;var _graphqlUtilities=require("graphql/utilities"),_graphqlLanguage=require("graphql/language"),_graphqlType=require("graphql/type")},{"babel-runtime/core-js/object/keys":16,"graphql/language":119,"graphql/type":132,"graphql/utilities":140}],10:[function(require,module,exports){module.exports={default:require("core-js/library/fn/get-iterator"),__esModule:!0}},{"core-js/library/fn/get-iterator":26}],11:[function(require,module,exports){module.exports={default:require("core-js/library/fn/is-iterable"),__esModule:!0}},{"core-js/library/fn/is-iterable":27}],12:[function(require,module,exports){module.exports={default:require("core-js/library/fn/map"),__esModule:!0}},{"core-js/library/fn/map":28}],13:[function(require,module,exports){module.exports={default:require("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":29}],14:[function(require,module,exports){module.exports={default:require("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":30}],15:[function(require,module,exports){module.exports={default:require("core-js/library/fn/object/get-own-property-descriptor"),__esModule:!0}},{"core-js/library/fn/object/get-own-property-descriptor":31}],16:[function(require,module,exports){module.exports={default:require("core-js/library/fn/object/keys"),__esModule:!0}},{"core-js/library/fn/object/keys":32}],17:[function(require,module,exports){module.exports={default:require("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":33}],18:[function(require,module,exports){module.exports={default:require("core-js/library/fn/set"),__esModule:!0}},{"core-js/library/fn/set":34}],19:[function(require,module,exports){"use strict";exports.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},exports.__esModule=!0},{}],20:[function(require,module,exports){"use strict";var _Object$defineProperty=require("babel-runtime/core-js/object/define-property").default;exports.default=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),_Object$defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),exports.__esModule=!0},{"babel-runtime/core-js/object/define-property":14}],21:[function(require,module,exports){"use strict";var _Object$getOwnPropertyDescriptor=require("babel-runtime/core-js/object/get-own-property-descriptor").default;exports.default=function(e,r,t){for(var o=!0;o;){var i=e,u=r,n=t;v=c=a=void 0,o=!1,null===i&&(i=Function.prototype);var v=_Object$getOwnPropertyDescriptor(i,u);if(void 0!==v){if("value"in v)return v.value;var a=v.get;return void 0===a?void 0:a.call(n)}var c=Object.getPrototypeOf(i);if(null===c)return void 0;e=c,r=u,t=n,o=!0}},exports.__esModule=!0},{"babel-runtime/core-js/object/get-own-property-descriptor":15}],22:[function(require,module,exports){"use strict";var _Object$create=require("babel-runtime/core-js/object/create").default,_Object$setPrototypeOf=require("babel-runtime/core-js/object/set-prototype-of").default;exports.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=_Object$create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(_Object$setPrototypeOf?_Object$setPrototypeOf(e,t):e.__proto__=t)},exports.__esModule=!0},{"babel-runtime/core-js/object/create":13,"babel-runtime/core-js/object/set-prototype-of":17}],23:[function(require,module,exports){"use strict";exports.default=function(e){return e&&e.__esModule?e:{default:e}},exports.__esModule=!0},{}],24:[function(require,module,exports){"use strict";exports.default=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r},exports.__esModule=!0},{}],25:[function(require,module,exports){"use strict";var _getIterator=require("babel-runtime/core-js/get-iterator").default,_isIterable=require("babel-runtime/core-js/is-iterable").default;exports.default=function(){function r(r,e){var t=[],n=!0,a=!1,i=void 0;try{for(var u,o=_getIterator(r);!(n=(u=o.next()).done)&&(t.push(u.value),!e||t.length!==e);n=!0);}catch(l){a=!0,i=l}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}return t}return function(e,t){if(Array.isArray(e))return e;if(_isIterable(Object(e)))return r(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),exports.__esModule=!0},{"babel-runtime/core-js/get-iterator":10,"babel-runtime/core-js/is-iterable":11}],26:[function(require,module,exports){require("../modules/web.dom.iterable"),require("../modules/es6.string.iterator"),module.exports=require("../modules/core.get-iterator")},{"../modules/core.get-iterator":81,"../modules/es6.string.iterator":90,"../modules/web.dom.iterable":93}],27:[function(require,module,exports){require("../modules/web.dom.iterable"),require("../modules/es6.string.iterator"),module.exports=require("../modules/core.is-iterable")},{"../modules/core.is-iterable":82,"../modules/es6.string.iterator":90,"../modules/web.dom.iterable":93}],28:[function(require,module,exports){require("../modules/es6.object.to-string"),require("../modules/es6.string.iterator"),require("../modules/web.dom.iterable"),require("../modules/es6.map"),require("../modules/es7.map.to-json"),module.exports=require("../modules/$.core").Map},{"../modules/$.core":42,"../modules/es6.map":84,"../modules/es6.object.to-string":88,"../modules/es6.string.iterator":90,"../modules/es7.map.to-json":91,"../modules/web.dom.iterable":93}],29:[function(require,module,exports){var $=require("../../modules/$");module.exports=function(e,r){return $.create(e,r)}},{"../../modules/$":60}],30:[function(require,module,exports){var $=require("../../modules/$");module.exports=function(e,r,u){return $.setDesc(e,r,u)}},{"../../modules/$":60}],31:[function(require,module,exports){var $=require("../../modules/$");
require("../../modules/es6.object.get-own-property-descriptor"),module.exports=function(e,r){return $.getDesc(e,r)}},{"../../modules/$":60,"../../modules/es6.object.get-own-property-descriptor":85}],32:[function(require,module,exports){require("../../modules/es6.object.keys"),module.exports=require("../../modules/$.core").Object.keys},{"../../modules/$.core":42,"../../modules/es6.object.keys":86}],33:[function(require,module,exports){require("../../modules/es6.object.set-prototype-of"),module.exports=require("../../modules/$.core").Object.setPrototypeOf},{"../../modules/$.core":42,"../../modules/es6.object.set-prototype-of":87}],34:[function(require,module,exports){require("../modules/es6.object.to-string"),require("../modules/es6.string.iterator"),require("../modules/web.dom.iterable"),require("../modules/es6.set"),require("../modules/es7.set.to-json"),module.exports=require("../modules/$.core").Set},{"../modules/$.core":42,"../modules/es6.object.to-string":88,"../modules/es6.set":89,"../modules/es6.string.iterator":90,"../modules/es7.set.to-json":92,"../modules/web.dom.iterable":93}],35:[function(require,module,exports){module.exports=function(o){if("function"!=typeof o)throw TypeError(o+" is not a function!");return o}},{}],36:[function(require,module,exports){var isObject=require("./$.is-object");module.exports=function(e){if(!isObject(e))throw TypeError(e+" is not an object!");return e}},{"./$.is-object":53}],37:[function(require,module,exports){var cof=require("./$.cof"),TAG=require("./$.wks")("toStringTag"),ARG="Arguments"==cof(function(){return arguments}());module.exports=function(e){var n,r,t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=(n=Object(e))[TAG])?r:ARG?cof(n):"Object"==(t=cof(n))&&"function"==typeof n.callee?"Arguments":t}},{"./$.cof":38,"./$.wks":79}],38:[function(require,module,exports){var toString={}.toString;module.exports=function(t){return toString.call(t).slice(8,-1)}},{}],39:[function(require,module,exports){"use strict";var $=require("./$"),hide=require("./$.hide"),ctx=require("./$.ctx"),species=require("./$.species"),strictNew=require("./$.strict-new"),defined=require("./$.defined"),forOf=require("./$.for-of"),step=require("./$.iter-step"),ID=require("./$.uid")("id"),$has=require("./$.has"),isObject=require("./$.is-object"),isExtensible=Object.isExtensible||isObject,SUPPORT_DESC=require("./$.support-desc"),SIZE=SUPPORT_DESC?"_s":"size",id=0,fastKey=function(e,t){if(!isObject(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!$has(e,ID)){if(!isExtensible(e))return"F";if(!t)return"E";hide(e,ID,++id)}return"O"+e[ID]},getEntry=function(e,t){var r,i=fastKey(t);if("F"!==i)return e._i[i];for(r=e._f;r;r=r.n)if(r.k==t)return r};module.exports={getConstructor:function(e,t,r,i){var n=e(function(e,s){strictNew(e,n,t),e._i=$.create(null),e._f=void 0,e._l=void 0,e[SIZE]=0,void 0!=s&&forOf(s,r,e[i],e)});return require("./$.mix")(n.prototype,{clear:function(){for(var e=this,t=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete t[r.i];e._f=e._l=void 0,e[SIZE]=0},delete:function(e){var t=this,r=getEntry(t,e);if(r){var i=r.n,n=r.p;delete t._i[r.i],r.r=!0,n&&(n.n=i),i&&(i.p=n),t._f==r&&(t._f=i),t._l==r&&(t._l=n),t[SIZE]--}return!!r},forEach:function(e){for(var t,r=ctx(e,arguments[1],3);t=t?t.n:this._f;)for(r(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!getEntry(this,e)}}),SUPPORT_DESC&&$.setDesc(n.prototype,"size",{get:function(){return defined(this[SIZE])}}),n},def:function(e,t,r){var i,n,s=getEntry(e,t);return s?s.v=r:(e._l=s={i:n=fastKey(t,!0),k:t,v:r,p:i=e._l,n:void 0,r:!1},e._f||(e._f=s),i&&(i.n=s),e[SIZE]++,"F"!==n&&(e._i[n]=s)),e},getEntry:getEntry,setStrong:function(e,t,r){require("./$.iter-define")(e,t,function(e,t){this._t=e,this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,r=e._l;r&&r.r;)r=r.p;return e._t&&(e._l=r=r?r.n:e._t._f)?"keys"==t?step(0,r.k):"values"==t?step(0,r.v):step(0,[r.k,r.v]):(e._t=void 0,step(1))},r?"entries":"values",!r,!0),species(e),species(require("./$.core")[t])}}},{"./$":60,"./$.core":42,"./$.ctx":43,"./$.defined":45,"./$.for-of":47,"./$.has":49,"./$.hide":50,"./$.is-object":53,"./$.iter-define":57,"./$.iter-step":58,"./$.mix":62,"./$.species":68,"./$.strict-new":69,"./$.support-desc":71,"./$.uid":77}],40:[function(require,module,exports){var forOf=require("./$.for-of"),classof=require("./$.classof");module.exports=function(r){return function(){if(classof(this)!=r)throw TypeError(r+"#toJSON isn't generic");var o=[];return forOf(this,!1,o.push,o),o}}},{"./$.classof":37,"./$.for-of":47}],41:[function(require,module,exports){"use strict";var $=require("./$"),$def=require("./$.def"),hide=require("./$.hide"),BUGGY=require("./$.iter-buggy"),forOf=require("./$.for-of"),strictNew=require("./$.strict-new");module.exports=function(e,r,t,i,o,s){var u=require("./$.global")[e],n=u,c=o?"set":"add",f=n&&n.prototype,d={};return require("./$.support-desc")&&"function"==typeof n&&(s||!BUGGY&&f.forEach&&f.entries)?(n=r(function(r,t){strictNew(r,n,e),r._c=new u,void 0!=t&&forOf(t,o,r[c],r)}),$.each.call("add,clear,delete,forEach,get,has,set,keys,values,entries".split(","),function(e){var r="add"==e||"set"==e;e in f&&(!s||"clear"!=e)&&hide(n.prototype,e,function(t,i){var o=this._c[e](0===t?0:t,i);return r?this:o})}),"size"in f&&$.setDesc(n.prototype,"size",{get:function(){return this._c.size}})):(n=i.getConstructor(r,e,o,c),require("./$.mix")(n.prototype,t)),require("./$.tag")(n,e),d[e]=n,$def($def.G+$def.W+$def.F,d),s||i.setStrong(n,e,o),n}},{"./$":60,"./$.def":44,"./$.for-of":47,"./$.global":48,"./$.hide":50,"./$.iter-buggy":54,"./$.mix":62,"./$.strict-new":69,"./$.support-desc":71,"./$.tag":72}],42:[function(require,module,exports){var core=module.exports={};"number"==typeof __e&&(__e=core)},{}],43:[function(require,module,exports){var aFunction=require("./$.a-function");module.exports=function(n,r,t){if(aFunction(n),void 0===r)return n;switch(t){case 1:return function(t){return n.call(r,t)};case 2:return function(t,u){return n.call(r,t,u)};case 3:return function(t,u,e){return n.call(r,t,u,e)}}return function(){return n.apply(r,arguments)}}},{"./$.a-function":35}],44:[function(require,module,exports){var global=require("./$.global"),core=require("./$.core"),PROTOTYPE="prototype",ctx=function(e,o){return function(){return e.apply(o,arguments)}},$def=function(e,o,n){var f,t,r,c,l=e&$def.G,$=e&$def.P,d=l?global:e&$def.S?global[o]:(global[o]||{})[PROTOTYPE],i=l?core:core[o]||(core[o]={});l&&(n=o);for(f in n)t=!(e&$def.F)&&d&&f in d,t&&f in i||(r=t?d[f]:n[f],l&&"function"!=typeof d[f]?c=n[f]:e&$def.B&&t?c=ctx(r,global):e&$def.W&&d[f]==r?!function(e){c=function(o){return this instanceof e?new e(o):e(o)},c[PROTOTYPE]=e[PROTOTYPE]}(r):c=$&&"function"==typeof r?ctx(Function.call,r):r,i[f]=c,$&&((i[PROTOTYPE]||(i[PROTOTYPE]={}))[f]=r))};$def.F=1,$def.G=2,$def.S=4,$def.P=8,$def.B=16,$def.W=32,module.exports=$def},{"./$.core":42,"./$.global":48}],45:[function(require,module,exports){module.exports=function(o){if(void 0==o)throw TypeError("Can't call method on  "+o);return o}},{}],46:[function(require,module,exports){module.exports=function(r){try{return!!r()}catch(t){return!0}}},{}],47:[function(require,module,exports){var ctx=require("./$.ctx"),call=require("./$.iter-call"),isArrayIter=require("./$.is-array-iter"),anObject=require("./$.an-object"),toLength=require("./$.to-length"),getIterFn=require("./core.get-iterator-method");module.exports=function(e,r,t,i){var o,a,n,l=getIterFn(e),c=ctx(t,i,r?2:1),u=0;if("function"!=typeof l)throw TypeError(e+" is not iterable!");if(isArrayIter(l))for(o=toLength(e.length);o>u;u++)r?c(anObject(a=e[u])[0],a[1]):c(e[u]);else for(n=l.call(e);!(a=n.next()).done;)call(n,c,a.value,r)}},{"./$.an-object":36,"./$.ctx":43,"./$.is-array-iter":52,"./$.iter-call":55,"./$.to-length":75,"./core.get-iterator-method":80}],48:[function(require,module,exports){var global="undefined"!=typeof self&&self.Math==Math?self:Function("return this")();module.exports=global,"number"==typeof __g&&(__g=global)},{}],49:[function(require,module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(r,e){return hasOwnProperty.call(r,e)}},{}],50:[function(require,module,exports){var $=require("./$"),createDesc=require("./$.property-desc");module.exports=require("./$.support-desc")?function(e,r,t){return $.setDesc(e,r,createDesc(1,t))}:function(e,r,t){return e[r]=t,e}},{"./$":60,"./$.property-desc":64,"./$.support-desc":71}],51:[function(require,module,exports){var cof=require("./$.cof");module.exports=0 in Object("z")?Object:function(e){return"String"==cof(e)?e.split(""):Object(e)}},{"./$.cof":38}],52:[function(require,module,exports){var Iterators=require("./$.iterators"),ITERATOR=require("./$.wks")("iterator");module.exports=function(r){return(Iterators.Array||Array.prototype[ITERATOR])===r}},{"./$.iterators":59,"./$.wks":79}],53:[function(require,module,exports){module.exports=function(o){return null!==o&&("object"==typeof o||"function"==typeof o)}},{}],54:[function(require,module,exports){module.exports="keys"in[]&&!("next"in[].keys())},{}],55:[function(require,module,exports){var anObject=require("./$.an-object");module.exports=function(r,t,e,a){try{return a?t(anObject(e)[0],e[1]):t(e)}catch(c){var n=r.return;throw void 0!==n&&anObject(n.call(r)),c}}},{"./$.an-object":36}],56:[function(require,module,exports){"use strict";var $=require("./$"),IteratorPrototype={};require("./$.hide")(IteratorPrototype,require("./$.wks")("iterator"),function(){return this}),module.exports=function(r,e,t){r.prototype=$.create(IteratorPrototype,{next:require("./$.property-desc")(1,t)}),require("./$.tag")(r,e+" Iterator")}},{"./$":60,"./$.hide":50,"./$.property-desc":64,"./$.tag":72,"./$.wks":79}],57:[function(require,module,exports){"use strict";var LIBRARY=require("./$.library"),$def=require("./$.def"),$redef=require("./$.redef"),hide=require("./$.hide"),has=require("./$.has"),SYMBOL_ITERATOR=require("./$.wks")("iterator"),Iterators=require("./$.iterators"),FF_ITERATOR="@@iterator",KEYS="keys",VALUES="values",returnThis=function(){return this};module.exports=function(e,r,t,i,u,n,s){require("./$.iter-create")(t,r,i);var a,o,R=function(e){switch(e){case KEYS:return function(){return new t(this,e)};case VALUES:return function(){return new t(this,e)}}return function(){return new t(this,e)}},f=r+" Iterator",T=e.prototype,$=T[SYMBOL_ITERATOR]||T[FF_ITERATOR]||u&&T[u],h=$||R(u);if($){var A=require("./$").getProto(h.call(new e));require("./$.tag")(A,f,!0),!LIBRARY&&has(T,FF_ITERATOR)&&hide(A,SYMBOL_ITERATOR,returnThis)}if((!LIBRARY||s)&&hide(T,SYMBOL_ITERATOR,h),Iterators[r]=h,Iterators[f]=returnThis,u)if(a={keys:n?h:R(KEYS),values:u==VALUES?h:R(VALUES),entries:u!=VALUES?h:R("entries")},s)for(o in a)o in T||$redef(T,o,a[o]);else $def($def.P+$def.F*require("./$.iter-buggy"),r,a)}},{"./$":60,"./$.def":44,"./$.has":49,"./$.hide":50,"./$.iter-buggy":54,"./$.iter-create":56,"./$.iterators":59,"./$.library":61,"./$.redef":65,"./$.tag":72,"./$.wks":79}],58:[function(require,module,exports){module.exports=function(e,n){return{value:n,done:!!e}}},{}],59:[function(require,module,exports){module.exports={}},{}],60:[function(require,module,exports){var $Object=Object;module.exports={create:$Object.create,getProto:$Object.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:$Object.getOwnPropertyDescriptor,setDesc:$Object.defineProperty,setDescs:$Object.defineProperties,getKeys:$Object.keys,getNames:$Object.getOwnPropertyNames,getSymbols:$Object.getOwnPropertySymbols,each:[].forEach}},{}],61:[function(require,module,exports){module.exports=!0},{}],62:[function(require,module,exports){var $redef=require("./$.redef");module.exports=function(e,r){for(var f in r)$redef(e,f,r[f]);return e}},{"./$.redef":65}],63:[function(require,module,exports){module.exports=function(e,r){var c=require("./$.def"),i=(require("./$.core").Object||{})[e]||Object[e],t={};t[e]=r(i),c(c.S+c.F*require("./$.fails")(function(){i(1)}),"Object",t)}},{"./$.core":42,"./$.def":44,"./$.fails":46}],64:[function(require,module,exports){module.exports=function(e,r){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:r}}},{}],65:[function(require,module,exports){module.exports=require("./$.hide")},{"./$.hide":50}],66:[function(require,module,exports){var getDesc=require("./$").getDesc,isObject=require("./$.is-object"),anObject=require("./$.an-object"),check=function(e,t){if(anObject(e),!isObject(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};module.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t){try{(t=require("./$.ctx")(Function.call,getDesc(Object.prototype,"__proto__").set,2))({},[])}catch(c){e=!0}return function(c,r){return check(c,r),e?c.__proto__=r:t(c,r),c}}():void 0),check:check}},{"./$":60,"./$.an-object":36,"./$.ctx":43,"./$.is-object":53}],67:[function(require,module,exports){var global=require("./$.global"),SHARED="__core-js_shared__",store=global[SHARED]||(global[SHARED]={});module.exports=function(o){return store[o]||(store[o]={})}},{"./$.global":48}],68:[function(require,module,exports){"use strict";var $=require("./$"),SPECIES=require("./$.wks")("species");module.exports=function(e){!require("./$.support-desc")||SPECIES in e||$.setDesc(e,SPECIES,{configurable:!0,get:function(){return this}})}},{"./$":60,"./$.support-desc":71,"./$.wks":79}],69:[function(require,module,exports){module.exports=function(e,r,o){if(!(e instanceof r))throw TypeError(o+": use the 'new' operator!");return e}},{}],70:[function(require,module,exports){var toInteger=require("./$.to-integer"),defined=require("./$.defined");module.exports=function(e){return function(r,t){var n,i,d=String(defined(r)),o=toInteger(t),u=d.length;return 0>o||o>=u?e?"":void 0:(n=d.charCodeAt(o),55296>n||n>56319||o+1===u||(i=d.charCodeAt(o+1))<56320||i>57343?e?d.charAt(o):n:e?d.slice(o,o+2):(n-55296<<10)+(i-56320)+65536)}}},{"./$.defined":45,"./$.to-integer":73}],71:[function(require,module,exports){module.exports=!require("./$.fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./$.fails":46}],72:[function(require,module,exports){var has=require("./$.has"),hide=require("./$.hide"),TAG=require("./$.wks")("toStringTag");module.exports=function(e,r,i){e&&!has(e=i?e:e.prototype,TAG)&&hide(e,TAG,r)}},{"./$.has":49,"./$.hide":50,"./$.wks":79}],73:[function(require,module,exports){var ceil=Math.ceil,floor=Math.floor;module.exports=function(o){return isNaN(o=+o)?0:(o>0?floor:ceil)(o)}},{}],74:[function(require,module,exports){var IObject=require("./$.iobject"),defined=require("./$.defined");module.exports=function(e){return IObject(defined(e))}},{"./$.defined":45,"./$.iobject":51}],75:[function(require,module,exports){var toInteger=require("./$.to-integer"),min=Math.min;module.exports=function(e){return e>0?min(toInteger(e),9007199254740991):0}},{"./$.to-integer":73}],76:[function(require,module,exports){var defined=require("./$.defined");module.exports=function(e){return Object(defined(e))}},{"./$.defined":45}],77:[function(require,module,exports){var id=0,px=Math.random();module.exports=function(o){return"Symbol(".concat(void 0===o?"":o,")_",(++id+px).toString(36))}},{}],78:[function(require,module,exports){module.exports=function(){}},{}],79:[function(require,module,exports){var store=require("./$.shared")("wks"),Symbol=require("./$.global").Symbol;module.exports=function(r){return store[r]||(store[r]=Symbol&&Symbol[r]||(Symbol||require("./$.uid"))("Symbol."+r))}},{"./$.global":48,"./$.shared":67,"./$.uid":77}],80:[function(require,module,exports){var classof=require("./$.classof"),ITERATOR=require("./$.wks")("iterator"),Iterators=require("./$.iterators");module.exports=require("./$.core").getIteratorMethod=function(r){return void 0!=r?r[ITERATOR]||r["@@iterator"]||Iterators[classof(r)]:void 0}},{"./$.classof":37,"./$.core":42,"./$.iterators":59,"./$.wks":79}],81:[function(require,module,exports){var anObject=require("./$.an-object"),get=require("./core.get-iterator-method");module.exports=require("./$.core").getIterator=function(e){var r=get(e);if("function"!=typeof r)throw TypeError(e+" is not iterable!");return anObject(r.call(e))}},{"./$.an-object":36,"./$.core":42,"./core.get-iterator-method":80}],82:[function(require,module,exports){var classof=require("./$.classof"),ITERATOR=require("./$.wks")("iterator"),Iterators=require("./$.iterators");module.exports=require("./$.core").isIterable=function(r){var e=Object(r);return ITERATOR in e||"@@iterator"in e||Iterators.hasOwnProperty(classof(e))}},{"./$.classof":37,"./$.core":42,"./$.iterators":59,"./$.wks":79}],83:[function(require,module,exports){"use strict";var setUnscope=require("./$.unscope"),step=require("./$.iter-step"),Iterators=require("./$.iterators"),toIObject=require("./$.to-iobject");require("./$.iter-define")(Array,"Array",function(e,t){this._t=toIObject(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,s=this._i++;return!e||s>=e.length?(this._t=void 0,step(1)):"keys"==t?step(0,s):"values"==t?step(0,e[s]):step(0,[s,e[s]])},"values"),Iterators.Arguments=Iterators.Array,setUnscope("keys"),setUnscope("values"),setUnscope("entries")},{"./$.iter-define":57,"./$.iter-step":58,"./$.iterators":59,"./$.to-iobject":74,"./$.unscope":78}],84:[function(require,module,exports){"use strict";var strong=require("./$.collection-strong");require("./$.collection")("Map",function(t){return function(){return t(this,arguments[0])}},{get:function(t){var r=strong.getEntry(this,t);return r&&r.v},set:function(t,r){return strong.def(this,0===t?0:t,r)}},strong,!0)},{"./$.collection":41,"./$.collection-strong":39}],85:[function(require,module,exports){var toIObject=require("./$.to-iobject");require("./$.object-sap")("getOwnPropertyDescriptor",function(t){return function(e,r){return t(toIObject(e),r)}})},{"./$.object-sap":63,"./$.to-iobject":74}],86:[function(require,module,exports){var toObject=require("./$.to-object");require("./$.object-sap")("keys",function(e){return function(t){return e(toObject(t))}})},{"./$.object-sap":63,"./$.to-object":76}],87:[function(require,module,exports){var $def=require("./$.def");$def($def.S,"Object",{setPrototypeOf:require("./$.set-proto").set})},{"./$.def":44,"./$.set-proto":66}],88:[function(require,module,exports){},{}],89:[function(require,module,exports){"use strict";var strong=require("./$.collection-strong");require("./$.collection")("Set",function(t){return function(){return t(this,arguments[0])}},{add:function(t){return strong.def(this,t=0===t?0:t,t)}},strong)},{"./$.collection":41,"./$.collection-strong":39}],90:[function(require,module,exports){"use strict";var $at=require("./$.string-at")(!0);require("./$.iter-define")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,i=this._t,e=this._i;return e>=i.length?{value:void 0,done:!0}:(t=$at(i,e),this._i+=t.length,{value:t,done:!1})})},{"./$.iter-define":57,"./$.string-at":70}],91:[function(require,module,exports){var $def=require("./$.def");$def($def.P,"Map",{toJSON:require("./$.collection-to-json")("Map")})},{"./$.collection-to-json":40,"./$.def":44}],92:[function(require,module,exports){var $def=require("./$.def");$def($def.P,"Set",{toJSON:require("./$.collection-to-json")("Set")})},{"./$.collection-to-json":40,"./$.def":44}],93:[function(require,module,exports){require("./es6.array.iterator");var Iterators=require("./$.iterators");Iterators.NodeList=Iterators.HTMLCollection=Iterators.Array},{"./$.iterators":59,"./es6.array.iterator":83}],94:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getTypeInfo(e,t){var r={type:null,parentType:null,inputType:null,directiveDef:null,fieldDef:null,argDef:null,argDefs:null,objectFieldDefs:null};return forEachState(t,function(t){switch(t.kind){case"Query":case"ShortQuery":r.type=e.getQueryType();break;case"Mutation":r.type=e.getMutationType();break;case"InlineFragment":case"FragmentDefinition":r.type=t.type&&e.getType(t.type);break;case"Field":r.fieldDef=r.type&&t.name?getFieldDef(e,r.parentType,t.name):null,r.type=r.fieldDef&&r.fieldDef.type;break;case"SelectionSet":r.parentType=_graphqlType.getNamedType(r.type);break;case"Directive":r.directiveDef=t.name&&e.getDirective(t.name);break;case"Arguments":r.argDefs="Field"===t.prevState.kind?r.fieldDef&&r.fieldDef.args:"Directive"===t.prevState.kind?r.directiveDef&&r.directiveDef.args:null;break;case"Argument":if(r.argDef=null,r.argDefs)for(var n=0;n<r.argDefs.length;n++)if(r.argDefs[n].name===t.name){r.argDef=r.argDefs[n];break}r.inputType=r.argDef&&r.argDef.type;break;case"ListValue":var i=_graphqlType.getNullableType(r.inputType);r.inputType=i instanceof _graphqlType.GraphQLList?i.ofType:null;break;case"ObjectValue":var a=_graphqlType.getNamedType(r.inputType);r.objectFieldDefs=a instanceof _graphqlType.GraphQLInputObjectType?a.getFields():null;break;case"ObjectField":var p=t.name&&r.objectFieldDefs?r.objectFieldDefs[t.name]:null;r.inputType=p&&p.type}}),r}function forEachState(e,t){for(var r=[],n=e;n&&n.kind;)r.push(n),n=n.prevState;for(var i=r.length-1;i>=0;i--)t(r[i])}function getFieldDef(e,t,r){return r===_graphqlTypeIntrospection.SchemaMetaFieldDef.name&&e.getQueryType()===t?_graphqlTypeIntrospection.SchemaMetaFieldDef:r===_graphqlTypeIntrospection.TypeMetaFieldDef.name&&e.getQueryType()===t?_graphqlTypeIntrospection.TypeMetaFieldDef:r===_graphqlTypeIntrospection.TypeNameMetaFieldDef.name&&_graphqlType.isCompositeType(t)?_graphqlTypeIntrospection.TypeNameMetaFieldDef:t.getFields?t.getFields()[r]:void 0}function hintList(e,t,r,n,i){var a=filterAndSortList(i,normalizeText(n.string));if(a){var p=null===n.type?n.end:/\w/.test(n.string[0])?n.start:n.start+1,l={list:a,from:_codemirror2.default.Pos(r.line,p),to:_codemirror2.default.Pos(r.line,n.end)};return _codemirror2.default.signal(e,"hasCompletion",e,l,n),l}}function filterAndSortList(e,t){var r=t?e.map(function(e){return{proximity:getProximity(normalizeText(e.text),t),entry:e}}).filter(function(e){return e.proximity<=2}).sort(function(e,t){return e.proximity-t.proximity||e.entry.text.length-t.entry.text.length}).map(function(e){return e.entry}):e;return r.length>0?r:e}function normalizeText(e){return e.toLowerCase().replace(/\W/g,"")}function getProximity(e,t){var r=lexicalDistance(t,e);return e.length>t.length&&(r-=e.length-t.length-1,r+=0===e.indexOf(t)?0:.5),r}function lexicalDistance(e,t){var r,n,i=[],a=e.length,p=t.length;for(r=0;a>=r;r++)i[r]=[r];for(n=1;p>=n;n++)i[0][n]=n;for(r=1;a>=r;r++)for(n=1;p>=n;n++){var l=e[r-1]===t[n-1]?0:1;i[r][n]=Math.min(i[r-1][n]+1,i[r][n-1]+1,i[r-1][n-1]+l),r>1&&n>1&&e[r-1]===t[n-2]&&e[r-2]===t[n-1]&&(i[r][n]=Math.min(i[r][n],i[r-2][n-2]+l))}return i[a][p]}var _codemirror=require("codemirror"),_codemirror2=_interopRequireDefault(_codemirror),_graphqlType=require("graphql/type"),_graphqlTypeIntrospection=require("graphql/type/introspection");_codemirror2.default.registerHelper("hint","graphql",function(e,t){var r=t.schema;if(r){var n=e.getCursor(),i=e.getTokenAt(n),a=getTypeInfo(r,i.state),p=i.state,l=p.kind,o=p.step;if("comment"!==i.type){if("Document"===l)return hintList(e,t,n,i,[{text:"query"},{text:"mutation"},{text:"fragment"},{text:"{"}]);if(("SelectionSet"===l||"Field"===l||"AliasedField"===l)&&a.parentType){var s;if(a.parentType.getFields){var u=a.parentType.getFields();s=Object.keys(u).map(function(e){return u[e]})}else s=[];return _graphqlType.isAbstractType(a.parentType)&&s.push(_graphqlTypeIntrospection.TypeNameMetaFieldDef),a.parentType===r.getQueryType()&&s.push(_graphqlTypeIntrospection.SchemaMetaFieldDef,_graphqlTypeIntrospection.TypeMetaFieldDef),hintList(e,t,n,i,s.map(function(e){return{text:e.name,type:e.type,description:e.description}}))}if("Arguments"===l||"Argument"===l&&0===o){var f=a.argDefs;if(f)return hintList(e,t,n,i,f.map(function(e){return{text:e.name,type:e.type,description:e.description}}))}if(("ObjectValue"===l||"ObjectField"===l&&0===o)&&a.objectFieldDefs){var y=Object.keys(a.objectFieldDefs).map(function(e){return a.objectFieldDefs[e]});return hintList(e,t,n,i,y.map(function(e){return{text:e.name,type:e.type,description:e.description}}))}if("EnumValue"===l||"ListValue"===l&&1===o||"ObjectField"===l&&2===o||"Argument"===l&&2===o){var c=_graphqlType.getNamedType(a.inputType);if(c instanceof _graphqlType.GraphQLEnumType){var g=c.getValues(),d=Object.keys(g).map(function(e){return g[e]});return hintList(e,t,n,i,d.map(function(e){return{text:e.name,type:c,description:e.description}}))}if(c===_graphqlType.GraphQLBoolean)return hintList(e,t,n,i,[{text:"true",type:_graphqlType.GraphQLBoolean,description:"Not false."},{text:"false",type:_graphqlType.GraphQLBoolean,description:"Not true."}])}if("FragmentDefinition"===l&&3===o||"InlineFragment"===l&&2===o||"NamedType"===l&&("FragmentDefinition"===p.prevState.kind||"InlineFragment"===p.prevState.kind)){var m;if(a.parentType)m=_graphqlType.isAbstractType(a.parentType)?a.parentType.getPossibleTypes():[a.parentType];else{var T=r.getTypeMap();m=Object.keys(T).map(function(e){return T[e]}).filter(_graphqlType.isCompositeType)}return hintList(e,t,n,i,m.map(function(e){return{text:e.name,description:e.description}}))}if("VariableDefinition"===l&&2===o||"ListType"===l&&1===o||"NamedType"===l&&("VariableDefinition"===p.prevState.kind||"ListType"===p.prevState.kind)){var h=r.getTypeMap(),D=Object.keys(h).map(function(e){return h[e]}).filter(_graphqlType.isInputType);return hintList(e,t,n,i,D.map(function(e){return{text:e.name,description:e.description}}))}if("Directive"===l){var v=r.getDirectives().filter(function(e){return e.onField&&"Field"===p.prevState.kind||e.onFragment&&("FragmentDefinition"===p.prevState.kind||"InlineFragment"===p.prevState.kind||"FragmentSpread"===p.prevState.kind)||e.onOperation&&("Query"===p.prevState.kind||"Mutation"===p.prevState.kind)});return hintList(e,t,n,i,v.map(function(e){return{text:e.name,description:e.description}}))}}}})},{codemirror:107,"graphql/type":132,"graphql/type/introspection":133}],95:[function(require,module,exports){"use strict";function _interopRequireDefault(r){return r&&r.__esModule?r:{default:r}}function errorAnnotations(r,e){return e.nodes.map(function(a){var o="Variable"!==a.kind&&a.name?a.name:a.variable?a.variable:a;return{message:e.message,severity:"error",type:"validation",from:r.posFromIndex(o.loc.start),to:r.posFromIndex(o.loc.end)}})}function mapCat(r,e){return Array.prototype.concat.apply([],r.map(e))}var _codemirror=require("codemirror"),_codemirror2=_interopRequireDefault(_codemirror),_graphqlLanguage=require("graphql/language"),_graphqlValidation=require("graphql/validation");_codemirror2.default.registerHelper("lint","graphql",function(r,e,a){var o=e.schema;try{var t=_graphqlLanguage.parse(r)}catch(n){var i=n.locations[0],l=_codemirror2.default.Pos(i.line-1,i.column),u=a.getTokenAt(l);return[{message:n.message,severity:"error",type:"syntax",from:_codemirror2.default.Pos(i.line-1,u.start),to:_codemirror2.default.Pos(i.line-1,u.end)}]}var s=o?_graphqlValidation.validate(o,t):[];return mapCat(s,function(r){return errorAnnotations(a,r)})})},{codemirror:107,"graphql/language":119,"graphql/validation":147}],96:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getToken(e,t){if(t.needsAdvance&&(t.needsAdvance=!1,advanceRule(t)),e.sol()&&(t.indentLevel=Math.floor(e.indentation()/this.config.tabSize)),e.eatSpace()||e.eatWhile(","))return null;if(e.match(this.lineComment))return e.skipToEnd(),"comment";var n=lex(e);if(!n)return e.match(/\w+|./),"invalidchar";if(saveState(t),"Punctuation"===n.kind)if(/^[{([]/.test(n.value))t.levels=(t.levels||[]).concat(t.indentLevel+1);else if(/^[})\]]/.test(n.value)){var r=t.levels=(t.levels||[]).slice(0,-1);r.length>0&&r[r.length-1]<t.indentLevel&&(t.indentLevel=r[r.length-1])}for(;t.rule;){var i="function"==typeof t.rule?0===t.step?t.rule(n,e):null:t.rule[t.step];if(i){if(i.ofRule&&(i=i.ofRule),"string"==typeof i){pushRule(t,i);continue}if(i.match&&i.match(n))return i.update&&i.update(t,n),"Punctuation"===n.kind?advanceRule(t):t.needsAdvance=!0,i.style}unsuccessful(t)}return restoreState(t),"invalidchar"}function indent(e,t){var n=e.levels,r=n&&0!==n.length?n[n.length-1]-(this.electricInput.test(t)?1:0):e.indentLevel;return r*this.config.indentUnit}function assign(e,t){for(var n=Object.keys(t),r=0;r<n.length;r++)e[n[r]]=t[n[r]];return e}function saveState(e){assign(stateCache,e)}function restoreState(e){assign(e,stateCache)}function pushRule(e,t){e.prevState=assign({},e),e.kind=t,e.name=null,e.type=null,e.rule=ParseRules[t],e.step=0}function popRule(e){e.kind=e.prevState.kind,e.name=e.prevState.name,e.type=e.prevState.type,e.rule=e.prevState.rule,e.step=e.prevState.step,e.prevState=e.prevState.prevState}function advanceRule(e){for(e.step++;e.rule&&!(Array.isArray(e.rule)&&e.step<e.rule.length);)popRule(e),!e.rule||Array.isArray(e.rule)&&e.rule[e.step].isList||e.step++}function unsuccessful(e){for(;e.rule&&(!Array.isArray(e.rule)||!e.rule[e.step].ofRule);)popRule(e);e.rule&&advanceRule(e)}function lex(e){for(var t=Object.keys(LexRules),n=0;n<t.length;n++){var r=e.match(LexRules[t[n]]);if(r)return{kind:t[n],value:r[0]}}}function opt(e){return{ofRule:e}}function list(e){return{ofRule:e,isList:!0}}function t(e,t){return{style:t,match:function(t){return t.kind===e}}}function p(e,t){return{style:t||"punctuation",match:function(t){return"Punctuation"===t.kind&&t.value===e}}}function word(e){return{style:"keyword",match:function(t){return"Name"===t.kind&&t.value===e}}}function name(e){return{style:e,match:function(e){return"Name"===e.kind},update:function(e,t){e.name=t.value}}}function type(e){return{style:e,match:function(e){return"Name"===e.kind},update:function(e,t){e.type=t.value}}}var _codemirror=require("codemirror"),_codemirror2=_interopRequireDefault(_codemirror);_codemirror2.default.defineMode("graphql",function(e){return{config:e,token:getToken,indent:indent,startState:function(){var e={level:0};return pushRule(e,"Document"),e},electricInput:/^\s*[})\]]/,fold:"brace",lineComment:"#",closeBrackets:{pairs:'()[]{}""',explode:"()[]{}"}}});var stateCache={},LexRules={Name:/^[_A-Za-z][_0-9A-Za-z]*/,Punctuation:/^(?:!|\$|\(|\)|\.\.\.|:|=|@|\[|\]|\{|\})/,Number:/^-?(?:0|(?:[1-9][0-9]*))(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?/,String:/^"(?:[^"\\]|\\(?:b|f|n|r|t|u[0-9a-fA-F]{4}))*"?/},ParseRules={Document:[list("Definition")],Definition:function(e){switch(e.value){case"query":return"Query";case"mutation":return"Mutation";case"fragment":return"FragmentDefinition";case"{":return"ShortQuery"}},Query:[word("query"),name("def"),opt("VariableDefinitions"),list("Directive"),"SelectionSet"],ShortQuery:["SelectionSet"],Mutation:[word("mutation"),name("def"),opt("VariableDefinitions"),list("Directive"),"SelectionSet"],VariableDefinitions:[p("("),list("VariableDefinition"),p(")")],VariableDefinition:["Variable",p(":"),"Type",opt("DefaultValue")],Variable:[p("$","variable"),name("variable")],DefaultValue:[p("="),"Value"],SelectionSet:[p("{"),list("Selection"),p("}")],Selection:function(e,t){return"..."===e.value?t.match(/[\s\u00a0,]*on\b/,!1)?"InlineFragment":"FragmentSpread":t.match(/[\s\u00a0,]*:/,!1)?"AliasedField":"Field"},AliasedField:[name("qualifier"),p(":"),"Field"],Field:[name("property"),opt("Arguments"),list("Directive"),opt("SelectionSet")],Arguments:[p("("),list("Argument"),p(")")],Argument:[name("attribute"),p(":"),"Value"],FragmentSpread:[p("..."),name("def"),list("Directive")],InlineFragment:[p("..."),word("on"),type("atom"),list("Directive"),"SelectionSet"],FragmentDefinition:[word("fragment"),name("def"),word("on"),type("atom"),list("Directive"),"SelectionSet"],Value:function(e){switch(e.kind){case"Number":return"NumberValue";case"String":return"StringValue";case"Punctuation":switch(e.value){case"[":return"ListValue";case"{":return"ObjectValue";case"$":return"Variable"}return null;case"Name":
switch(e.value){case"true":case"false":return"BooleanValue"}return"EnumValue"}},NumberValue:[t("Number","number")],StringValue:[t("String","string")],BooleanValue:[t("Name","builtin")],EnumValue:[name("string-2")],ListValue:[p("["),list("Value"),p("]")],ObjectValue:[p("{"),list("ObjectField"),p("}")],ObjectField:[name("attribute"),p(":"),"Value"],Type:function(e){return"["===e.value?"ListType":"NamedType"},ListType:[p("["),"NamedType",p("]"),opt(p("!"))],NamedType:[name("atom"),opt(p("!"))],Directive:[p("@","meta"),name("meta"),opt("Arguments")]}},{codemirror:107}],97:[function(require,module,exports){!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function n(e){var n=e.search(i);return-1==n?0:n}var t={},i=/[^\s\u00a0]/,l=e.Pos;e.commands.toggleComment=function(e){for(var n=1/0,t=e.listSelections(),i=null,o=t.length-1;o>=0;o--){var r=t[o].from(),a=t[o].to();r.line>=n||(a.line>=n&&(a=l(n,0)),n=r.line,null==i?e.uncomment(r,a)?i="un":(e.lineComment(r,a),i="line"):"un"==i?e.uncomment(r,a):e.lineComment(r,a))}},e.defineExtension("lineComment",function(e,o,r){r||(r=t);var a=this,m=a.getModeAt(e),c=r.lineComment||m.lineComment;if(!c)return void((r.blockCommentStart||m.blockCommentStart)&&(r.fullLines=!0,a.blockComment(e,o,r)));var f=a.getLine(e.line);if(null!=f){var g=Math.min(0!=o.ch||o.line==e.line?o.line+1:o.line,a.lastLine()+1),s=null==r.padding?" ":r.padding,d=r.commentBlankLines||e.line==o.line;a.operation(function(){if(r.indent)for(var t=f.slice(0,n(f)),o=e.line;g>o;++o){var m=a.getLine(o),u=t.length;(d||i.test(m))&&(m.slice(0,u)!=t&&(u=n(m)),a.replaceRange(t+c+s,l(o,0),l(o,u)))}else for(var o=e.line;g>o;++o)(d||i.test(a.getLine(o)))&&a.replaceRange(c+s,l(o,0))})}}),e.defineExtension("blockComment",function(e,n,o){o||(o=t);var r=this,a=r.getModeAt(e),m=o.blockCommentStart||a.blockCommentStart,c=o.blockCommentEnd||a.blockCommentEnd;if(!m||!c)return void((o.lineComment||a.lineComment)&&0!=o.fullLines&&r.lineComment(e,n,o));var f=Math.min(n.line,r.lastLine());f!=e.line&&0==n.ch&&i.test(r.getLine(f))&&--f;var g=null==o.padding?" ":o.padding;e.line>f||r.operation(function(){if(0!=o.fullLines){var t=i.test(r.getLine(f));r.replaceRange(g+c,l(f)),r.replaceRange(m+g,l(e.line,0));var s=o.blockCommentLead||a.blockCommentLead;if(null!=s)for(var d=e.line+1;f>=d;++d)(d!=f||t)&&r.replaceRange(s+g,l(d,0))}else r.replaceRange(c,n),r.replaceRange(m,e)})}),e.defineExtension("uncomment",function(e,n,o){o||(o=t);var r,a=this,m=a.getModeAt(e),c=Math.min(0!=n.ch||n.line==e.line?n.line:n.line-1,a.lastLine()),f=Math.min(e.line,c),g=o.lineComment||m.lineComment,s=[],d=null==o.padding?" ":o.padding;e:if(g){for(var u=f;c>=u;++u){var h=a.getLine(u),v=h.indexOf(g);if(v>-1&&!/comment/.test(a.getTokenTypeAt(l(u,v+1)))&&(v=-1),-1==v&&(u!=c||u==f)&&i.test(h))break e;if(v>-1&&i.test(h.slice(0,v)))break e;s.push(h)}if(a.operation(function(){for(var e=f;c>=e;++e){var n=s[e-f],t=n.indexOf(g),i=t+g.length;0>t||(n.slice(i,i+d.length)==d&&(i+=d.length),r=!0,a.replaceRange("",l(e,t),l(e,i)))}}),r)return!0}var p=o.blockCommentStart||m.blockCommentStart,C=o.blockCommentEnd||m.blockCommentEnd;if(!p||!C)return!1;var b=o.blockCommentLead||m.blockCommentLead,k=a.getLine(f),L=c==f?k:a.getLine(c),x=k.indexOf(p),R=L.lastIndexOf(C);if(-1==R&&f!=c&&(L=a.getLine(--c),R=L.lastIndexOf(C)),-1==x||-1==R||!/comment/.test(a.getTokenTypeAt(l(f,x+1)))||!/comment/.test(a.getTokenTypeAt(l(c,R+1))))return!1;var O=k.lastIndexOf(p,e.ch),M=-1==O?-1:k.slice(0,e.ch).indexOf(C,O+p.length);if(-1!=O&&-1!=M&&M+C.length!=e.ch)return!1;M=L.indexOf(C,n.ch);var E=L.slice(n.ch).lastIndexOf(p,M-n.ch);return O=-1==M||-1==E?-1:n.ch+E,-1!=M&&-1!=O&&O!=n.ch?!1:(a.operation(function(){a.replaceRange("",l(c,R-(d&&L.slice(R-d.length,R)==d?d.length:0)),l(c,R+C.length));var e=x+p.length;if(d&&k.slice(e,e+d.length)==d&&(e+=d.length),a.replaceRange("",l(f,x),l(f,e)),b)for(var n=f+1;c>=n;++n){var t=a.getLine(n),o=t.indexOf(b);if(-1!=o&&!i.test(t.slice(0,o))){var r=o+b.length;d&&t.slice(r,r+d.length)==d&&(r+=d.length),a.replaceRange("",l(n,o),l(n,r))}}}),!0)})})},{"../../lib/codemirror":107}],98:[function(require,module,exports){!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){function t(e,t){return"pairs"==t&&"string"==typeof e?e:"object"==typeof e&&null!=e[t]?e[t]:f[t]}function r(e){return function(t){return o(t,e)}}function n(e){var t=e.state.closeBrackets;if(!t)return null;var r=e.getModeAt(e.getCursor());return r.closeBrackets||t}function i(r){var i=n(r);if(!i||r.getOption("disableInput"))return e.Pass;for(var a=t(i,"pairs"),o=r.listSelections(),s=0;s<o.length;s++){if(!o[s].empty())return e.Pass;var c=l(r,o[s].head);if(!c||a.indexOf(c)%2!=0)return e.Pass}for(var s=o.length-1;s>=0;s--){var f=o[s].head;r.replaceRange("",u(f.line,f.ch-1),u(f.line,f.ch+1))}}function a(r){var i=n(r),a=i&&t(i,"explode");if(!a||r.getOption("disableInput"))return e.Pass;for(var o=r.listSelections(),s=0;s<o.length;s++){if(!o[s].empty())return e.Pass;var c=l(r,o[s].head);if(!c||a.indexOf(c)%2!=0)return e.Pass}r.operation(function(){r.replaceSelection("\n\n",null),r.execCommand("goCharLeft"),o=r.listSelections();for(var e=0;e<o.length;e++){var t=o[e].head.line;r.indentLine(t,null,!0),r.indentLine(t+1,null,!0)}})}function o(r,i){var a=n(r);if(!a||r.getOption("disableInput"))return e.Pass;var o=t(a,"pairs"),l=o.indexOf(i);if(-1==l)return e.Pass;for(var f,h,d=t(a,"triples"),g=o.charAt(l+1)==i,p=r.listSelections(),v=l%2==0,m=0;m<p.length;m++){var b,x=p[m],C=x.head,h=r.getRange(C,u(C.line,C.ch+1));if(v&&!x.empty())b="surround";else if(!g&&v||h!=i)if(g&&C.ch>1&&d.indexOf(i)>=0&&r.getRange(u(C.line,C.ch-2),C)==i+i&&(C.ch<=2||r.getRange(u(C.line,C.ch-3),u(C.line,C.ch-2))!=i))b="addFour";else if(g){if(e.isWordChar(h)||!c(r,C,i))return e.Pass;b="both"}else{if(!v||r.getLine(C.line).length!=C.ch&&!s(h,o)&&!/\s/.test(h))return e.Pass;b="both"}else b=d.indexOf(i)>=0&&r.getRange(C,u(C.line,C.ch+3))==i+i+i?"skipThree":"skip";if(f){if(f!=b)return e.Pass}else f=b}var k=l%2?o.charAt(l-1):i,P=l%2?i:o.charAt(l+1);r.operation(function(){if("skip"==f)r.execCommand("goCharRight");else if("skipThree"==f)for(var e=0;3>e;e++)r.execCommand("goCharRight");else if("surround"==f){for(var t=r.getSelections(),e=0;e<t.length;e++)t[e]=k+t[e]+P;r.replaceSelections(t,"around")}else"both"==f?(r.replaceSelection(k+P,null),r.triggerElectric(k+P),r.execCommand("goCharLeft")):"addFour"==f&&(r.replaceSelection(k+k+k+k,"before"),r.execCommand("goCharRight"))})}function s(e,t){var r=t.lastIndexOf(e);return r>-1&&r%2==1}function l(e,t){var r=e.getRange(u(t.line,t.ch-1),u(t.line,t.ch+1));return 2==r.length?r:null}function c(t,r,n){var i=t.getLine(r.line),a=t.getTokenAt(r);if(/\bstring2?\b/.test(a.type))return!1;var o=new e.StringStream(i.slice(0,r.ch)+n+i.slice(r.ch),4);for(o.pos=o.start=a.start;;){var s=t.getMode().token(o,a.state);if(o.pos>=r.ch+1)return/\bstring2?\b/.test(s);o.start=o.pos}}var f={pairs:"()[]{}''\"\"",triples:"",explode:"[]{}"},u=e.Pos;e.defineOption("autoCloseBrackets",!1,function(t,r,n){n&&n!=e.Init&&(t.removeKeyMap(d),t.state.closeBrackets=null),r&&(t.state.closeBrackets=r,t.addKeyMap(d))});for(var h=f.pairs+"`",d={Backspace:i,Enter:a},g=0;g<h.length;g++)d["'"+h.charAt(g)+"'"]=r(h.charAt(g))})},{"../../lib/codemirror":107}],99:[function(require,module,exports){!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){function t(e,t,i,r){var o=e.getLineHandle(t.line),f=t.ch-1,l=f>=0&&c[o.text.charAt(f)]||c[o.text.charAt(++f)];if(!l)return null;var u=">"==l.charAt(1)?1:-1;if(i&&u>0!=(f==t.ch))return null;var h=e.getTokenTypeAt(a(t.line,f+1)),s=n(e,a(t.line,f+(u>0?1:0)),u,h||null,r);return null==s?null:{from:a(t.line,f),to:s&&s.pos,match:s&&s.ch==l.charAt(0),forward:u>0}}function n(e,t,n,i,r){for(var o=r&&r.maxScanLineLength||1e4,f=r&&r.maxScanLines||1e3,l=[],u=r&&r.bracketRegex?r.bracketRegex:/[(){}[\]]/,h=n>0?Math.min(t.line+f,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-f),s=t.line;s!=h;s+=n){var m=e.getLine(s);if(m){var d=n>0?0:m.length-1,g=n>0?m.length:-1;if(!(m.length>o))for(s==t.line&&(d=t.ch-(0>n?1:0));d!=g;d+=n){var p=m.charAt(d);if(u.test(p)&&(void 0===i||e.getTokenTypeAt(a(s,d+1))==i)){var v=c[p];if(">"==v.charAt(1)==n>0)l.push(p);else{if(!l.length)return{pos:a(s,d),ch:p};l.pop()}}}}}return s-n==(n>0?e.lastLine():e.firstLine())?!1:null}function i(e,n,i){for(var r=e.state.matchBrackets.maxHighlightLineLength||1e3,c=[],f=e.listSelections(),l=0;l<f.length;l++){var u=f[l].empty()&&t(e,f[l].head,!1,i);if(u&&e.getLine(u.from.line).length<=r){var h=u.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";c.push(e.markText(u.from,a(u.from.line,u.from.ch+1),{className:h})),u.to&&e.getLine(u.to.line).length<=r&&c.push(e.markText(u.to,a(u.to.line,u.to.ch+1),{className:h}))}}if(c.length){o&&e.state.focused&&e.focus();var s=function(){e.operation(function(){for(var e=0;e<c.length;e++)c[e].clear()})};if(!n)return s;setTimeout(s,800)}}function r(e){e.operation(function(){f&&(f(),f=null),f=i(e,!1,e.state.matchBrackets)})}var o=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),a=e.Pos,c={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},f=null;e.defineOption("matchBrackets",!1,function(t,n,i){i&&i!=e.Init&&t.off("cursorActivity",r),n&&(t.state.matchBrackets="object"==typeof n?n:{},t.on("cursorActivity",r))}),e.defineExtension("matchBrackets",function(){i(this,!0)}),e.defineExtension("findMatchingBracket",function(e,n,i){return t(this,e,n,i)}),e.defineExtension("scanForBracket",function(e,t,i,r){return n(this,e,t,i,r)})})},{"../../lib/codemirror":107}],100:[function(require,module,exports){!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.registerHelper("fold","brace",function(r,n){function t(t){for(var i=n.ch,s=0;;){var u=0>=i?-1:f.lastIndexOf(t,i-1);if(-1!=u){if(1==s&&u<n.ch)break;if(o=r.getTokenTypeAt(e.Pos(l,u+1)),!/^(comment|string)/.test(o))return u+1;i=u-1}else{if(1==s)break;s=1,i=f.length}}}var i,o,l=n.line,f=r.getLine(l),s="{",u="}",i=t("{");if(null==i&&(s="[",u="]",i=t("[")),null!=i){var a,d,c=1,g=r.lastLine();e:for(var v=l;g>=v;++v)for(var p=r.getLine(v),m=v==l?i:0;;){var P=p.indexOf(s,m),k=p.indexOf(u,m);if(0>P&&(P=p.length),0>k&&(k=p.length),m=Math.min(P,k),m==p.length)break;if(r.getTokenTypeAt(e.Pos(v,m+1))==o)if(m==P)++c;else if(!--c){a=v,d=m;break e}++m}if(null!=a&&(l!=a||d!=i))return{from:e.Pos(l,i),to:e.Pos(a,d)}}}),e.registerHelper("fold","import",function(r,n){function t(n){if(n<r.firstLine()||n>r.lastLine())return null;var t=r.getTokenAt(e.Pos(n,1));if(/\S/.test(t.string)||(t=r.getTokenAt(e.Pos(n,t.end+1))),"keyword"!=t.type||"import"!=t.string)return null;for(var i=n,o=Math.min(r.lastLine(),n+10);o>=i;++i){var l=r.getLine(i),f=l.indexOf(";");if(-1!=f)return{startCh:t.end,end:e.Pos(i,f)}}}var i,n=n.line,o=t(n);if(!o||t(n-1)||(i=t(n-2))&&i.end.line==n-1)return null;for(var l=o.end;;){var f=t(l.line+1);if(null==f)break;l=f.end}return{from:r.clipPos(e.Pos(n,o.startCh+1)),to:l}}),e.registerHelper("fold","include",function(r,n){function t(n){if(n<r.firstLine()||n>r.lastLine())return null;var t=r.getTokenAt(e.Pos(n,1));return/\S/.test(t.string)||(t=r.getTokenAt(e.Pos(n,t.end+1))),"meta"==t.type&&"#include"==t.string.slice(0,8)?t.start+8:void 0}var n=n.line,i=t(n);if(null==i||null!=t(n-1))return null;for(var o=n;;){var l=t(o+1);if(null==l)break;++o}return{from:e.Pos(n,i+1),to:r.clipPos(e.Pos(o))}})})},{"../../lib/codemirror":107}],101:[function(require,module,exports){!function(n){"object"==typeof exports&&"object"==typeof module?n(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)}(function(n){"use strict";function o(o,i,t,f){function l(n){var e=d(o,i);if(!e||e.to.line-e.from.line<u)return null;for(var r=o.findMarksAt(e.from),t=0;t<r.length;++t)if(r[t].__isFold&&"fold"!==f){if(!n)return null;e.cleared=!0,r[t].clear()}return e}if(t&&t.call){var d=t;t=null}else var d=r(o,t,"rangeFinder");"number"==typeof i&&(i=n.Pos(i,0));var u=r(o,t,"minFoldSize"),a=l(!0);if(r(o,t,"scanUp"))for(;!a&&i.line>o.firstLine();)i=n.Pos(i.line-1,0),a=l(!1);if(a&&!a.cleared&&"unfold"!==f){var c=e(o,t);n.on(c,"mousedown",function(o){s.clear(),n.e_preventDefault(o)});var s=o.markText(a.from,a.to,{replacedWith:c,clearOnEnter:!0,__isFold:!0});s.on("clear",function(e,r){n.signal(o,"unfold",o,e,r)}),n.signal(o,"fold",o,a.from,a.to)}}function e(n,o){var e=r(n,o,"widget");if("string"==typeof e){var i=document.createTextNode(e);e=document.createElement("span"),e.appendChild(i),e.className="CodeMirror-foldmarker"}return e}function r(n,o,e){if(o&&void 0!==o[e])return o[e];var r=n.options.foldOptions;return r&&void 0!==r[e]?r[e]:i[e]}n.newFoldFunction=function(n,e){return function(r,i){o(r,i,{rangeFinder:n,widget:e})}},n.defineExtension("foldCode",function(n,e,r){o(this,n,e,r)}),n.defineExtension("isFolded",function(n){for(var o=this.findMarksAt(n),e=0;e<o.length;++e)if(o[e].__isFold)return!0}),n.commands.toggleFold=function(n){n.foldCode(n.getCursor())},n.commands.fold=function(n){n.foldCode(n.getCursor(),null,"fold")},n.commands.unfold=function(n){n.foldCode(n.getCursor(),null,"unfold")},n.commands.foldAll=function(o){o.operation(function(){for(var e=o.firstLine(),r=o.lastLine();r>=e;e++)o.foldCode(n.Pos(e,0),null,"fold")})},n.commands.unfoldAll=function(o){o.operation(function(){for(var e=o.firstLine(),r=o.lastLine();r>=e;e++)o.foldCode(n.Pos(e,0),null,"unfold")})},n.registerHelper("fold","combine",function(){var n=Array.prototype.slice.call(arguments,0);return function(o,e){for(var r=0;r<n.length;++r){var i=n[r](o,e);if(i)return i}}}),n.registerHelper("fold","auto",function(n,o){for(var e=n.getHelpers(o,"fold"),r=0;r<e.length;r++){var i=e[r](n,o);if(i)return i}});var i={rangeFinder:n.fold.auto,widget:"↔",minFoldSize:0,scanUp:!1};n.defineOption("foldOptions",null),n.defineExtension("foldOption",function(n,o){return r(this,n,o)})})},{"../../lib/codemirror":107}],102:[function(require,module,exports){!function(o){"object"==typeof exports&&"object"==typeof module?o(require("../../lib/codemirror"),require("./foldcode")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./foldcode"],o):o(CodeMirror)}(function(o){"use strict";function t(o){this.options=o,this.from=this.to=0}function e(o){return o===!0&&(o={}),null==o.gutter&&(o.gutter="CodeMirror-foldgutter"),null==o.indicatorOpen&&(o.indicatorOpen="CodeMirror-foldgutter-open"),null==o.indicatorFolded&&(o.indicatorFolded="CodeMirror-foldgutter-folded"),o}function r(o,t){for(var e=o.findMarksAt(c(t)),r=0;r<e.length;++r)if(e[r].__isFold&&e[r].find().from.line==t)return e[r]}function n(o){if("string"==typeof o){var t=document.createElement("div");return t.className=o+" CodeMirror-guttermarker-subtle",t}return o.cloneNode(!0)}function i(o,t,e){var i=o.state.foldGutter.options,f=t,d=o.foldOption(i,"minFoldSize"),a=o.foldOption(i,"rangeFinder");o.eachLine(t,e,function(t){var e=null;if(r(o,f))e=n(i.indicatorFolded);else{var u=c(f,0),l=a&&a(o,u);l&&l.to.line-l.from.line>=d&&(e=n(i.indicatorOpen))}o.setGutterMarker(t,i.gutter,e),++f})}function f(o){var t=o.getViewport(),e=o.state.foldGutter;e&&(o.operation(function(){i(o,t.from,t.to)}),e.from=t.from,e.to=t.to)}function d(o,t,e){var n=o.state.foldGutter;if(n){var i=n.options;if(e==i.gutter){var f=r(o,t);f?f.clear():o.foldCode(c(t,0),i.rangeFinder)}}}function a(o){var t=o.state.foldGutter;if(t){var e=t.options;t.from=t.to=0,clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){f(o)},e.foldOnChangeTimeSpan||600)}}function u(o){var t=o.state.foldGutter;if(t){var e=t.options;clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){var e=o.getViewport();t.from==t.to||e.from-t.to>20||t.from-e.to>20?f(o):o.operation(function(){e.from<t.from&&(i(o,e.from,t.from),t.from=e.from),e.to>t.to&&(i(o,t.to,e.to),t.to=e.to)})},e.updateViewportTimeSpan||400)}}function l(o,t){var e=o.state.foldGutter;if(e){var r=t.line;r>=e.from&&r<e.to&&i(o,r,r+1)}}o.defineOption("foldGutter",!1,function(r,n,i){i&&i!=o.Init&&(r.clearGutter(r.state.foldGutter.options.gutter),r.state.foldGutter=null,r.off("gutterClick",d),r.off("change",a),r.off("viewportChange",u),r.off("fold",l),r.off("unfold",l),r.off("swapDoc",f)),n&&(r.state.foldGutter=new t(e(n)),f(r),r.on("gutterClick",d),r.on("change",a),r.on("viewportChange",u),r.on("fold",l),r.on("unfold",l),r.on("swapDoc",f))});var c=o.Pos})},{"../../lib/codemirror":107,"./foldcode":101}],103:[function(require,module,exports){!function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function i(t,i){this.cm=t,this.options=this.buildOptions(i),this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor(),this.startLen=this.cm.getLine(this.startPos.line).length;var e=this;t.on("cursorActivity",this.activityFunc=function(){e.cursorActivity()})}function e(t){return"string"==typeof t?t:t.text}function n(t,i){function e(t,e){var o;o="string"!=typeof e?function(t){return e(t,i)}:n.hasOwnProperty(e)?n[e]:e,s[t]=o}var n={Up:function(){i.moveFocus(-1)},Down:function(){i.moveFocus(1)},PageUp:function(){i.moveFocus(-i.menuSize()+1,!0)},PageDown:function(){i.moveFocus(i.menuSize()-1,!0)},Home:function(){i.setFocus(0)},End:function(){i.setFocus(i.length-1)},Enter:i.pick,Tab:i.pick,Esc:i.close},o=t.options.customKeys,s=o?{}:n;if(o)for(var c in o)o.hasOwnProperty(c)&&e(c,o[c]);var h=t.options.extraKeys;if(h)for(var c in h)h.hasOwnProperty(c)&&e(c,h[c]);return s}function o(t,i){for(;i&&i!=t;){if("LI"===i.nodeName.toUpperCase()&&i.parentNode==t)return i;i=i.parentNode}}function s(i,s){this.completion=i,this.data=s,this.picked=!1;var r=this,l=i.cm,a=this.hints=document.createElement("ul");a.className="CodeMirror-hints",this.selectedHint=s.selectedHint||0;for(var u=s.list,f=0;f<u.length;++f){var d=a.appendChild(document.createElement("li")),p=u[f],m=c+(f!=this.selectedHint?"":" "+h);null!=p.className&&(m=p.className+" "+m),d.className=m,p.render?p.render(d,s,p):d.appendChild(document.createTextNode(p.displayText||e(p))),d.hintId=f}var g=l.cursorCoords(i.options.alignWithWord?s.from:null),v=g.left,y=g.bottom,w=!0;a.style.left=v+"px",a.style.top=y+"px";var k=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),H=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(i.options.container||document.body).appendChild(a);var C=a.getBoundingClientRect(),b=C.bottom-H;if(b>0){var A=C.bottom-C.top,x=g.top-(g.bottom-C.top);if(x-A>0)a.style.top=(y=g.top-A)+"px",w=!1;else if(A>H){a.style.height=H-5+"px",a.style.top=(y=g.bottom-C.top)+"px";var T=l.getCursor();s.from.ch!=T.ch&&(g=l.cursorCoords(T),a.style.left=(v=g.left)+"px",C=a.getBoundingClientRect())}}var M=C.right-k;if(M>0&&(C.right-C.left>k&&(a.style.width=k-5+"px",M-=C.right-C.left-k),a.style.left=(v=g.left-M)+"px"),l.addKeyMap(this.keyMap=n(i,{moveFocus:function(t,i){r.changeActive(r.selectedHint+t,i)},setFocus:function(t){r.changeActive(t)},menuSize:function(){return r.screenAmount()},length:u.length,close:function(){i.close()},pick:function(){r.pick()},data:s})),i.options.closeOnUnfocus){var F;l.on("blur",this.onBlur=function(){F=setTimeout(function(){i.close()},100)}),l.on("focus",this.onFocus=function(){clearTimeout(F)})}var N=l.getScrollInfo();return l.on("scroll",this.onScroll=function(){var t=l.getScrollInfo(),e=l.getWrapperElement().getBoundingClientRect(),n=y+N.top-t.top,o=n-(window.pageYOffset||(document.documentElement||document.body).scrollTop);return w||(o+=a.offsetHeight),o<=e.top||o>=e.bottom?i.close():(a.style.top=n+"px",void(a.style.left=v+N.left-t.left+"px"))}),t.on(a,"dblclick",function(t){var i=o(a,t.target||t.srcElement);i&&null!=i.hintId&&(r.changeActive(i.hintId),r.pick())}),t.on(a,"click",function(t){var e=o(a,t.target||t.srcElement);e&&null!=e.hintId&&(r.changeActive(e.hintId),i.options.completeOnSingleClick&&r.pick())}),t.on(a,"mousedown",function(){setTimeout(function(){l.focus()},20)}),t.signal(s,"select",u[0],a.firstChild),!0}var c="CodeMirror-hint",h="CodeMirror-hint-active";t.showHint=function(t,i,e){if(!i)return t.showHint(e);e&&e.async&&(i.async=!0);var n={hint:i};if(e)for(var o in e)n[o]=e[o];return t.showHint(n)},t.defineExtension("showHint",function(e){if(!(this.listSelections().length>1||this.somethingSelected())){this.state.completionActive&&this.state.completionActive.close();var n=this.state.completionActive=new i(this,e);n.options.hint&&(t.signal(this,"startCompletion",this),n.update(!0))}});var r=window.requestAnimationFrame||function(t){return setTimeout(t,1e3/60)},l=window.cancelAnimationFrame||clearTimeout;i.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&t.signal(this.data,"close"),this.widget&&this.widget.close(),t.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(i,n){var o=i.list[n];o.hint?o.hint(this.cm,i,o):this.cm.replaceRange(e(o),o.from||i.from,o.to||i.to,"complete"),t.signal(i,"pick",o),this.close()},cursorActivity:function(){this.debounce&&(l(this.debounce),this.debounce=0);var t=this.cm.getCursor(),i=this.cm.getLine(t.line);if(t.line!=this.startPos.line||i.length-t.ch!=this.startLen-this.startPos.ch||t.ch<this.startPos.ch||this.cm.somethingSelected()||t.ch&&this.options.closeCharacters.test(i.charAt(t.ch-1)))this.close();else{var e=this;this.debounce=r(function(){e.update()}),this.widget&&this.widget.disable()}},update:function(t){if(null!=this.tick)if(this.options.hint.async){var i=++this.tick,e=this;this.options.hint(this.cm,function(n){e.tick==i&&e.finishUpdate(n,t)},this.options)}else this.finishUpdate(this.options.hint(this.cm,this.options),t)},finishUpdate:function(i,e){this.data&&t.signal(this.data,"update"),i&&this.data&&t.cmpPos(i.from,this.data.from)&&(i=null),this.data=i;var n=this.widget&&this.widget.picked||e&&this.options.completeSingle;this.widget&&this.widget.close(),i&&i.list.length&&(n&&1==i.list.length?this.pick(i,0):(this.widget=new s(this,i),t.signal(i,"shown")))},buildOptions:function(t){var i=this.cm.options.hintOptions,e={};for(var n in a)e[n]=a[n];if(i)for(var n in i)void 0!==i[n]&&(e[n]=i[n]);if(t)for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}},s.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var t=this.completion.cm;this.completion.options.closeOnUnfocus&&(t.off("blur",this.onBlur),t.off("focus",this.onFocus)),t.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var t=this;this.keyMap={Enter:function(){t.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(i,e){if(i>=this.data.list.length?i=e?this.data.list.length-1:0:0>i&&(i=e?0:this.data.list.length-1),this.selectedHint!=i){var n=this.hints.childNodes[this.selectedHint];n.className=n.className.replace(" "+h,""),n=this.hints.childNodes[this.selectedHint=i],n.className+=" "+h,n.offsetTop<this.hints.scrollTop?this.hints.scrollTop=n.offsetTop-3:n.offsetTop+n.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=n.offsetTop+n.offsetHeight-this.hints.clientHeight+3),t.signal(this.data,"select",this.data.list[this.selectedHint],n)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},t.registerHelper("hint","auto",function(i,e){var n,o=i.getHelpers(i.getCursor(),"hint");if(o.length)for(var s=0;s<o.length;s++){var c=o[s](i,e);if(c&&c.list.length)return c}else if(n=i.getHelper(i.getCursor(),"hintWords")){if(n)return t.hint.fromList(i,{words:n})}else if(t.hint.anyword)return t.hint.anyword(i,e)}),t.registerHelper("hint","fromList",function(i,e){var n=i.getCursor(),o=i.getTokenAt(n),s=t.Pos(n.line,o.end);if(o.string&&/\w/.test(o.string[o.string.length-1]))var c=o.string,h=t.Pos(n.line,o.start);else var c="",h=s;for(var r=[],l=0;l<e.words.length;l++){var a=e.words[l];a.slice(0,c.length)==c&&r.push(a)}return r.length?{list:r,from:h,to:s}:void 0}),t.commands.autocomplete=t.showHint;var a={hint:t.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!1,container:null,customKeys:null,extraKeys:null};t.defineOption("hintOptions",null)})},{"../../lib/codemirror":107}],104:[function(require,module,exports){!function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function e(e,n){function o(e){return r.parentNode?(r.style.top=Math.max(0,e.clientY-r.offsetHeight-5)+"px",void(r.style.left=e.clientX+5+"px")):t.off(document,"mousemove",o)}var r=document.createElement("div");return r.className="CodeMirror-lint-tooltip",r.appendChild(n.cloneNode(!0)),document.body.appendChild(r),t.on(document,"mousemove",o),o(e),null!=r.style.opacity&&(r.style.opacity=1),r}function n(t){t.parentNode&&t.parentNode.removeChild(t)}function o(t){t.parentNode&&(null==t.style.opacity&&n(t),t.style.opacity=0,setTimeout(function(){n(t)},600))}function r(n,r,i){function a(){t.off(i,"mouseout",a),l&&(o(l),l=null)}var l=e(n,r),s=setInterval(function(){if(l)for(var t=i;;t=t.parentNode){if(t&&11==t.nodeType&&(t=t.host),t==document.body)return;if(!t){a();break}}return l?void 0:clearInterval(s)},400);t.on(i,"mouseout",a)}function i(t,e,n){this.marked=[],this.options=e,this.timeout=null,this.hasGutter=n,this.onMouseOver=function(e){h(t,e)}}function a(t,e){return e instanceof Function?{getAnnotations:e}:(e&&e!==!0||(e={}),e)}function l(t){var e=t.state.lint;e.hasGutter&&t.clearGutter(g);for(var n=0;n<e.marked.length;++n)e.marked[n].clear();e.marked.length=0}function s(e,n,o,i){var a=document.createElement("div"),l=a;return a.className="CodeMirror-lint-marker-"+n,o&&(l=a.appendChild(document.createElement("div")),l.className="CodeMirror-lint-marker-multiple"),0!=i&&t.on(l,"mouseover",function(t){r(t,e,l)}),a}function u(t,e){return"error"==t?t:e}function c(t){for(var e=[],n=0;n<t.length;++n){var o=t[n],r=o.from.line;(e[r]||(e[r]=[])).push(o)}return e}function f(t){var e=t.severity;e||(e="error");var n=document.createElement("div");return n.className="CodeMirror-lint-message-"+e,n.appendChild(document.createTextNode(t.message)),n}function m(e){var n=e.state.lint,o=n.options,r=o.options||o,i=o.getAnnotations||e.getHelper(t.Pos(0,0),"lint");i&&(o.async||i.async?i(e.getValue(),d,r,e):d(e,i(e.getValue(),r,e)))}function d(t,e){l(t);for(var n=t.state.lint,o=n.options,r=c(e),i=0;i<r.length;++i){var a=r[i];if(a){for(var m=null,d=n.hasGutter&&document.createDocumentFragment(),p=0;p<a.length;++p){var v=a[p],h=v.severity;h||(h="error"),m=u(m,h),o.formatAnnotation&&(v=o.formatAnnotation(v)),n.hasGutter&&d.appendChild(f(v)),v.to&&n.marked.push(t.markText(v.from,v.to,{className:"CodeMirror-lint-mark-"+h,__annotation:v}))}n.hasGutter&&t.setGutterMarker(i,g,s(d,m,a.length>1,n.options.tooltips))}}o.onUpdateLinting&&o.onUpdateLinting(e,r,t)}function p(t){var e=t.state.lint;e&&(clearTimeout(e.timeout),e.timeout=setTimeout(function(){m(t)},e.options.delay||500))}function v(t,e){var n=e.target||e.srcElement;r(e,f(t),n)}function h(t,e){var n=e.target||e.srcElement;if(/\bCodeMirror-lint-mark-/.test(n.className))for(var o=n.getBoundingClientRect(),r=(o.left+o.right)/2,i=(o.top+o.bottom)/2,a=t.findMarksAt(t.coordsChar({left:r,top:i},"client")),l=0;l<a.length;++l){var s=a[l].__annotation;if(s)return v(s,e)}}var g="CodeMirror-lint-markers";t.defineOption("lint",!1,function(e,n,o){if(o&&o!=t.Init&&(l(e),e.state.lint.options.lintOnChange!==!1&&e.off("change",p),t.off(e.getWrapperElement(),"mouseover",e.state.lint.onMouseOver),clearTimeout(e.state.lint.timeout),delete e.state.lint),n){for(var r=e.getOption("gutters"),s=!1,u=0;u<r.length;++u)r[u]==g&&(s=!0);var c=e.state.lint=new i(e,a(e,n),s);c.options.lintOnChange!==!1&&e.on("change",p),0!=c.options.tooltips&&t.on(e.getWrapperElement(),"mouseover",c.onMouseOver),m(e)}}),t.defineExtension("performLint",function(){this.state.lint&&m(this)})})},{"../../lib/codemirror":107}],105:[function(require,module,exports){!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t,r,o){if(this.atOccurrence=!1,this.doc=e,null==o&&"string"==typeof t&&(o=!1),r=r?e.clipPos(r):i(0,0),this.pos={from:r,to:r},"string"!=typeof t)t.global||(t=new RegExp(t.source,t.ignoreCase?"ig":"g")),this.matches=function(n,r){if(n){t.lastIndex=0;for(var o,s,l=e.getLine(r.line).slice(0,r.ch),h=0;;){t.lastIndex=h;var c=t.exec(l);if(!c)break;if(o=c,s=o.index,h=o.index+(o[0].length||1),h==l.length)break}var f=o&&o[0].length||0;f||(0==s&&0==l.length?o=void 0:s!=e.getLine(r.line).length&&f++)}else{t.lastIndex=r.ch;var l=e.getLine(r.line),o=t.exec(l),f=o&&o[0].length||0,s=o&&o.index;s+f==l.length||f||(f=1)}return o&&f?{from:i(r.line,s),to:i(r.line,s+f),match:o}:void 0};else{var s=t;o&&(t=t.toLowerCase());var l=o?function(e){return e.toLowerCase()}:function(e){return e},h=t.split("\n");if(1==h.length)t.length?this.matches=function(r,o){if(r){var h=e.getLine(o.line).slice(0,o.ch),c=l(h),f=c.lastIndexOf(t);if(f>-1)return f=n(h,c,f),{from:i(o.line,f),to:i(o.line,f+s.length)}}else{var h=e.getLine(o.line).slice(o.ch),c=l(h),f=c.indexOf(t);if(f>-1)return f=n(h,c,f)+o.ch,{from:i(o.line,f),to:i(o.line,f+s.length)}}}:this.matches=function(){};else{var c=s.split("\n");this.matches=function(t,n){var r=h.length-1;if(t){if(n.line-(h.length-1)<e.firstLine())return;if(l(e.getLine(n.line).slice(0,c[r].length))!=h[h.length-1])return;for(var o=i(n.line,c[r].length),s=n.line-1,f=r-1;f>=1;--f,--s)if(h[f]!=l(e.getLine(s)))return;var u=e.getLine(s),a=u.length-c[0].length;if(l(u.slice(a))!=h[0])return;return{from:i(s,a),to:o}}if(!(n.line+(h.length-1)>e.lastLine())){var u=e.getLine(n.line),a=u.length-c[0].length;if(l(u.slice(a))==h[0]){for(var g=i(n.line,a),s=n.line+1,f=1;r>f;++f,++s)if(h[f]!=l(e.getLine(s)))return;if(l(e.getLine(s).slice(0,c[r].length))==h[r])return{from:g,to:i(s,c[r].length)}}}}}}}function n(e,t,n){if(e.length==t.length)return n;for(var i=Math.min(n,e.length);;){var r=e.slice(0,i).toLowerCase().length;if(n>r)++i;else{if(!(r>n))return i;--i}}}var i=e.Pos;t.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(e){function t(e){var t=i(e,0);return n.pos={from:t,to:t},n.atOccurrence=!1,!1}for(var n=this,r=this.doc.clipPos(e?this.pos.from:this.pos.to);;){if(this.pos=this.matches(e,r))return this.atOccurrence=!0,this.pos.match||!0;if(e){if(!r.line)return t(0);r=i(r.line-1,this.doc.getLine(r.line-1).length)}else{var o=this.doc.lineCount();if(r.line==o-1)return t(o);r=i(r.line+1,0)}}},from:function(){return this.atOccurrence?this.pos.from:void 0},to:function(){return this.atOccurrence?this.pos.to:void 0},replace:function(t,n){if(this.atOccurrence){var r=e.splitLines(t);this.doc.replaceRange(r,this.pos.from,this.pos.to,n),
this.pos.to=i(this.pos.from.line+r.length-1,r[r.length-1].length+(1==r.length?this.pos.from.ch:0))}}},e.defineExtension("getSearchCursor",function(e,n,i){return new t(this.doc,e,n,i)}),e.defineDocExtension("getSearchCursor",function(e,n,i){return new t(this,e,n,i)}),e.defineExtension("selectMatches",function(t,n){for(var i=[],r=this.getSearchCursor(t,this.getCursor("from"),n);r.findNext()&&!(e.cmpPos(r.to(),this.getCursor("to"))>0);)i.push({anchor:r.from(),head:r.to()});i.length&&this.setSelections(i,0)})})},{"../../lib/codemirror":107}],106:[function(require,module,exports){!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../lib/codemirror"),require("../addon/search/searchcursor"),require("../addon/edit/matchbrackets")):"function"==typeof define&&define.amd?define(["../lib/codemirror","../addon/search/searchcursor","../addon/edit/matchbrackets"],e):e(CodeMirror)}(function(e){"use strict";function t(t,n,o){if(0>o&&0==n.ch)return t.clipPos(h(n.line-1));var r=t.getLine(n.line);if(o>0&&n.ch>=r.length)return t.clipPos(h(n.line+1,0));for(var i,a="start",l=n.ch,s=0>o?0:r.length,c=0;l!=s;l+=o,c++){var f=r.charAt(0>o?l-1:l),u="_"!=f&&e.isWordChar(f)?"w":"o";if("w"==u&&f.toUpperCase()==f&&(u="W"),"start"==a)"o"!=u&&(a="in",i=u);else if("in"==a&&i!=u){if("w"==i&&"W"==u&&0>o&&l--,"W"==i&&"w"==u&&o>0){i="w";continue}break}}return h(n.line,l)}function n(e,n){e.extendSelectionsBy(function(o){return e.display.shift||e.doc.extend||o.empty()?t(e.doc,o.head,n):0>n?o.from():o.to()})}function o(e,t){e.operation(function(){for(var n=e.listSelections().length,o=[],r=-1,i=0;n>i;i++){var a=e.listSelections()[i].head;if(!(a.line<=r)){var l=h(a.line+(t?0:1),0);e.replaceRange("\n",l,null,"+insertLine"),e.indentLine(l.line,null,!0),o.push({head:l,anchor:l}),r=a.line+1}}e.setSelections(o)})}function r(t,n){for(var o=n.ch,r=o,i=t.getLine(n.line);o&&e.isWordChar(i.charAt(o-1));)--o;for(;r<i.length&&e.isWordChar(i.charAt(r));)++r;return{from:h(n.line,o),to:h(n.line,r),word:i.slice(o,r)}}function i(e){var t=e.getCursor(),n=e.scanForBracket(t,-1);if(n)for(;;){var o=e.scanForBracket(t,1);if(!o)return;if(o.ch==g.charAt(g.indexOf(n.ch)+1))return e.setSelection(h(n.pos.line,n.pos.ch+1),o.pos,!1),!0;t=h(o.pos.line,o.pos.ch+1)}}function a(e,t){for(var n,o=e.listSelections(),r=[],i=0;i<o.length;i++){var a=o[i];if(!a.empty()){for(var l=a.from().line,s=a.to().line;i<o.length-1&&o[i+1].from().line==s;)s=a[++i].to().line;r.push(l,s)}}r.length?n=!0:r.push(e.firstLine(),e.lastLine()),e.operation(function(){for(var o=[],i=0;i<r.length;i+=2){var a=r[i],l=r[i+1],s=h(a,0),c=h(l),f=e.getRange(s,c,!1);t?f.sort():f.sort(function(e,t){var n=e.toUpperCase(),o=t.toUpperCase();return n!=o&&(e=n,t=o),t>e?-1:e==t?0:1}),e.replaceRange(f,s,c),n&&o.push({anchor:s,head:c})}n&&e.setSelections(o,0)})}function l(t,n){t.operation(function(){for(var o=t.listSelections(),i=[],a=[],l=0;l<o.length;l++){var s=o[l];s.empty()?(i.push(l),a.push("")):a.push(n(t.getRange(s.from(),s.to())))}t.replaceSelections(a,"around","case");for(var c,l=i.length-1;l>=0;l--){var s=o[i[l]];if(!(c&&e.cmpPos(s.head,c)>0)){var f=r(t,s.head);c=f.from,t.replaceRange(n(f.word),f.from,f.to)}}})}function s(t){var n=t.getCursor("from"),o=t.getCursor("to");if(0==e.cmpPos(n,o)){var i=r(t,n);if(!i.word)return;n=i.from,o=i.to}return{from:n,to:o,query:t.getRange(n,o),word:i}}function c(e,t){var n=s(e);if(n){var o=n.query,r=e.getSearchCursor(o,t?n.to:n.from);(t?r.findNext():r.findPrevious())?e.setSelection(r.from(),r.to()):(r=e.getSearchCursor(o,t?h(e.firstLine(),0):e.clipPos(h(e.lastLine()))),(t?r.findNext():r.findPrevious())?e.setSelection(r.from(),r.to()):n.word&&e.setSelection(n.from,n.to))}}var f=e.keyMap.sublime={fallthrough:"default"},u=e.commands,h=e.Pos,d=e.keyMap.default==e.keyMap.macDefault,p=d?"Cmd-":"Ctrl-";u[f["Alt-Left"]="goSubwordLeft"]=function(e){n(e,-1)},u[f["Alt-Right"]="goSubwordRight"]=function(e){n(e,1)};var m=d?"Ctrl-Alt-":"Ctrl-";u[f[m+"Up"]="scrollLineUp"]=function(e){var t=e.getScrollInfo();if(!e.somethingSelected()){var n=e.lineAtHeight(t.top+t.clientHeight,"local");e.getCursor().line>=n&&e.execCommand("goLineUp")}e.scrollTo(null,t.top-e.defaultTextHeight())},u[f[m+"Down"]="scrollLineDown"]=function(e){var t=e.getScrollInfo();if(!e.somethingSelected()){var n=e.lineAtHeight(t.top,"local")+1;e.getCursor().line<=n&&e.execCommand("goLineDown")}e.scrollTo(null,t.top+e.defaultTextHeight())},u[f["Shift-"+p+"L"]="splitSelectionByLine"]=function(e){for(var t=e.listSelections(),n=[],o=0;o<t.length;o++)for(var r=t[o].from(),i=t[o].to(),a=r.line;a<=i.line;++a)i.line>r.line&&a==i.line&&0==i.ch||n.push({anchor:a==r.line?r:h(a,0),head:a==i.line?i:h(a)});e.setSelections(n,0)},f["Shift-Tab"]="indentLess",u[f.Esc="singleSelectionTop"]=function(e){var t=e.listSelections()[0];e.setSelection(t.anchor,t.head,{scroll:!1})},u[f[p+"L"]="selectLine"]=function(e){for(var t=e.listSelections(),n=[],o=0;o<t.length;o++){var r=t[o];n.push({anchor:h(r.from().line,0),head:h(r.to().line+1,0)})}e.setSelections(n)},f["Shift-"+p+"K"]="deleteLine",u[f[p+"Enter"]="insertLineAfter"]=function(e){o(e,!1)},u[f["Shift-"+p+"Enter"]="insertLineBefore"]=function(e){o(e,!0)},u[f[p+"D"]="selectNextOccurrence"]=function(t){var n=t.getCursor("from"),o=t.getCursor("to"),i=t.state.sublimeFindFullWord==t.doc.sel;if(0==e.cmpPos(n,o)){var a=r(t,n);if(!a.word)return;t.setSelection(a.from,a.to),i=!0}else{var l=t.getRange(n,o),s=i?new RegExp("\\b"+l+"\\b"):l,c=t.getSearchCursor(s,o);c.findNext()?t.addSelection(c.from(),c.to()):(c=t.getSearchCursor(s,h(t.firstLine(),0)),c.findNext()&&t.addSelection(c.from(),c.to()))}i&&(t.state.sublimeFindFullWord=t.doc.sel)};var g="(){}[]";u[f["Shift-"+p+"Space"]="selectScope"]=function(e){i(e)||e.execCommand("selectAll")},u[f["Shift-"+p+"M"]="selectBetweenBrackets"]=function(t){return i(t)?void 0:e.Pass},u[f[p+"M"]="goToBracket"]=function(t){t.extendSelectionsBy(function(n){var o=t.scanForBracket(n.head,1);if(o&&0!=e.cmpPos(o.pos,n.head))return o.pos;var r=t.scanForBracket(n.head,-1);return r&&h(r.pos.line,r.pos.ch+1)||n.head})};var v=d?"Cmd-Ctrl-":"Shift-Ctrl-";u[f[v+"Up"]="swapLineUp"]=function(e){for(var t=e.listSelections(),n=[],o=e.firstLine()-1,r=[],i=0;i<t.length;i++){var a=t[i],l=a.from().line-1,s=a.to().line;r.push({anchor:h(a.anchor.line-1,a.anchor.ch),head:h(a.head.line-1,a.head.ch)}),0!=a.to().ch||a.empty()||--s,l>o?n.push(l,s):n.length&&(n[n.length-1]=s),o=s}e.operation(function(){for(var t=0;t<n.length;t+=2){var o=n[t],i=n[t+1],a=e.getLine(o);e.replaceRange("",h(o,0),h(o+1,0),"+swapLine"),i>e.lastLine()?e.replaceRange("\n"+a,h(e.lastLine()),null,"+swapLine"):e.replaceRange(a+"\n",h(i,0),null,"+swapLine")}e.setSelections(r),e.scrollIntoView()})},u[f[v+"Down"]="swapLineDown"]=function(e){for(var t=e.listSelections(),n=[],o=e.lastLine()+1,r=t.length-1;r>=0;r--){var i=t[r],a=i.to().line+1,l=i.from().line;0!=i.to().ch||i.empty()||a--,o>a?n.push(a,l):n.length&&(n[n.length-1]=l),o=l}e.operation(function(){for(var t=n.length-2;t>=0;t-=2){var o=n[t],r=n[t+1],i=e.getLine(o);o==e.lastLine()?e.replaceRange("",h(o-1),h(o),"+swapLine"):e.replaceRange("",h(o,0),h(o+1,0),"+swapLine"),e.replaceRange(i+"\n",h(r,0),null,"+swapLine")}e.scrollIntoView()})},f[p+"/"]="toggleComment",u[f[p+"J"]="joinLines"]=function(e){for(var t=e.listSelections(),n=[],o=0;o<t.length;o++){for(var r=t[o],i=r.from(),a=i.line,l=r.to().line;o<t.length-1&&t[o+1].from().line==l;)l=t[++o].to().line;n.push({start:a,end:l,anchor:!r.empty()&&i})}e.operation(function(){for(var t=0,o=[],r=0;r<n.length;r++){for(var i,a=n[r],l=a.anchor&&h(a.anchor.line-t,a.anchor.ch),s=a.start;s<=a.end;s++){var c=s-t;s==a.end&&(i=h(c,e.getLine(c).length+1)),c<e.lastLine()&&(e.replaceRange(" ",h(c),h(c+1,/^\s*/.exec(e.getLine(c+1))[0].length)),++t)}o.push({anchor:l||i,head:i})}e.setSelections(o,0)})},u[f["Shift-"+p+"D"]="duplicateLine"]=function(e){e.operation(function(){for(var t=e.listSelections().length,n=0;t>n;n++){var o=e.listSelections()[n];o.empty()?e.replaceRange(e.getLine(o.head.line)+"\n",h(o.head.line,0)):e.replaceRange(e.getRange(o.from(),o.to()),o.from())}e.scrollIntoView()})},f[p+"T"]="transposeChars",u[f.F9="sortLines"]=function(e){a(e,!0)},u[f[p+"F9"]="sortLinesInsensitive"]=function(e){a(e,!1)},u[f.F2="nextBookmark"]=function(e){var t=e.state.sublimeBookmarks;if(t)for(;t.length;){var n=t.shift(),o=n.find();if(o)return t.push(n),e.setSelection(o.from,o.to)}},u[f["Shift-F2"]="prevBookmark"]=function(e){var t=e.state.sublimeBookmarks;if(t)for(;t.length;){t.unshift(t.pop());var n=t[t.length-1].find();if(n)return e.setSelection(n.from,n.to);t.pop()}},u[f[p+"F2"]="toggleBookmark"]=function(e){for(var t=e.listSelections(),n=e.state.sublimeBookmarks||(e.state.sublimeBookmarks=[]),o=0;o<t.length;o++){for(var r=t[o].from(),i=t[o].to(),a=e.findMarks(r,i),l=0;l<a.length;l++)if(a[l].sublimeBookmark){a[l].clear();for(var s=0;s<n.length;s++)n[s]==a[l]&&n.splice(s--,1);break}l==a.length&&n.push(e.markText(r,i,{sublimeBookmark:!0,clearWhenEmpty:!1}))}},u[f["Shift-"+p+"F2"]="clearBookmarks"]=function(e){var t=e.state.sublimeBookmarks;if(t)for(var n=0;n<t.length;n++)t[n].clear();t.length=0},u[f["Alt-F2"]="selectBookmarks"]=function(e){var t=e.state.sublimeBookmarks,n=[];if(t)for(var o=0;o<t.length;o++){var r=t[o].find();r?n.push({anchor:r.from,head:r.to}):t.splice(o--,0)}n.length&&e.setSelections(n,0)},f["Alt-Q"]="wrapLines";var S=p+"K ";f[S+p+"Backspace"]="delLineLeft",u[f.Backspace="smartBackspace"]=function(t){if(t.somethingSelected())return e.Pass;var n=t.getCursor(),o=t.getRange({line:n.line,ch:0},n),r=e.countColumn(o,null,t.getOption("tabSize"));return o&&!/\S/.test(o)&&r%t.getOption("indentUnit")==0?t.indentSelection("subtract"):e.Pass},u[f[S+p+"K"]="delLineRight"]=function(e){e.operation(function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange("",t[n].anchor,h(t[n].to().line),"+delete");e.scrollIntoView()})},u[f[S+p+"U"]="upcaseAtCursor"]=function(e){l(e,function(e){return e.toUpperCase()})},u[f[S+p+"L"]="downcaseAtCursor"]=function(e){l(e,function(e){return e.toLowerCase()})},u[f[S+p+"Space"]="setSublimeMark"]=function(e){e.state.sublimeMark&&e.state.sublimeMark.clear(),e.state.sublimeMark=e.setBookmark(e.getCursor())},u[f[S+p+"A"]="selectToSublimeMark"]=function(e){var t=e.state.sublimeMark&&e.state.sublimeMark.find();t&&e.setSelection(e.getCursor(),t)},u[f[S+p+"W"]="deleteToSublimeMark"]=function(t){var n=t.state.sublimeMark&&t.state.sublimeMark.find();if(n){var o=t.getCursor(),r=n;if(e.cmpPos(o,r)>0){var i=r;r=o,o=i}t.state.sublimeKilled=t.getRange(o,r),t.replaceRange("",o,r)}},u[f[S+p+"X"]="swapWithSublimeMark"]=function(e){var t=e.state.sublimeMark&&e.state.sublimeMark.find();t&&(e.state.sublimeMark.clear(),e.state.sublimeMark=e.setBookmark(e.getCursor()),e.setCursor(t))},u[f[S+p+"Y"]="sublimeYank"]=function(e){null!=e.state.sublimeKilled&&e.replaceSelection(e.state.sublimeKilled,null,"paste")},f[S+p+"G"]="clearBookmarks",u[f[S+p+"C"]="showInCenter"]=function(e){var t=e.cursorCoords(null,"local");e.scrollTo(null,(t.top+t.bottom)/2-e.getScrollInfo().clientHeight/2)},u[f["Shift-Alt-Up"]="selectLinesUpward"]=function(e){e.operation(function(){for(var t=e.listSelections(),n=0;n<t.length;n++){var o=t[n];o.head.line>e.firstLine()&&e.addSelection(h(o.head.line-1,o.head.ch))}})},u[f["Shift-Alt-Down"]="selectLinesDownward"]=function(e){e.operation(function(){for(var t=e.listSelections(),n=0;n<t.length;n++){var o=t[n];o.head.line<e.lastLine()&&e.addSelection(h(o.head.line+1,o.head.ch))}})},u[f[p+"F3"]="findUnder"]=function(e){c(e,!0)},u[f["Shift-"+p+"F3"]="findUnderPrevious"]=function(e){c(e,!1)},u[f["Alt-F3"]="findAllUnder"]=function(e){var t=s(e);if(t){for(var n=e.getSearchCursor(t.query),o=[],r=-1;n.findNext();)o.push({anchor:n.from(),head:n.to()}),n.from().line<=t.from.line&&n.from().ch<=t.from.ch&&r++;e.setSelections(o,r)}},f["Shift-"+p+"["]="fold",f["Shift-"+p+"]"]="unfold",f[S+p+"0"]=f[S+p+"j"]="unfoldAll",f[p+"I"]="findIncremental",f["Shift-"+p+"I"]="findIncrementalReverse",f[p+"H"]="replace",f.F3="findNext",f["Shift-F3"]="findPrev",e.normalizeKeyMap(f)})},{"../addon/edit/matchbrackets":99,"../addon/search/searchcursor":105,"../lib/codemirror":107}],107:[function(require,module,exports){!function(e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else{if("function"==typeof define&&define.amd)return define([],e);this.CodeMirror=e()}}(function(){"use strict";function e(r,n){if(!(this instanceof e))return new e(r,n);this.options=n=n?Ii(n):{},Ii(qo,n,!1),d(n);var i=n.value;"string"==typeof i&&(i=new wl(i,n.mode,null,n.lineSeparator)),this.doc=i;var o=new e.inputStyles[n.inputStyle](this),l=this.display=new t(r,i,o);l.wrapper.CodeMirror=this,u(this),s(this),n.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),n.autofocus&&!ko&&l.input.focus(),m(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Ni,keySeq:null,specialChars:null};var a=this;vo&&11>mo&&setTimeout(function(){a.display.input.reset(!0)},20),Gt(this),Yi(),bt(this),this.curOp.forceUpdate=!0,$n(this,i),n.autofocus&&!ko||a.hasFocus()?setTimeout(zi(gr,this),20):vr(this);for(var c in Zo)Zo.hasOwnProperty(c)&&Zo[c](this,n[c],Qo);C(this),n.finishInit&&n.finishInit(this);for(var f=0;f<rl.length;++f)rl[f](this);xt(this),yo&&n.lineWrapping&&"optimizelegibility"==getComputedStyle(l.lineDiv).textRendering&&(l.lineDiv.style.textRendering="auto")}function t(e,t,r){var n=this;this.input=r,n.scrollbarFiller=Gi("div",null,"CodeMirror-scrollbar-filler"),n.scrollbarFiller.setAttribute("cm-not-content","true"),n.gutterFiller=Gi("div",null,"CodeMirror-gutter-filler"),n.gutterFiller.setAttribute("cm-not-content","true"),n.lineDiv=Gi("div",null,"CodeMirror-code"),n.selectionDiv=Gi("div",null,null,"position: relative; z-index: 1"),n.cursorDiv=Gi("div",null,"CodeMirror-cursors"),n.measure=Gi("div",null,"CodeMirror-measure"),n.lineMeasure=Gi("div",null,"CodeMirror-measure"),n.lineSpace=Gi("div",[n.measure,n.lineMeasure,n.selectionDiv,n.cursorDiv,n.lineDiv],null,"position: relative; outline: none"),n.mover=Gi("div",[Gi("div",[n.lineSpace],"CodeMirror-lines")],null,"position: relative"),n.sizer=Gi("div",[n.mover],"CodeMirror-sizer"),n.sizerWidth=null,n.heightForcer=Gi("div",null,null,"position: absolute; height: "+Wl+"px; width: 1px;"),n.gutters=Gi("div",null,"CodeMirror-gutters"),n.lineGutter=null,n.scroller=Gi("div",[n.sizer,n.heightForcer,n.gutters],"CodeMirror-scroll"),n.scroller.setAttribute("tabIndex","-1"),n.wrapper=Gi("div",[n.scrollbarFiller,n.gutterFiller,n.scroller],"CodeMirror"),vo&&8>mo&&(n.gutters.style.zIndex=-1,n.scroller.style.paddingRight=0),yo||ho&&ko||(n.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(n.wrapper):e(n.wrapper)),n.viewFrom=n.viewTo=t.first,n.reportedViewFrom=n.reportedViewTo=t.first,n.view=[],n.renderedView=null,n.externalMeasured=null,n.viewOffset=0,n.lastWrapHeight=n.lastWrapWidth=0,n.updateLineNumbers=null,n.nativeBarWidth=n.barHeight=n.barWidth=0,n.scrollbarsClipped=!1,n.lineNumWidth=n.lineNumInnerWidth=n.lineNumChars=null,n.alignWidgets=!1,n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.maxLine=null,n.maxLineLength=0,n.maxLineChanged=!1,n.wheelDX=n.wheelDY=n.wheelStartX=n.wheelStartY=null,n.shift=!1,n.selForContextMenu=null,n.activeTouch=null,r.init(n)}function r(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),n(t)}function n(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,Fe(e,100),e.state.modeGen++,e.curOp&&Pt(e)}function i(e){e.options.lineWrapping?(Xl(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(jl(e.display.wrapper,"CodeMirror-wrap"),h(e)),l(e),Pt(e),lt(e),setTimeout(function(){y(e)},100)}function o(e){var t=mt(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/yt(e.display)-3);return function(i){if(xn(e.doc,i))return 0;var o=0;if(i.widgets)for(var l=0;l<i.widgets.length;l++)i.widgets[l].height&&(o+=i.widgets[l].height);return r?o+(Math.ceil(i.text.length/n)||1)*t:o+t}}function l(e){var t=e.doc,r=o(e);t.iter(function(e){var t=r(e);t!=e.height&&Jn(e,t)})}function s(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),lt(e)}function a(e){u(e),Pt(e),setTimeout(function(){x(e)},20)}function u(e){var t=e.display.gutters,r=e.options.gutters;Ui(t);for(var n=0;n<r.length;++n){var i=r[n],o=t.appendChild(Gi("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=n?"":"none",c(e)}function c(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function f(e){if(0==e.height)return 0;for(var t,r=e.text.length,n=e;t=pn(n);){var i=t.find(0,!0);n=i.from.line,r+=i.from.ch-i.to.ch}for(n=e;t=gn(n);){var i=t.find(0,!0);r-=n.text.length-i.from.ch,n=i.to.line,r+=n.text.length-i.to.ch}return r}function h(e){var t=e.display,r=e.doc;t.maxLine=qn(r,r.first),t.maxLineLength=f(t.maxLine),t.maxLineChanged=!0,r.iter(function(e){var r=f(e);r>t.maxLineLength&&(t.maxLineLength=r,t.maxLine=e)})}function d(e){var t=Di(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function p(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+Ve(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+je(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}function g(e,t,r){this.cm=r;var n=this.vert=Gi("div",[Gi("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=Gi("div",[Gi("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(n),e(i),kl(n,"scroll",function(){n.clientHeight&&t(n.scrollTop,"vertical")}),kl(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedOverlay=!1,vo&&8>mo&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function v(){}function m(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&jl(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new e.scrollbarModel[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),kl(e,"mousedown",function(){t.state.focused&&setTimeout(function(){t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,r){"horizontal"==r?nr(t,e):rr(t,e)},t),t.display.scrollbars.addClass&&Xl(t.display.wrapper,t.display.scrollbars.addClass)}function y(e,t){t||(t=p(e));var r=e.display.barWidth,n=e.display.barHeight;b(e,t);for(var i=0;4>i&&r!=e.display.barWidth||n!=e.display.barHeight;i++)r!=e.display.barWidth&&e.options.lineWrapping&&O(e),b(e,p(e)),r=e.display.barWidth,n=e.display.barHeight}function b(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}function w(e,t,r){var n=r&&null!=r.top?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-Ue(e));var i=r&&null!=r.bottom?r.bottom:n+e.wrapper.clientHeight,o=ti(t,n),l=ti(t,i);if(r&&r.ensure){var s=r.ensure.from.line,a=r.ensure.to.line;o>s?(o=s,l=ti(t,ri(qn(t,s))+e.wrapper.clientHeight)):Math.min(a,t.lastLine())>=l&&(o=ti(t,ri(qn(t,a))-e.wrapper.clientHeight),l=a)}return{from:o,to:Math.max(l,o+1)}}function x(e){var t=e.display,r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=L(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=n+"px",l=0;l<r.length;l++)if(!r[l].hidden){e.options.fixedGutter&&r[l].gutter&&(r[l].gutter.style.left=o);var s=r[l].alignable;if(s)for(var a=0;a<s.length;a++)s[a].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=n+i+"px")}}function C(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=S(e.options,t.first+t.size-1),n=e.display;if(r.length!=n.lineNumChars){var i=n.measure.appendChild(Gi("div",[Gi("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,l=i.offsetWidth-o;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(o,n.lineGutter.offsetWidth-l)+1,n.lineNumWidth=n.lineNumInnerWidth+l,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",c(e),!0}return!1}function S(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function L(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function T(e,t,r){var n=e.display;this.viewport=t,this.visible=w(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Xe(e),this.force=r,this.dims=H(e),this.events=[]}function k(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=je(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=je(e)+"px",t.scrollbarsClipped=!0)}function M(e,t){var r=e.display,n=e.doc;if(t.editorIsHidden)return It(e),!1;if(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==Bt(e))return!1;C(e)&&(It(e),t.dims=H(e));var i=n.first+n.size,o=Math.max(t.visible.from-e.options.viewportMargin,n.first),l=Math.min(i,t.visible.to+e.options.viewportMargin);r.viewFrom<o&&o-r.viewFrom<20&&(o=Math.max(n.first,r.viewFrom)),r.viewTo>l&&r.viewTo-l<20&&(l=Math.min(i,r.viewTo)),Ho&&(o=bn(e.doc,o),l=wn(e.doc,l));var s=o!=r.viewFrom||l!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth;Rt(e,o,l),r.viewOffset=ri(qn(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var a=Bt(e);if(!s&&0==a&&!t.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var u=Ki();return a>4&&(r.lineDiv.style.display="none"),P(e,r.updateLineNumbers,t.dims),a>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,u&&Ki()!=u&&u.offsetHeight&&u.focus(),Ui(r.cursorDiv),Ui(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,s&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,Fe(e,400)),r.updateLineNumbers=null,!0}function N(e,t){for(var r=t.viewport,n=!0;(n&&e.options.lineWrapping&&t.oldDisplayWidth!=Xe(e)||(r&&null!=r.top&&(r={top:Math.min(e.doc.height+Ve(e.display)-_e(e),r.top)}),t.visible=w(e.display,e.doc,r),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&M(e,t);n=!1){O(e);var i=p(e);He(e),W(e,i),y(e,i)}t.signal(e,"update",e),(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)&&(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function A(e,t){var r=new T(e,t);if(M(e,r)){O(e),N(e,r);var n=p(e);He(e),W(e,n),y(e,n),r.finish()}}function W(e,t){e.display.sizer.style.minHeight=t.docHeight+"px";var r=t.docHeight+e.display.barHeight;e.display.heightForcer.style.top=r+"px",e.display.gutters.style.height=Math.max(r+je(e),t.clientHeight)+"px"}function O(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var i,o=t.view[n];if(!o.hidden){if(vo&&8>mo){var l=o.node.offsetTop+o.node.offsetHeight;i=l-r,r=l}else{var s=o.node.getBoundingClientRect();i=s.bottom-s.top}var a=o.line.height-i;if(2>i&&(i=mt(t)),(a>.001||-.001>a)&&(Jn(o.line,i),D(o.line),o.rest))for(var u=0;u<o.rest.length;u++)D(o.rest[u])}}}function D(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.offsetHeight}function H(e){for(var t=e.display,r={},n={},i=t.gutters.clientLeft,o=t.gutters.firstChild,l=0;o;o=o.nextSibling,++l)r[e.options.gutters[l]]=o.offsetLeft+o.clientLeft+i,n[e.options.gutters[l]]=o.clientWidth;return{fixedPos:L(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function P(e,t,r){function n(t){var r=t.nextSibling;return yo&&Mo&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),r}for(var i=e.display,o=e.options.lineNumbers,l=i.lineDiv,s=l.firstChild,a=i.view,u=i.viewFrom,c=0;c<a.length;c++){var f=a[c];if(f.hidden);else if(f.node&&f.node.parentNode==l){for(;s!=f.node;)s=n(s);var h=o&&null!=t&&u>=t&&f.lineNumber;f.changes&&(Di(f.changes,"gutter")>-1&&(h=!1),E(e,f,u,r)),h&&(Ui(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(S(e.options,u)))),s=f.node.nextSibling}else{var d=V(e,f,u,r);l.insertBefore(d,s)}u+=f.size}for(;s;)s=n(s)}function E(e,t,r,n){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?R(e,t):"gutter"==o?G(e,t,r,n):"class"==o?B(t):"widget"==o&&U(e,t,n)}t.changes=null}function I(e){return e.node==e.text&&(e.node=Gi("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),vo&&8>mo&&(e.node.style.zIndex=2)),e.node}function z(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var r=I(e);e.background=r.insertBefore(Gi("div",null,t),r.firstChild)}}function F(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):zn(e,t)}function R(e,t){var r=t.text.className,n=F(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,B(t)):r&&(t.text.className=r)}function B(e){z(e),e.line.wrapClass?I(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function G(e,t,r,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=I(t);t.gutterBackground=Gi("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var i=I(t),l=t.gutter=Gi("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(e.display.input.setUneditable(l),i.insertBefore(l,t.text),t.line.gutterClass&&(l.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=l.appendChild(Gi("div",S(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var s=0;s<e.options.gutters.length;++s){var a=e.options.gutters[s],u=o.hasOwnProperty(a)&&o[a];u&&l.appendChild(Gi("div",[u],"CodeMirror-gutter-elt","left: "+n.gutterLeft[a]+"px; width: "+n.gutterWidth[a]+"px"))}}}function U(e,t,r){t.alignable&&(t.alignable=null);for(var n,i=t.node.firstChild;i;i=n){var n=i.nextSibling;"CodeMirror-linewidget"==i.className&&t.node.removeChild(i)}K(e,t,r)}function V(e,t,r,n){var i=F(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),B(t),G(e,t,r,n),K(e,t,n),t.node}function K(e,t,r){if(j(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)j(e,t.rest[n],t,r,!1)}function j(e,t,r,n,i){if(t.widgets)for(var o=I(r),l=0,s=t.widgets;l<s.length;++l){var a=s[l],u=Gi("div",[a.node],"CodeMirror-linewidget");a.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),X(a,u,r,n),e.display.input.setUneditable(u),i&&a.above?o.insertBefore(u,r.gutter||r.text):o.appendChild(u),Ci(a,"redraw")}}function X(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var i=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(i-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function _(e){return Po(e.line,e.ch)}function Y(e,t){return Eo(e,t)<0?t:e}function $(e,t){return Eo(e,t)<0?e:t}function q(e){e.state.focused||(e.display.input.focus(),gr(e))}function Z(e){return e.options.readOnly||e.doc.cantEdit}function Q(e,t,r,n,i){var o=e.doc;e.display.shift=!1,n||(n=o.sel);var l=e.state.pasteIncoming||"paste"==i,s=o.splitLines(t),a=null;if(l&&n.ranges.length>1)if(Io&&Io.join("\n")==t){if(n.ranges.length%Io.length==0){a=[];for(var u=0;u<Io.length;u++)a.push(o.splitLines(Io[u]))}}else s.length==n.ranges.length&&(a=Hi(s,function(e){return[e]}));for(var u=n.ranges.length-1;u>=0;u--){var c=n.ranges[u],f=c.from(),h=c.to();c.empty()&&(r&&r>0?f=Po(f.line,f.ch-r):e.state.overwrite&&!l&&(h=Po(h.line,Math.min(qn(o,h.line).text.length,h.ch+Oi(s).length))));var d=e.curOp.updateInput,p={from:f,to:h,text:a?a[u%a.length]:s,origin:i||(l?"paste":e.state.cutIncoming?"cut":"+input")};Lr(e.doc,p),Ci(e,"inputRead",e,p)}t&&!l&&ee(e,t),Ir(e),e.curOp.updateInput=d,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function J(e,t){var r=e.clipboardData&&e.clipboardData.getData("text/plain");return r?(e.preventDefault(),Z(t)||t.options.disableInput||Nt(t,function(){Q(t,r,0,null,"paste")}),!0):void 0}function ee(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,n=r.ranges.length-1;n>=0;n--){var i=r.ranges[n];if(!(i.head.ch>100||n&&r.ranges[n-1].head.line==i.head.line)){var o=e.getModeAt(i.head),l=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){l=Fr(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(qn(e.doc,i.head.line).text.slice(0,i.head.ch))&&(l=Fr(e,i.head.line,"smart"));l&&Ci(e,"electricInput",e,i.head.line)}}}function te(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var i=e.doc.sel.ranges[n].head.line,o={anchor:Po(i,0),head:Po(i+1,0)};r.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:r}}function re(e){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck","false")}function ne(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Ni,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function ie(){var e=Gi("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),t=Gi("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return yo?e.style.width="1000px":e.setAttribute("wrap","off"),To&&(e.style.border="1px solid black"),re(e),t}function oe(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ni,this.gracePeriod=!1}function le(e,t){var r=Qe(e,t.line);if(!r||r.hidden)return null;var n=qn(e.doc,t.line),i=$e(r,n,t.line),o=ni(n),l="left";if(o){var s=ao(o,t.ch);l=s%2?"right":"left"}var a=tt(i.map,t.ch,l);return a.offset="right"==a.collapse?a.end:a.start,
a}function se(e,t){return t&&(e.bad=!0),e}function ae(e,t,r){var n;if(t==e.display.lineDiv){if(n=e.display.lineDiv.childNodes[r],!n)return se(e.clipPos(Po(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==n)return ue(o,t,r)}}function ue(e,t,r){function n(t,r,n){for(var i=-1;i<(c?c.length:0);i++)for(var o=0>i?u.map:c[i],l=0;l<o.length;l+=3){var s=o[l+2];if(s==t||s==r){var a=ei(0>i?e.line:e.rest[i]),f=o[l]+n;return(0>n||s!=t)&&(f=o[l+(n?1:0)]),Po(a,f)}}}var i=e.text.firstChild,o=!1;if(!t||!Ul(i,t))return se(Po(ei(e.line),0),!0);if(t==i&&(o=!0,t=i.childNodes[r],r=0,!t)){var l=e.rest?Oi(e.rest):e.line;return se(Po(ei(l),l.text.length),o)}var s=3==t.nodeType?t:null,a=t;for(s||1!=t.childNodes.length||3!=t.firstChild.nodeType||(s=t.firstChild,r&&(r=s.nodeValue.length));a.parentNode!=i;)a=a.parentNode;var u=e.measure,c=u.maps,f=n(s,a,r);if(f)return se(f,o);for(var h=a.nextSibling,d=s?s.nodeValue.length-r:0;h;h=h.nextSibling){if(f=n(h,h.firstChild,0))return se(Po(f.line,f.ch-d),o);d+=h.textContent.length}for(var p=a.previousSibling,d=r;p;p=p.previousSibling){if(f=n(p,p.firstChild,-1))return se(Po(f.line,f.ch+d),o);d+=h.textContent.length}}function ce(e,t,r,n,i){function o(e){return function(t){return t.id==e}}function l(t){if(1==t.nodeType){var r=t.getAttribute("cm-text");if(null!=r)return""==r&&(r=t.textContent.replace(/\u200b/g,"")),void(s+=r);var c,f=t.getAttribute("cm-marker");if(f){var h=e.findMarks(Po(n,0),Po(i+1,0),o(+f));return void(h.length&&(c=h[0].find())&&(s+=Zn(e.doc,c.from,c.to).join(u)))}if("false"==t.getAttribute("contenteditable"))return;for(var d=0;d<t.childNodes.length;d++)l(t.childNodes[d]);/^(pre|div|p)$/i.test(t.nodeName)&&(a=!0)}else if(3==t.nodeType){var p=t.nodeValue;if(!p)return;a&&(s+=u,a=!1),s+=p}}for(var s="",a=!1,u=e.doc.lineSeparator();l(t),t!=r;)t=t.nextSibling;return s}function fe(e,t){this.ranges=e,this.primIndex=t}function he(e,t){this.anchor=e,this.head=t}function de(e,t){var r=e[t];e.sort(function(e,t){return Eo(e.from(),t.from())}),t=Di(e,r);for(var n=1;n<e.length;n++){var i=e[n],o=e[n-1];if(Eo(o.to(),i.from())>=0){var l=$(o.from(),i.from()),s=Y(o.to(),i.to()),a=o.empty()?i.from()==i.head:o.from()==o.head;t>=n&&--t,e.splice(--n,2,new he(a?s:l,a?l:s))}}return new fe(e,t)}function pe(e,t){return new fe([new he(e,t||e)],0)}function ge(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ve(e,t){if(t.line<e.first)return Po(e.first,0);var r=e.first+e.size-1;return t.line>r?Po(r,qn(e,r).text.length):me(t,qn(e,t.line).text.length)}function me(e,t){var r=e.ch;return null==r||r>t?Po(e.line,t):0>r?Po(e.line,0):e}function ye(e,t){return t>=e.first&&t<e.first+e.size}function be(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=ve(e,t[n]);return r}function we(e,t,r,n){if(e.cm&&e.cm.display.shift||e.extend){var i=t.anchor;if(n){var o=Eo(r,i)<0;o!=Eo(n,i)<0?(i=r,r=n):o!=Eo(r,n)<0&&(r=n)}return new he(i,r)}return new he(n||r,r)}function xe(e,t,r,n){Me(e,new fe([we(e,e.sel.primary(),t,r)],0),n)}function Ce(e,t,r){for(var n=[],i=0;i<e.sel.ranges.length;i++)n[i]=we(e,e.sel.ranges[i],t[i],null);var o=de(n,e.sel.primIndex);Me(e,o,r)}function Se(e,t,r,n){var i=e.sel.ranges.slice(0);i[t]=r,Me(e,de(i,e.sel.primIndex),n)}function Le(e,t,r,n){Me(e,pe(t,r),n)}function Te(e,t){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var r=0;r<t.length;r++)this.ranges[r]=new he(ve(e,t[r].anchor),ve(e,t[r].head))}};return Nl(e,"beforeSelectionChange",e,r),e.cm&&Nl(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?de(r.ranges,r.ranges.length-1):t}function ke(e,t,r){var n=e.history.done,i=Oi(n);i&&i.ranges?(n[n.length-1]=t,Ne(e,t,r)):Me(e,t,r)}function Me(e,t,r){Ne(e,t,r),ci(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function Ne(e,t,r){(ki(e,"beforeSelectionChange")||e.cm&&ki(e.cm,"beforeSelectionChange"))&&(t=Te(e,t));var n=r&&r.bias||(Eo(t.primary().head,e.sel.primary().head)<0?-1:1);Ae(e,Oe(e,t,n,!0)),r&&r.scroll===!1||!e.cm||Ir(e.cm)}function Ae(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,Ti(e.cm)),Ci(e,"cursorActivity",e))}function We(e){Ae(e,Oe(e,e.sel,null,!1),Dl)}function Oe(e,t,r,n){for(var i,o=0;o<t.ranges.length;o++){var l=t.ranges[o],s=De(e,l.anchor,r,n),a=De(e,l.head,r,n);(i||s!=l.anchor||a!=l.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new he(s,a))}return i?de(i,t.primIndex):t}function De(e,t,r,n){var i=!1,o=t,l=r||1;e.cantEdit=!1;e:for(;;){var s=qn(e,o.line);if(s.markedSpans)for(var a=0;a<s.markedSpans.length;++a){var u=s.markedSpans[a],c=u.marker;if((null==u.from||(c.inclusiveLeft?u.from<=o.ch:u.from<o.ch))&&(null==u.to||(c.inclusiveRight?u.to>=o.ch:u.to>o.ch))){if(n&&(Nl(c,"beforeCursorEnter"),c.explicitlyCleared)){if(s.markedSpans){--a;continue}break}if(!c.atomic)continue;var f=c.find(0>l?-1:1);if(0==Eo(f,o)&&(f.ch+=l,f.ch<0?f=f.line>e.first?ve(e,Po(f.line-1)):null:f.ch>s.text.length&&(f=f.line<e.first+e.size-1?Po(f.line+1,0):null),!f)){if(i)return n?(e.cantEdit=!0,Po(e.first,0)):De(e,t,r,!0);i=!0,f=t,l=-l}o=f;continue e}}return o}}function He(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Pe(e,t){for(var r=e.doc,n={},i=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),l=0;l<r.sel.ranges.length;l++)if(t!==!1||l!=r.sel.primIndex){var s=r.sel.ranges[l],a=s.empty();(a||e.options.showCursorWhenSelecting)&&Ee(e,s.head,i),a||Ie(e,s,o)}return n}function Ee(e,t,r){var n=ht(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=r.appendChild(Gi("div"," ","CodeMirror-cursor"));if(i.style.left=n.left+"px",i.style.top=n.top+"px",i.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",n.other){var o=r.appendChild(Gi("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=n.other.left+"px",o.style.top=n.other.top+"px",o.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function Ie(e,t,r){function n(e,t,r,n){0>t&&(t=0),t=Math.round(t),n=Math.round(n),s.appendChild(Gi("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==r?c-e:r)+"px; height: "+(n-t)+"px"))}function i(t,r,i){function o(r,n){return ft(e,Po(t,r),"div",f,n)}var s,a,f=qn(l,t),h=f.text.length;return Ji(ni(f),r||0,null==i?h:i,function(e,t,l){var f,d,p,g=o(e,"left");if(e==t)f=g,d=p=g.left;else{if(f=o(t-1,"right"),"rtl"==l){var v=g;g=f,f=v}d=g.left,p=f.right}null==r&&0==e&&(d=u),f.top-g.top>3&&(n(d,g.top,null,g.bottom),d=u,g.bottom<f.top&&n(d,g.bottom,null,f.top)),null==i&&t==h&&(p=c),(!s||g.top<s.top||g.top==s.top&&g.left<s.left)&&(s=g),(!a||f.bottom>a.bottom||f.bottom==a.bottom&&f.right>a.right)&&(a=f),u+1>d&&(d=u),n(d,f.top,p-d,f.bottom)}),{start:s,end:a}}var o=e.display,l=e.doc,s=document.createDocumentFragment(),a=Ke(e.display),u=a.left,c=Math.max(o.sizerWidth,Xe(e)-o.sizer.offsetLeft)-a.right,f=t.from(),h=t.to();if(f.line==h.line)i(f.line,f.ch,h.ch);else{var d=qn(l,f.line),p=qn(l,h.line),g=mn(d)==mn(p),v=i(f.line,f.ch,g?d.text.length+1:null).end,m=i(h.line,g?0:null,h.ch).start;g&&(v.top<m.top-2?(n(v.right,v.top,null,v.bottom),n(u,m.top,m.left,m.bottom)):n(v.right,v.top,m.left-v.right,v.bottom)),v.bottom<m.top&&n(u,v.bottom,null,m.top)}r.appendChild(s)}function ze(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(r=!r)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Fe(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,zi(Re,e))}function Re(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,n=il(t.mode,Ge(e,t.frontier)),i=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(t.frontier>=e.display.viewFrom){var l=o.styles,s=o.text.length>e.options.maxHighlightLength,a=Hn(e,o,s?il(t.mode,n):n,!0);o.styles=a.styles;var u=o.styleClasses,c=a.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var f=!l||l.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),h=0;!f&&h<l.length;++h)f=l[h]!=o.styles[h];f&&i.push(t.frontier),o.stateAfter=s?n:il(t.mode,n)}else o.text.length<=e.options.maxHighlightLength&&En(e,o.text,n),o.stateAfter=t.frontier%5==0?il(t.mode,n):null;return++t.frontier,+new Date>r?(Fe(e,e.options.workDelay),!0):void 0}),i.length&&Nt(e,function(){for(var t=0;t<i.length;t++)Et(e,i[t],"text")})}}function Be(e,t,r){for(var n,i,o=e.doc,l=r?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>l;--s){if(s<=o.first)return o.first;var a=qn(o,s-1);if(a.stateAfter&&(!r||s<=o.frontier))return s;var u=El(a.text,null,e.options.tabSize);(null==i||n>u)&&(i=s-1,n=u)}return i}function Ge(e,t,r){var n=e.doc,i=e.display;if(!n.mode.startState)return!0;var o=Be(e,t,r),l=o>n.first&&qn(n,o-1).stateAfter;return l=l?il(n.mode,l):ol(n.mode),n.iter(o,t,function(r){En(e,r.text,l);var s=o==t-1||o%5==0||o>=i.viewFrom&&o<i.viewTo;r.stateAfter=s?il(n.mode,l):null,++o}),r&&(n.frontier=o),l}function Ue(e){return e.lineSpace.offsetTop}function Ve(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Ke(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=Vi(e.measure,Gi("pre","x")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(e.cachedPaddingH=n),n}function je(e){return Wl-e.display.nativeBarWidth}function Xe(e){return e.display.scroller.clientWidth-je(e)-e.display.barWidth}function _e(e){return e.display.scroller.clientHeight-je(e)-e.display.barHeight}function Ye(e,t,r){var n=e.options.lineWrapping,i=n&&Xe(e);if(!t.measure.heights||n&&t.measure.width!=i){var o=t.measure.heights=[];if(n){t.measure.width=i;for(var l=t.text.firstChild.getClientRects(),s=0;s<l.length-1;s++){var a=l[s],u=l[s+1];Math.abs(a.bottom-u.bottom)>2&&o.push((a.bottom+u.top)/2-r.top)}}o.push(r.bottom-r.top)}}function $e(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var n=0;n<e.rest.length;n++)if(ei(e.rest[n])>r)return{map:e.measure.maps[n],cache:e.measure.caches[n],before:!0}}function qe(e,t){t=mn(t);var r=ei(t),n=e.display.externalMeasured=new Dt(e.doc,t,r);n.lineN=r;var i=n.built=zn(e,n);return n.text=i.pre,Vi(e.display.lineMeasure,i.pre),n}function Ze(e,t,r,n){return et(e,Je(e,t),r,n)}function Qe(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[zt(e,t)];var r=e.display.externalMeasured;return r&&t>=r.lineN&&t<r.lineN+r.size?r:void 0}function Je(e,t){var r=ei(t),n=Qe(e,r);n&&!n.text?n=null:n&&n.changes&&(E(e,n,r,H(e)),e.curOp.forceUpdate=!0),n||(n=qe(e,t));var i=$e(n,t,r);return{line:t,view:n,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function et(e,t,r,n,i){t.before&&(r=-1);var o,l=r+(n||"");return t.cache.hasOwnProperty(l)?o=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Ye(e,t.view,t.rect),t.hasHeights=!0),o=rt(e,t,r,n),o.bogus||(t.cache[l]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function tt(e,t,r){for(var n,i,o,l,s=0;s<e.length;s+=3){var a=e[s],u=e[s+1];if(a>t?(i=0,o=1,l="left"):u>t?(i=t-a,o=i+1):(s==e.length-3||t==u&&e[s+3]>t)&&(o=u-a,i=o-1,t>=u&&(l="right")),null!=i){if(n=e[s+2],a==u&&r==(n.insertLeft?"left":"right")&&(l=r),"left"==r&&0==i)for(;s&&e[s-2]==e[s-3]&&e[s-1].insertLeft;)n=e[(s-=3)+2],l="left";if("right"==r&&i==u-a)for(;s<e.length-3&&e[s+3]==e[s+4]&&!e[s+5].insertLeft;)n=e[(s+=3)+2],l="right";break}}return{node:n,start:i,end:o,collapse:l,coverStart:a,coverEnd:u}}function rt(e,t,r,n){var i,o=tt(t.map,r,n),l=o.node,s=o.start,a=o.end,u=o.collapse;if(3==l.nodeType){for(var c=0;4>c;c++){for(;s&&Bi(t.line.text.charAt(o.coverStart+s));)--s;for(;o.coverStart+a<o.coverEnd&&Bi(t.line.text.charAt(o.coverStart+a));)++a;if(vo&&9>mo&&0==s&&a==o.coverEnd-o.coverStart)i=l.parentNode.getBoundingClientRect();else if(vo&&e.options.lineWrapping){var f=Fl(l,s,a).getClientRects();i=f.length?f["right"==n?f.length-1:0]:Bo}else i=Fl(l,s,a).getBoundingClientRect()||Bo;if(i.left||i.right||0==s)break;a=s,s-=1,u="right"}vo&&11>mo&&(i=nt(e.display.measure,i))}else{s>0&&(u=n="right");var f;i=e.options.lineWrapping&&(f=l.getClientRects()).length>1?f["right"==n?f.length-1:0]:l.getBoundingClientRect()}if(vo&&9>mo&&!s&&(!i||!i.left&&!i.right)){var h=l.parentNode.getClientRects()[0];i=h?{left:h.left,right:h.left+yt(e.display),top:h.top,bottom:h.bottom}:Bo}for(var d=i.top-t.rect.top,p=i.bottom-t.rect.top,g=(d+p)/2,v=t.view.measure.heights,c=0;c<v.length-1&&!(g<v[c]);c++);var m=c?v[c-1]:0,y=v[c],b={left:("right"==u?i.right:i.left)-t.rect.left,right:("left"==u?i.left:i.right)-t.rect.left,top:m,bottom:y};return i.left||i.right||(b.bogus=!0),e.options.singleCursorHeightPerLine||(b.rtop=d,b.rbottom=p),b}function nt(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Qi(e))return t;var r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*r,right:t.right*r,top:t.top*n,bottom:t.bottom*n}}function it(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function ot(e){e.display.externalMeasure=null,Ui(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)it(e.display.view[t])}function lt(e){ot(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function st(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function at(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function ut(e,t,r,n){if(t.widgets)for(var i=0;i<t.widgets.length;++i)if(t.widgets[i].above){var o=Ln(t.widgets[i]);r.top+=o,r.bottom+=o}if("line"==n)return r;n||(n="local");var l=ri(t);if("local"==n?l+=Ue(e.display):l-=e.display.viewOffset,"page"==n||"window"==n){var s=e.display.lineSpace.getBoundingClientRect();l+=s.top+("window"==n?0:at());var a=s.left+("window"==n?0:st());r.left+=a,r.right+=a}return r.top+=l,r.bottom+=l,r}function ct(e,t,r){if("div"==r)return t;var n=t.left,i=t.top;if("page"==r)n-=st(),i-=at();else if("local"==r||!r){var o=e.display.sizer.getBoundingClientRect();n+=o.left,i+=o.top}var l=e.display.lineSpace.getBoundingClientRect();return{left:n-l.left,top:i-l.top}}function ft(e,t,r,n,i){return n||(n=qn(e.doc,t.line)),ut(e,n,Ze(e,n,t.ch,i),r)}function ht(e,t,r,n,i,o){function l(t,l){var s=et(e,i,t,l?"right":"left",o);return l?s.left=s.right:s.right=s.left,ut(e,n,s,r)}function s(e,t){var r=a[t],n=r.level%2;return e==eo(r)&&t&&r.level<a[t-1].level?(r=a[--t],e=to(r)-(r.level%2?0:1),n=!0):e==to(r)&&t<a.length-1&&r.level<a[t+1].level&&(r=a[++t],e=eo(r)-r.level%2,n=!1),n&&e==r.to&&e>r.from?l(e-1):l(e,n)}n=n||qn(e.doc,t.line),i||(i=Je(e,n));var a=ni(n),u=t.ch;if(!a)return l(u);var c=ao(a,u),f=s(u,c);return null!=es&&(f.other=s(u,es)),f}function dt(e,t){var r=0,t=ve(e.doc,t);e.options.lineWrapping||(r=yt(e.display)*t.ch);var n=qn(e.doc,t.line),i=ri(n)+Ue(e.display);return{left:r,right:r,top:i,bottom:i+n.height}}function pt(e,t,r,n){var i=Po(e,t);return i.xRel=n,r&&(i.outside=!0),i}function gt(e,t,r){var n=e.doc;if(r+=e.display.viewOffset,0>r)return pt(n.first,0,!0,-1);var i=ti(n,r),o=n.first+n.size-1;if(i>o)return pt(n.first+n.size-1,qn(n,o).text.length,!0,1);0>t&&(t=0);for(var l=qn(n,i);;){var s=vt(e,l,i,t,r),a=gn(l),u=a&&a.find(0,!0);if(!a||!(s.ch>u.from.ch||s.ch==u.from.ch&&s.xRel>0))return s;i=ei(l=u.to.line)}}function vt(e,t,r,n,i){function o(n){var i=ht(e,Po(r,n),"line",t,u);return s=!0,l>i.bottom?i.left-a:l<i.top?i.left+a:(s=!1,i.left)}var l=i-ri(t),s=!1,a=2*e.display.wrapper.clientWidth,u=Je(e,t),c=ni(t),f=t.text.length,h=ro(t),d=no(t),p=o(h),g=s,v=o(d),m=s;if(n>v)return pt(r,d,m,1);for(;;){if(c?d==h||d==co(t,h,1):1>=d-h){for(var y=p>n||v-n>=n-p?h:d,b=n-(y==h?p:v);Bi(t.text.charAt(y));)++y;var w=pt(r,y,y==h?g:m,-1>b?-1:b>1?1:0);return w}var x=Math.ceil(f/2),C=h+x;if(c){C=h;for(var S=0;x>S;++S)C=co(t,C,1)}var L=o(C);L>n?(d=C,v=L,(m=s)&&(v+=1e3),f=x):(h=C,p=L,g=s,f-=x)}}function mt(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==zo){zo=Gi("pre");for(var t=0;49>t;++t)zo.appendChild(document.createTextNode("x")),zo.appendChild(Gi("br"));zo.appendChild(document.createTextNode("x"))}Vi(e.measure,zo);var r=zo.offsetHeight/50;return r>3&&(e.cachedTextHeight=r),Ui(e.measure),r||1}function yt(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=Gi("span","xxxxxxxxxx"),r=Gi("pre",[t]);Vi(e.measure,r);var n=t.getBoundingClientRect(),i=(n.right-n.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function bt(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Uo},Go?Go.ops.push(e.curOp):e.curOp.ownsGroup=Go={ops:[e.curOp],delayedCallbacks:[]}}function wt(e){var t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r].call(null);for(var n=0;n<e.ops.length;n++){var i=e.ops[n];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(r<t.length)}function xt(e){var t=e.curOp,r=t.ownsGroup;if(r)try{wt(r)}finally{Go=null;for(var n=0;n<r.ops.length;n++)r.ops[n].cm.curOp=null;Ct(r)}}function Ct(e){for(var t=e.ops,r=0;r<t.length;r++)St(t[r]);for(var r=0;r<t.length;r++)Lt(t[r]);for(var r=0;r<t.length;r++)Tt(t[r]);for(var r=0;r<t.length;r++)kt(t[r]);for(var r=0;r<t.length;r++)Mt(t[r])}function St(e){var t=e.cm,r=t.display;k(t),e.updateMaxLine&&h(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new T(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Lt(e){e.updatedDisplay=e.mustUpdate&&M(e.cm,e.update)}function Tt(e){var t=e.cm,r=t.display;e.updatedDisplay&&O(t),e.barMeasure=p(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Ze(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+je(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-Xe(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection())}function kt(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&nr(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1),e.preparedSelection&&t.display.input.showSelection(e.preparedSelection),e.updatedDisplay&&W(t,e.barMeasure),(e.updatedDisplay||e.startHeight!=t.doc.height)&&y(t,e.barMeasure),e.selectionChanged&&ze(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),e.focus&&e.focus==Ki()&&q(e.cm)}function Mt(e){var t=e.cm,r=t.display,n=t.doc;if(e.updatedDisplay&&N(t,e.update),null==r.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(r.wheelStartX=r.wheelStartY=null),null==e.scrollTop||r.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(n.scrollTop=Math.max(0,Math.min(r.scroller.scrollHeight-r.scroller.clientHeight,e.scrollTop)),r.scrollbars.setScrollTop(n.scrollTop),r.scroller.scrollTop=n.scrollTop),null==e.scrollLeft||r.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(n.scrollLeft=Math.max(0,Math.min(r.scroller.scrollWidth-Xe(t),e.scrollLeft)),r.scrollbars.setScrollLeft(n.scrollLeft),r.scroller.scrollLeft=n.scrollLeft,x(t)),e.scrollToPos){var i=Dr(t,ve(n,e.scrollToPos.from),ve(n,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&Or(t,i)}var o=e.maybeHiddenMarkers,l=e.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||Nl(o[s],"hide");if(l)for(var s=0;s<l.length;++s)l[s].lines.length&&Nl(l[s],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Nl(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Nt(e,t){if(e.curOp)return t();bt(e);try{return t()}finally{xt(e)}}function At(e,t){return function(){if(e.curOp)return t.apply(e,arguments);bt(e);try{return t.apply(e,arguments)}finally{xt(e)}}}function Wt(e){return function(){if(this.curOp)return e.apply(this,arguments);bt(this);try{return e.apply(this,arguments)}finally{xt(this)}}}function Ot(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);bt(t);try{return e.apply(this,arguments)}finally{xt(t)}}}function Dt(e,t,r){this.line=t,this.rest=yn(t),this.size=this.rest?ei(Oi(this.rest))-r+1:1,this.node=this.text=null,this.hidden=xn(e,t)}function Ht(e,t,r){for(var n,i=[],o=t;r>o;o=n){var l=new Dt(e.doc,qn(e.doc,o),o);n=o+l.size,i.push(l)}return i}function Pt(e,t,r,n){null==t&&(t=e.doc.first),null==r&&(r=e.doc.first+e.doc.size),n||(n=0);var i=e.display;if(n&&r<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Ho&&bn(e.doc,t)<i.viewTo&&It(e);else if(r<=i.viewFrom)Ho&&wn(e.doc,r+n)>i.viewFrom?It(e):(i.viewFrom+=n,i.viewTo+=n);else if(t<=i.viewFrom&&r>=i.viewTo)It(e);else if(t<=i.viewFrom){var o=Ft(e,r,r+n,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=n):It(e)}else if(r>=i.viewTo){var o=Ft(e,t,t,-1);o?(i.view=i.view.slice(0,o.index),i.viewTo=o.lineN):It(e)}else{var l=Ft(e,t,t,-1),s=Ft(e,r,r+n,1);l&&s?(i.view=i.view.slice(0,l.index).concat(Ht(e,l.lineN,s.lineN)).concat(i.view.slice(s.index)),i.viewTo+=n):It(e)}var a=i.externalMeasured;a&&(r<a.lineN?a.lineN+=n:t<a.lineN+a.size&&(i.externalMeasured=null))}function Et(e,t,r){e.curOp.viewChanged=!0;var n=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var o=n.view[zt(e,t)];if(null!=o.node){var l=o.changes||(o.changes=[]);-1==Di(l,r)&&l.push(r)}}}function It(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function zt(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,0>t)return null;for(var r=e.display.view,n=0;n<r.length;n++)if(t-=r[n].size,0>t)return n}function Ft(e,t,r,n){var i,o=zt(e,t),l=e.display.view;if(!Ho||r==e.doc.first+e.doc.size)return{index:o,lineN:r};for(var s=0,a=e.display.viewFrom;o>s;s++)a+=l[s].size;if(a!=t){if(n>0){if(o==l.length-1)return null;i=a+l[o].size-t,o++}else i=a-t;t+=i,r+=i}for(;bn(e.doc,r)!=r;){if(o==(0>n?0:l.length-1))return null;r+=n*l[o-(0>n?1:0)].size,o+=n}return{index:o,lineN:r}}function Rt(e,t,r){var n=e.display,i=n.view;0==i.length||t>=n.viewTo||r<=n.viewFrom?(n.view=Ht(e,t,r),n.viewFrom=t):(n.viewFrom>t?n.view=Ht(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(zt(e,t))),n.viewFrom=t,n.viewTo<r?n.view=n.view.concat(Ht(e,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,zt(e,r)))),n.viewTo=r}function Bt(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var i=t[n];i.hidden||i.node&&!i.changes||++r}return r}function Gt(e){function t(){i.activeTouch&&(o=setTimeout(function(){i.activeTouch=null},1e3),l=i.activeTouch,l.end=+new Date)}function r(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function n(e,t){if(null==t.left)return!0;var r=t.left-e.left,n=t.top-e.top;return r*r+n*n>400}var i=e.display;kl(i.scroller,"mousedown",At(e,Xt)),vo&&11>mo?kl(i.scroller,"dblclick",At(e,function(t){if(!Li(e,t)){var r=jt(e,t);if(r&&!Zt(e,t)&&!Kt(e.display,t)){Sl(t);var n=e.findWordAt(r);xe(e.doc,n.anchor,n.head)}}})):kl(i.scroller,"dblclick",function(t){Li(e,t)||Sl(t)}),Oo||kl(i.scroller,"contextmenu",function(t){mr(e,t)});var o,l={end:0};kl(i.scroller,"touchstart",function(e){if(!r(e)){clearTimeout(o);var t=+new Date;i.activeTouch={start:t,moved:!1,prev:t-l.end<=300?l:null},1==e.touches.length&&(i.activeTouch.left=e.touches[0].pageX,i.activeTouch.top=e.touches[0].pageY)}}),kl(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),kl(i.scroller,"touchend",function(r){var o=i.activeTouch;if(o&&!Kt(i,r)&&null!=o.left&&!o.moved&&new Date-o.start<300){var l,s=e.coordsChar(i.activeTouch,"page");l=!o.prev||n(o,o.prev)?new he(s,s):!o.prev.prev||n(o,o.prev.prev)?e.findWordAt(s):new he(Po(s.line,0),ve(e.doc,Po(s.line+1,0))),e.setSelection(l.anchor,l.head),e.focus(),Sl(r)}t()}),kl(i.scroller,"touchcancel",t),kl(i.scroller,"scroll",function(){i.scroller.clientHeight&&(rr(e,i.scroller.scrollTop),nr(e,i.scroller.scrollLeft,!0),Nl(e,"scroll",e))}),kl(i.scroller,"mousewheel",function(t){ir(e,t)}),kl(i.scroller,"DOMMouseScroll",function(t){ir(e,t)}),kl(i.wrapper,"scroll",function(){i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(t){Li(e,t)||Tl(t)},over:function(t){Li(e,t)||(er(e,t),Tl(t))},start:function(t){Jt(e,t)},drop:At(e,Qt),leave:function(){tr(e)}};var s=i.input.getField();kl(s,"keyup",function(t){hr.call(e,t)}),kl(s,"keydown",At(e,cr)),kl(s,"keypress",At(e,dr)),kl(s,"focus",zi(gr,e)),kl(s,"blur",zi(vr,e))}function Ut(t,r,n){var i=n&&n!=e.Init;if(!r!=!i){var o=t.display.dragFunctions,l=r?kl:Ml;l(t.display.scroller,"dragstart",o.start),l(t.display.scroller,"dragenter",o.enter),l(t.display.scroller,"dragover",o.over),l(t.display.scroller,"dragleave",o.leave),l(t.display.scroller,"drop",o.drop)}}function Vt(e){var t=e.display;(t.lastWrapHeight!=t.wrapper.clientHeight||t.lastWrapWidth!=t.wrapper.clientWidth)&&(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function Kt(e,t){for(var r=wi(t);r!=e.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==e.sizer&&r!=e.mover)return!0}function jt(e,t,r,n){var i=e.display;if(!r&&"true"==wi(t).getAttribute("cm-not-content"))return null;var o,l,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,l=t.clientY-s.top}catch(t){return null}var a,u=gt(e,o,l);if(n&&1==u.xRel&&(a=qn(e.doc,u.line).text).length==u.ch){var c=El(a,a.length,e.options.tabSize)-a.length;u=Po(u.line,Math.max(0,Math.round((o-Ke(e.display).left)/yt(e.display))-c))}return u}function Xt(e){var t=this,r=t.display;if(!(r.activeTouch&&r.input.supportsTouch()||Li(t,e))){if(r.shift=e.shiftKey,Kt(r,e))return void(yo||(r.scroller.draggable=!1,setTimeout(function(){r.scroller.draggable=!0},100)));if(!Zt(t,e)){var n=jt(t,e);switch(window.focus(),xi(e)){case 1:t.state.selectingText?t.state.selectingText(e):n?_t(t,e,n):wi(e)==r.scroller&&Sl(e);break;case 2:yo&&(t.state.lastMiddleDown=+new Date),n&&xe(t.doc,n),setTimeout(function(){r.input.focus()},20),Sl(e);break;case 3:Oo?mr(t,e):pr(t)}}}}function _t(e,t,r){vo?setTimeout(zi(q,e),0):e.curOp.focus=Ki();var n,i=+new Date;Ro&&Ro.time>i-400&&0==Eo(Ro.pos,r)?n="triple":Fo&&Fo.time>i-400&&0==Eo(Fo.pos,r)?(n="double",Ro={time:i,pos:r}):(n="single",Fo={time:i,pos:r});var o,l=e.doc.sel,s=Mo?t.metaKey:t.ctrlKey;e.options.dragDrop&&Yl&&!Z(e)&&"single"==n&&(o=l.contains(r))>-1&&(Eo((o=l.ranges[o]).from(),r)<0||r.xRel>0)&&(Eo(o.to(),r)>0||r.xRel<0)?Yt(e,t,r,s):$t(e,t,r,n,s)}function Yt(e,t,r,n){var i=e.display,o=+new Date,l=At(e,function(s){yo&&(i.scroller.draggable=!1),e.state.draggingText=!1,Ml(document,"mouseup",l),Ml(i.scroller,"drop",l),Math.abs(t.clientX-s.clientX)+Math.abs(t.clientY-s.clientY)<10&&(Sl(s),!n&&+new Date-200<o&&xe(e.doc,r),yo||vo&&9==mo?setTimeout(function(){document.body.focus(),i.input.focus()},20):i.input.focus())});yo&&(i.scroller.draggable=!0),e.state.draggingText=l,i.scroller.dragDrop&&i.scroller.dragDrop(),kl(document,"mouseup",l),kl(i.scroller,"drop",l)}function $t(e,t,r,n,i){function o(t){if(0!=Eo(v,t))if(v=t,"rect"==n){for(var i=[],o=e.options.tabSize,l=El(qn(u,r.line).text,r.ch,o),s=El(qn(u,t.line).text,t.ch,o),a=Math.min(l,s),d=Math.max(l,s),p=Math.min(r.line,t.line),g=Math.min(e.lastLine(),Math.max(r.line,t.line));g>=p;p++){var m=qn(u,p).text,y=Ai(m,a,o);a==d?i.push(new he(Po(p,y),Po(p,y))):m.length>y&&i.push(new he(Po(p,y),Po(p,Ai(m,d,o))))}i.length||i.push(new he(r,r)),Me(u,de(h.ranges.slice(0,f).concat(i),f),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b=c,w=b.anchor,x=t;if("single"!=n){if("double"==n)var C=e.findWordAt(t);else var C=new he(Po(t.line,0),ve(u,Po(t.line+1,0)));Eo(C.anchor,w)>0?(x=C.head,w=$(b.from(),C.anchor)):(x=C.anchor,w=Y(b.to(),C.head))}var i=h.ranges.slice(0);i[f]=new he(ve(u,w),x),Me(u,de(i,f),Hl)}}function l(t){var r=++y,i=jt(e,t,!0,"rect"==n);if(i)if(0!=Eo(i,v)){e.curOp.focus=Ki(),o(i);var s=w(a,u);(i.line>=s.to||i.line<s.from)&&setTimeout(At(e,function(){y==r&&l(t)}),150)}else{var c=t.clientY<m.top?-20:t.clientY>m.bottom?20:0;c&&setTimeout(At(e,function(){y==r&&(a.scroller.scrollTop+=c,l(t))}),50)}}function s(t){e.state.selectingText=!1,y=1/0,Sl(t),a.input.focus(),Ml(document,"mousemove",b),Ml(document,"mouseup",x),u.history.lastSelOrigin=null}var a=e.display,u=e.doc;Sl(t);var c,f,h=u.sel,d=h.ranges;if(i&&!t.shiftKey?(f=u.sel.contains(r),c=f>-1?d[f]:new he(r,r)):(c=u.sel.primary(),f=u.sel.primIndex),t.altKey)n="rect",i||(c=new he(r,r)),r=jt(e,t,!0,!0),f=-1;else if("double"==n){var p=e.findWordAt(r);c=e.display.shift||u.extend?we(u,c,p.anchor,p.head):p}else if("triple"==n){var g=new he(Po(r.line,0),ve(u,Po(r.line+1,0)));c=e.display.shift||u.extend?we(u,c,g.anchor,g.head):g}else c=we(u,c,r);i?-1==f?(f=d.length,Me(u,de(d.concat([c]),f),{scroll:!1,origin:"*mouse"})):d.length>1&&d[f].empty()&&"single"==n&&!t.shiftKey?(Me(u,de(d.slice(0,f).concat(d.slice(f+1)),0),{scroll:!1,origin:"*mouse"}),h=u.sel):Se(u,f,c,Hl):(f=0,Me(u,new fe([c],0),Hl),h=u.sel);var v=r,m=a.wrapper.getBoundingClientRect(),y=0,b=At(e,function(e){xi(e)?l(e):s(e)}),x=At(e,s);e.state.selectingText=x,kl(document,"mousemove",b),kl(document,"mouseup",x)}function qt(e,t,r,n,i){try{var o=t.clientX,l=t.clientY}catch(t){return!1}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&Sl(t);var s=e.display,a=s.lineDiv.getBoundingClientRect();if(l>a.bottom||!ki(e,r))return bi(t);l-=a.top-s.viewOffset;for(var u=0;u<e.options.gutters.length;++u){var c=s.gutters.childNodes[u];if(c&&c.getBoundingClientRect().right>=o){var f=ti(e.doc,l),h=e.options.gutters[u];return i(e,r,e,f,h,t),bi(t)}}}function Zt(e,t){return qt(e,t,"gutterClick",!0,Ci)}function Qt(e){var t=this;if(tr(t),!Li(t,e)&&!Kt(t.display,e)){Sl(e),vo&&(Vo=+new Date);var r=jt(t,e,!0),n=e.dataTransfer.files;if(r&&!Z(t))if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,o=Array(i),l=0,s=function(e,n){var s=new FileReader;s.onload=At(t,function(){if(o[n]=s.result,++l==i){r=ve(t.doc,r);var e={from:r,to:r,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};Lr(t.doc,e),ke(t.doc,pe(r,$o(e)))}}),s.readAsText(e)},a=0;i>a;++a)s(n[a],a);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1)return t.state.draggingText(e),void setTimeout(function(){t.display.input.focus()},20);try{var o=e.dataTransfer.getData("Text");if(o){if(t.state.draggingText&&!(Mo?e.altKey:e.ctrlKey))var u=t.listSelections();if(Ne(t.doc,pe(r,r)),u)for(var a=0;a<u.length;++a)Wr(t.doc,"",u[a].anchor,u[a].head,"drag");t.replaceSelection(o,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Jt(e,t){if(vo&&(!e.state.draggingText||+new Date-Vo<100))return void Tl(t);if(!Li(e,t)&&!Kt(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.setDragImage&&!Co)){var r=Gi("img",null,null,"position: fixed; left: 0; top: 0;");
r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",xo&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),xo&&r.parentNode.removeChild(r)}}function er(e,t){var r=jt(e,t);if(r){var n=document.createDocumentFragment();Ee(e,r,n),e.display.dragCursor||(e.display.dragCursor=Gi("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),Vi(e.display.dragCursor,n)}}function tr(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function rr(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,ho||A(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),ho&&A(e),Fe(e,100))}function nr(e,t,r){(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,x(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function ir(e,t){var r=Xo(t),n=r.x,i=r.y,o=e.display,l=o.scroller;if(n&&l.scrollWidth>l.clientWidth||i&&l.scrollHeight>l.clientHeight){if(i&&Mo&&yo)e:for(var s=t.target,a=o.view;s!=l;s=s.parentNode)for(var u=0;u<a.length;u++)if(a[u].node==s){e.display.currentWheelTarget=s;break e}if(n&&!ho&&!xo&&null!=jo)return i&&rr(e,Math.max(0,Math.min(l.scrollTop+i*jo,l.scrollHeight-l.clientHeight))),nr(e,Math.max(0,Math.min(l.scrollLeft+n*jo,l.scrollWidth-l.clientWidth))),Sl(t),void(o.wheelStartX=null);if(i&&null!=jo){var c=i*jo,f=e.doc.scrollTop,h=f+o.wrapper.clientHeight;0>c?f=Math.max(0,f+c-50):h=Math.min(e.doc.height,h+c+50),A(e,{top:f,bottom:h})}20>Ko&&(null==o.wheelStartX?(o.wheelStartX=l.scrollLeft,o.wheelStartY=l.scrollTop,o.wheelDX=n,o.wheelDY=i,setTimeout(function(){if(null!=o.wheelStartX){var e=l.scrollLeft-o.wheelStartX,t=l.scrollTop-o.wheelStartY,r=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,r&&(jo=(jo*Ko+r)/(Ko+1),++Ko)}},200)):(o.wheelDX+=n,o.wheelDY+=i))}}function or(e,t,r){if("string"==typeof t&&(t=ll[t],!t))return!1;e.display.input.ensurePolled();var n=e.display.shift,i=!1;try{Z(e)&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),i=t(e)!=Ol}finally{e.display.shift=n,e.state.suppressEdits=!1}return i}function lr(e,t,r){for(var n=0;n<e.state.keyMaps.length;n++){var i=al(t,e.state.keyMaps[n],r,e);if(i)return i}return e.options.extraKeys&&al(t,e.options.extraKeys,r,e)||al(t,e.options.keyMap,r,e)}function sr(e,t,r,n){var i=e.state.keySeq;if(i){if(ul(t))return"handled";_o.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),t=i+" "+t}var o=lr(e,t,n);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&Ci(e,"keyHandled",e,t,r),("handled"==o||"multi"==o)&&(Sl(r),ze(e)),i&&!o&&/\'$/.test(t)?(Sl(r),!0):!!o}function ar(e,t){var r=cl(t,!0);return r?t.shiftKey&&!e.state.keySeq?sr(e,"Shift-"+r,t,function(t){return or(e,t,!0)})||sr(e,r,t,function(t){return("string"==typeof t?/^go[A-Z]/.test(t):t.motion)?or(e,t):void 0}):sr(e,r,t,function(t){return or(e,t)}):!1}function ur(e,t,r){return sr(e,"'"+r+"'",t,function(t){return or(e,t,!0)})}function cr(e){var t=this;if(t.curOp.focus=Ki(),!Li(t,e)){vo&&11>mo&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var n=ar(t,e);xo&&(Yo=n?r:null,!n&&88==r&&!Zl&&(Mo?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||fr(t)}}function fr(e){function t(e){18!=e.keyCode&&e.altKey||(jl(r,"CodeMirror-crosshair"),Ml(document,"keyup",t),Ml(document,"mouseover",t))}var r=e.display.lineDiv;Xl(r,"CodeMirror-crosshair"),kl(document,"keyup",t),kl(document,"mouseover",t)}function hr(e){16==e.keyCode&&(this.doc.sel.shift=!1),Li(this,e)}function dr(e){var t=this;if(!(Kt(t.display,e)||Li(t,e)||e.ctrlKey&&!e.altKey||Mo&&e.metaKey)){var r=e.keyCode,n=e.charCode;if(xo&&r==Yo)return Yo=null,void Sl(e);if(!xo||e.which&&!(e.which<10)||!ar(t,e)){var i=String.fromCharCode(null==n?r:n);ur(t,e,i)||t.display.input.onKeyPress(e)}}}function pr(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,vr(e))},100)}function gr(e){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Nl(e,"focus",e),e.state.focused=!0,Xl(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),yo&&setTimeout(function(){e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),ze(e))}function vr(e){e.state.delayingBlurEvent||(e.state.focused&&(Nl(e,"blur",e),e.state.focused=!1,jl(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function mr(e,t){Kt(e.display,t)||yr(e,t)||e.display.input.onContextMenu(t)}function yr(e,t){return ki(e,"gutterContextMenu")?qt(e,t,"gutterContextMenu",!1,Nl):!1}function br(e,t){if(Eo(e,t.from)<0)return e;if(Eo(e,t.to)<=0)return $o(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=$o(t).ch-t.to.ch),Po(r,n)}function wr(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var i=e.sel.ranges[n];r.push(new he(br(i.anchor,t),br(i.head,t)))}return de(r,e.sel.primIndex)}function xr(e,t,r){return e.line==t.line?Po(r.line,e.ch-t.ch+r.ch):Po(r.line+(e.line-t.line),e.ch)}function Cr(e,t,r){for(var n=[],i=Po(e.first,0),o=i,l=0;l<t.length;l++){var s=t[l],a=xr(s.from,i,o),u=xr($o(s),i,o);if(i=s.to,o=u,"around"==r){var c=e.sel.ranges[l],f=Eo(c.head,c.anchor)<0;n[l]=new he(f?u:a,f?a:u)}else n[l]=new he(a,a)}return new fe(n,e.sel.primIndex)}function Sr(e,t,r){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return r&&(n.update=function(t,r,n,i){t&&(this.from=ve(e,t)),r&&(this.to=ve(e,r)),n&&(this.text=n),void 0!==i&&(this.origin=i)}),Nl(e,"beforeChange",e,n),e.cm&&Nl(e.cm,"beforeChange",e.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Lr(e,t,r){if(e.cm){if(!e.cm.curOp)return At(e.cm,Lr)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(ki(e,"beforeChange")||e.cm&&ki(e.cm,"beforeChange"))||(t=Sr(e,t,!0))){var n=Do&&!r&&sn(e,t.from,t.to);if(n)for(var i=n.length-1;i>=0;--i)Tr(e,{from:n[i].from,to:n[i].to,text:i?[""]:t.text});else Tr(e,t)}}function Tr(e,t){if(1!=t.text.length||""!=t.text[0]||0!=Eo(t.from,t.to)){var r=wr(e,t);ai(e,t,r,e.cm?e.cm.curOp.id:NaN),Nr(e,t,r,nn(e,t));var n=[];Yn(e,function(e,r){r||-1!=Di(n,e.history)||(yi(e.history,t),n.push(e.history)),Nr(e,t,null,nn(e,t))})}}function kr(e,t,r){if(!e.cm||!e.cm.state.suppressEdits){for(var n,i=e.history,o=e.sel,l="undo"==t?i.done:i.undone,s="undo"==t?i.undone:i.done,a=0;a<l.length&&(n=l[a],r?!n.ranges||n.equals(e.sel):n.ranges);a++);if(a!=l.length){for(i.lastOrigin=i.lastSelOrigin=null;n=l.pop(),n.ranges;){if(fi(n,s),r&&!n.equals(e.sel))return void Me(e,n,{clearRedo:!1});o=n}var u=[];fi(o,s),s.push({changes:u,generation:i.generation}),i.generation=n.generation||++i.maxGeneration;for(var c=ki(e,"beforeChange")||e.cm&&ki(e.cm,"beforeChange"),a=n.changes.length-1;a>=0;--a){var f=n.changes[a];if(f.origin=t,c&&!Sr(e,f,!1))return void(l.length=0);u.push(oi(e,f));var h=a?wr(e,f):Oi(l);Nr(e,f,h,ln(e,f)),!a&&e.cm&&e.cm.scrollIntoView({from:f.from,to:$o(f)});var d=[];Yn(e,function(e,t){t||-1!=Di(d,e.history)||(yi(e.history,f),d.push(e.history)),Nr(e,f,null,ln(e,f))})}}}}function Mr(e,t){if(0!=t&&(e.first+=t,e.sel=new fe(Hi(e.sel.ranges,function(e){return new he(Po(e.anchor.line+t,e.anchor.ch),Po(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){Pt(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)Et(e.cm,n,"gutter")}}function Nr(e,t,r,n){if(e.cm&&!e.cm.curOp)return At(e.cm,Nr)(e,t,r,n);if(t.to.line<e.first)return void Mr(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);Mr(e,i),t={from:Po(e.first,0),to:Po(t.to.line+i,t.to.ch),text:[Oi(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:Po(o,qn(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Zn(e,t.from,t.to),r||(r=wr(e,t)),e.cm?Ar(e.cm,t,n):jn(e,t,n),Ne(e,r,Dl)}}function Ar(e,t,r){var n=e.doc,i=e.display,l=t.from,s=t.to,a=!1,u=l.line;e.options.lineWrapping||(u=ei(mn(qn(n,l.line))),n.iter(u,s.line+1,function(e){return e==i.maxLine?(a=!0,!0):void 0})),n.sel.contains(t.from,t.to)>-1&&Ti(e),jn(n,t,r,o(e)),e.options.lineWrapping||(n.iter(u,l.line+t.text.length,function(e){var t=f(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,a=!1)}),a&&(e.curOp.updateMaxLine=!0)),n.frontier=Math.min(n.frontier,l.line),Fe(e,400);var c=t.text.length-(s.line-l.line)-1;t.full?Pt(e):l.line!=s.line||1!=t.text.length||Kn(e.doc,t)?Pt(e,l.line,s.line+1,c):Et(e,l.line,"text");var h=ki(e,"changes"),d=ki(e,"change");if(d||h){var p={from:l,to:s,text:t.text,removed:t.removed,origin:t.origin};d&&Ci(e,"change",e,p),h&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(p)}e.display.selForContextMenu=null}function Wr(e,t,r,n,i){if(n||(n=r),Eo(n,r)<0){var o=n;n=r,r=o}"string"==typeof t&&(t=e.splitLines(t)),Lr(e,{from:r,to:n,text:t,origin:i})}function Or(e,t){if(!Li(e,"scrollCursorIntoView")){var r=e.display,n=r.sizer.getBoundingClientRect(),i=null;if(t.top+n.top<0?i=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!Lo){var o=Gi("div","​",null,"position: absolute; top: "+(t.top-r.viewOffset-Ue(e.display))+"px; height: "+(t.bottom-t.top+je(e)+r.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}function Dr(e,t,r,n){null==n&&(n=0);for(var i=0;5>i;i++){var o=!1,l=ht(e,t),s=r&&r!=t?ht(e,r):l,a=Pr(e,Math.min(l.left,s.left),Math.min(l.top,s.top)-n,Math.max(l.left,s.left),Math.max(l.bottom,s.bottom)+n),u=e.doc.scrollTop,c=e.doc.scrollLeft;if(null!=a.scrollTop&&(rr(e,a.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(o=!0)),null!=a.scrollLeft&&(nr(e,a.scrollLeft),Math.abs(e.doc.scrollLeft-c)>1&&(o=!0)),!o)break}return l}function Hr(e,t,r,n,i){var o=Pr(e,t,r,n,i);null!=o.scrollTop&&rr(e,o.scrollTop),null!=o.scrollLeft&&nr(e,o.scrollLeft)}function Pr(e,t,r,n,i){var o=e.display,l=mt(e.display);0>r&&(r=0);var s=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:o.scroller.scrollTop,a=_e(e),u={};i-r>a&&(i=r+a);var c=e.doc.height+Ve(o),f=l>r,h=i>c-l;if(s>r)u.scrollTop=f?0:r;else if(i>s+a){var d=Math.min(r,(h?c:i)-a);d!=s&&(u.scrollTop=d)}var p=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:o.scroller.scrollLeft,g=Xe(e)-(e.options.fixedGutter?o.gutters.offsetWidth:0),v=n-t>g;return v&&(n=t+g),10>t?u.scrollLeft=0:p>t?u.scrollLeft=Math.max(0,t-(v?0:10)):n>g+p-3&&(u.scrollLeft=n+(v?0:10)-g),u}function Er(e,t,r){(null!=t||null!=r)&&zr(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=r&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+r)}function Ir(e){zr(e);var t=e.getCursor(),r=t,n=t;e.options.lineWrapping||(r=t.ch?Po(t.line,t.ch-1):t,n=Po(t.line,t.ch+1)),e.curOp.scrollToPos={from:r,to:n,margin:e.options.cursorScrollMargin,isCursor:!0}}function zr(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var r=dt(e,t.from),n=dt(e,t.to),i=Pr(e,Math.min(r.left,n.left),Math.min(r.top,n.top)-t.margin,Math.max(r.right,n.right),Math.max(r.bottom,n.bottom)+t.margin);e.scrollTo(i.scrollLeft,i.scrollTop)}}function Fr(e,t,r,n){var i,o=e.doc;null==r&&(r="add"),"smart"==r&&(o.mode.indent?i=Ge(e,t):r="prev");var l=e.options.tabSize,s=qn(o,t),a=El(s.text,null,l);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(n||/\S/.test(s.text)){if("smart"==r&&(u=o.mode.indent(i,s.text.slice(c.length),s.text),u==Ol||u>150)){if(!n)return;r="prev"}}else u=0,r="not";"prev"==r?u=t>o.first?El(qn(o,t-1).text,null,l):0:"add"==r?u=a+e.options.indentUnit:"subtract"==r?u=a-e.options.indentUnit:"number"==typeof r&&(u=a+r),u=Math.max(0,u);var f="",h=0;if(e.options.indentWithTabs)for(var d=Math.floor(u/l);d;--d)h+=l,f+="	";if(u>h&&(f+=Wi(u-h)),f!=c)return Wr(o,f,Po(t,0),Po(t,c.length),"+input"),s.stateAfter=null,!0;for(var d=0;d<o.sel.ranges.length;d++){var p=o.sel.ranges[d];if(p.head.line==t&&p.head.ch<c.length){var h=Po(t,c.length);Se(o,d,new he(h,h));break}}}function Rr(e,t,r,n){var i=t,o=t;return"number"==typeof t?o=qn(e,ge(e,t)):i=ei(t),null==i?null:(n(o,i)&&e.cm&&Et(e.cm,i,r),o)}function Br(e,t){for(var r=e.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var o=t(r[i]);n.length&&Eo(o.from,Oi(n).to)<=0;){var l=n.pop();if(Eo(l.from,o.from)<0){o.from=l.from;break}}n.push(o)}Nt(e,function(){for(var t=n.length-1;t>=0;t--)Wr(e.doc,"",n[t].from,n[t].to,"+delete");Ir(e)})}function Gr(e,t,r,n,i){function o(){var t=s+r;return t<e.first||t>=e.first+e.size?f=!1:(s=t,c=qn(e,t))}function l(e){var t=(i?co:fo)(c,a,r,!0);if(null==t){if(e||!o())return f=!1;a=i?(0>r?no:ro)(c):0>r?c.text.length:0}else a=t;return!0}var s=t.line,a=t.ch,u=r,c=qn(e,s),f=!0;if("char"==n)l();else if("column"==n)l(!0);else if("word"==n||"group"==n)for(var h=null,d="group"==n,p=e.cm&&e.cm.getHelper(t,"wordChars"),g=!0;!(0>r)||l(!g);g=!1){var v=c.text.charAt(a)||"\n",m=Fi(v,p)?"w":d&&"\n"==v?"n":!d||/\s/.test(v)?null:"p";if(!d||g||m||(m="s"),h&&h!=m){0>r&&(r=1,l());break}if(m&&(h=m),r>0&&!l(!g))break}var y=De(e,Po(s,a),u,!0);return f||(y.hitSide=!0),y}function Ur(e,t,r,n){var i,o=e.doc,l=t.left;if("page"==n){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);i=t.top+r*(s-(0>r?1.5:.5)*mt(e.display))}else"line"==n&&(i=r>0?t.bottom+3:t.top-3);for(;;){var a=gt(e,l,i);if(!a.outside)break;if(0>r?0>=i:i>=o.height){a.hitSide=!0;break}i+=5*r}return a}function Vr(t,r,n,i){e.defaults[t]=r,n&&(Zo[t]=i?function(e,t,r){r!=Qo&&n(e,t,r)}:n)}function Kr(e){for(var t,r,n,i,o=e.split(/-(?!$)/),e=o[o.length-1],l=0;l<o.length-1;l++){var s=o[l];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))r=!0;else{if(!/^s(hift)$/i.test(s))throw new Error("Unrecognized modifier name: "+s);n=!0}}return t&&(e="Alt-"+e),r&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function jr(e){return"string"==typeof e?sl[e]:e}function Xr(e,t,r,n,i){if(n&&n.shared)return _r(e,t,r,n,i);if(e.cm&&!e.cm.curOp)return At(e.cm,Xr)(e,t,r,n,i);var o=new dl(e,i),l=Eo(t,r);if(n&&Ii(n,o,!1),l>0||0==l&&o.clearWhenEmpty!==!1)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=Gi("span",[o.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(vn(e,t.line,t,r,o)||t.line!=r.line&&vn(e,r.line,t,r,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ho=!0}o.addToHistory&&ai(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var s,a=t.line,u=e.cm;if(e.iter(a,r.line+1,function(e){u&&o.collapsed&&!u.options.lineWrapping&&mn(e)==u.display.maxLine&&(s=!0),o.collapsed&&a!=t.line&&Jn(e,0),en(e,new Zr(o,a==t.line?t.ch:null,a==r.line?r.ch:null)),++a}),o.collapsed&&e.iter(t.line,r.line+1,function(t){xn(e,t)&&Jn(t,0)}),o.clearOnEnter&&kl(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(Do=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++hl,o.atomic=!0),u){if(s&&(u.curOp.updateMaxLine=!0),o.collapsed)Pt(u,t.line,r.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var c=t.line;c<=r.line;c++)Et(u,c,"text");o.atomic&&We(u.doc),Ci(u,"markerAdded",u,o)}return o}function _r(e,t,r,n,i){n=Ii(n),n.shared=!1;var o=[Xr(e,t,r,n,i)],l=o[0],s=n.widgetNode;return Yn(e,function(e){s&&(n.widgetNode=s.cloneNode(!0)),o.push(Xr(e,ve(e,t),ve(e,r),n,i));for(var a=0;a<e.linked.length;++a)if(e.linked[a].isParent)return;l=Oi(o)}),new pl(o,l)}function Yr(e){return e.findMarks(Po(e.first,0),e.clipPos(Po(e.lastLine())),function(e){return e.parent})}function $r(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.find(),o=e.clipPos(i.from),l=e.clipPos(i.to);if(Eo(o,l)){var s=Xr(e,o,l,n.primary,n.primary.type);n.markers.push(s),s.parent=n}}}function qr(e){for(var t=0;t<e.length;t++){var r=e[t],n=[r.primary.doc];Yn(r.primary.doc,function(e){n.push(e)});for(var i=0;i<r.markers.length;i++){var o=r.markers[i];-1==Di(n,o.doc)&&(o.parent=null,r.markers.splice(i--,1))}}}function Zr(e,t,r){this.marker=e,this.from=t,this.to=r}function Qr(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function Jr(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function en(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function tn(e,t,r){if(e)for(var n,i=0;i<e.length;++i){var o=e[i],l=o.marker,s=null==o.from||(l.inclusiveLeft?o.from<=t:o.from<t);if(s||o.from==t&&"bookmark"==l.type&&(!r||!o.marker.insertLeft)){var a=null==o.to||(l.inclusiveRight?o.to>=t:o.to>t);(n||(n=[])).push(new Zr(l,o.from,a?null:o.to))}}return n}function rn(e,t,r){if(e)for(var n,i=0;i<e.length;++i){var o=e[i],l=o.marker,s=null==o.to||(l.inclusiveRight?o.to>=t:o.to>t);if(s||o.from==t&&"bookmark"==l.type&&(!r||o.marker.insertLeft)){var a=null==o.from||(l.inclusiveLeft?o.from<=t:o.from<t);(n||(n=[])).push(new Zr(l,a?null:o.from-t,null==o.to?null:o.to-t))}}return n}function nn(e,t){if(t.full)return null;var r=ye(e,t.from.line)&&qn(e,t.from.line).markedSpans,n=ye(e,t.to.line)&&qn(e,t.to.line).markedSpans;if(!r&&!n)return null;var i=t.from.ch,o=t.to.ch,l=0==Eo(t.from,t.to),s=tn(r,i,l),a=rn(n,o,l),u=1==t.text.length,c=Oi(t.text).length+(u?i:0);if(s)for(var f=0;f<s.length;++f){var h=s[f];if(null==h.to){var d=Qr(a,h.marker);d?u&&(h.to=null==d.to?null:d.to+c):h.to=i}}if(a)for(var f=0;f<a.length;++f){var h=a[f];if(null!=h.to&&(h.to+=c),null==h.from){var d=Qr(s,h.marker);d||(h.from=c,u&&(s||(s=[])).push(h))}else h.from+=c,u&&(s||(s=[])).push(h)}s&&(s=on(s)),a&&a!=s&&(a=on(a));var p=[s];if(!u){var g,v=t.text.length-2;if(v>0&&s)for(var f=0;f<s.length;++f)null==s[f].to&&(g||(g=[])).push(new Zr(s[f].marker,null,null));for(var f=0;v>f;++f)p.push(g);p.push(a)}return p}function on(e){for(var t=0;t<e.length;++t){var r=e[t];null!=r.from&&r.from==r.to&&r.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function ln(e,t){var r=pi(e,t),n=nn(e,t);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var o=r[i],l=n[i];if(o&&l)e:for(var s=0;s<l.length;++s){for(var a=l[s],u=0;u<o.length;++u)if(o[u].marker==a.marker)continue e;o.push(a)}else l&&(r[i]=l)}return r}function sn(e,t,r){var n=null;if(e.iter(t.line,r.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var r=e.markedSpans[t].marker;!r.readOnly||n&&-1!=Di(n,r)||(n||(n=[])).push(r)}}),!n)return null;for(var i=[{from:t,to:r}],o=0;o<n.length;++o)for(var l=n[o],s=l.find(0),a=0;a<i.length;++a){var u=i[a];if(!(Eo(u.to,s.from)<0||Eo(u.from,s.to)>0)){var c=[a,1],f=Eo(u.from,s.from),h=Eo(u.to,s.to);(0>f||!l.inclusiveLeft&&!f)&&c.push({from:u.from,to:s.from}),(h>0||!l.inclusiveRight&&!h)&&c.push({from:s.to,to:u.to}),i.splice.apply(i,c),a+=c.length-1}}return i}function an(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function un(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function cn(e){return e.inclusiveLeft?-1:0}function fn(e){return e.inclusiveRight?1:0}function hn(e,t){var r=e.lines.length-t.lines.length;if(0!=r)return r;var n=e.find(),i=t.find(),o=Eo(n.from,i.from)||cn(e)-cn(t);if(o)return-o;var l=Eo(n.to,i.to)||fn(e)-fn(t);return l?l:t.id-e.id}function dn(e,t){var r,n=Ho&&e.markedSpans;if(n)for(var i,o=0;o<n.length;++o)i=n[o],i.marker.collapsed&&null==(t?i.from:i.to)&&(!r||hn(r,i.marker)<0)&&(r=i.marker);return r}function pn(e){return dn(e,!0)}function gn(e){return dn(e,!1)}function vn(e,t,r,n,i){var o=qn(e,t),l=Ho&&o.markedSpans;if(l)for(var s=0;s<l.length;++s){var a=l[s];if(a.marker.collapsed){var u=a.marker.find(0),c=Eo(u.from,r)||cn(a.marker)-cn(i),f=Eo(u.to,n)||fn(a.marker)-fn(i);if(!(c>=0&&0>=f||0>=c&&f>=0)&&(0>=c&&(Eo(u.to,r)>0||a.marker.inclusiveRight&&i.inclusiveLeft)||c>=0&&(Eo(u.from,n)<0||a.marker.inclusiveLeft&&i.inclusiveRight)))return!0}}}function mn(e){for(var t;t=pn(e);)e=t.find(-1,!0).line;return e}function yn(e){for(var t,r;t=gn(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}function bn(e,t){var r=qn(e,t),n=mn(r);return r==n?t:ei(n)}function wn(e,t){if(t>e.lastLine())return t;var r,n=qn(e,t);if(!xn(e,n))return t;for(;r=gn(n);)n=r.find(1,!0).line;return ei(n)+1}function xn(e,t){var r=Ho&&t.markedSpans;if(r)for(var n,i=0;i<r.length;++i)if(n=r[i],n.marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&Cn(e,t,n))return!0}}function Cn(e,t,r){if(null==r.to){var n=r.marker.find(1,!0);return Cn(e,n.line,Qr(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var i,o=0;o<t.markedSpans.length;++o)if(i=t.markedSpans[o],i.marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(null==i.to||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&Cn(e,t,i))return!0}function Sn(e,t,r){ri(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Er(e,null,r)}function Ln(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!Ul(document.body,e.node)){var r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),Vi(t.display.measure,Gi("div",[e.node],null,r))}return e.height=e.node.offsetHeight}function Tn(e,t,r,n){var i=new gl(e,r,n),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),Rr(e,t,"widget",function(t){var r=t.widgets||(t.widgets=[]);if(null==i.insertAt?r.push(i):r.splice(Math.min(r.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!xn(e,t)){var n=ri(t)<e.scrollTop;Jn(t,t.height+Ln(i)),n&&Er(o,null,i.height),o.curOp.forceUpdate=!0}return!0}),i}function kn(e,t,r,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),an(e),un(e,r);var i=n?n(e):1;i!=e.height&&Jn(e,i)}function Mn(e){e.parent=null,an(e)}function Nn(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==t[n]?t[n]=r[2]:new RegExp("(?:^|s)"+r[2]+"(?:$|s)").test(t[n])||(t[n]+=" "+r[2])}return e}function An(t,r){if(t.blankLine)return t.blankLine(r);if(t.innerMode){var n=e.innerMode(t,r);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function Wn(t,r,n,i){for(var o=0;10>o;o++){i&&(i[0]=e.innerMode(t,n).mode);var l=t.token(r,n);if(r.pos>r.start)return l}throw new Error("Mode "+t.name+" failed to advance stream.")}function On(e,t,r,n){function i(e){return{start:f.start,end:f.pos,string:f.current(),type:o||null,state:e?il(l.mode,c):c}}var o,l=e.doc,s=l.mode;t=ve(l,t);var a,u=qn(l,t.line),c=Ge(e,t.line,r),f=new fl(u.text,e.options.tabSize);for(n&&(a=[]);(n||f.pos<t.ch)&&!f.eol();)f.start=f.pos,o=Wn(s,f,c),n&&a.push(i(!0));return n?a:i()}function Dn(e,t,r,n,i,o,l){var s=r.flattenSpans;null==s&&(s=e.options.flattenSpans);var a,u=0,c=null,f=new fl(t,e.options.tabSize),h=e.options.addModeClass&&[null];for(""==t&&Nn(An(r,n),o);!f.eol();){if(f.pos>e.options.maxHighlightLength?(s=!1,l&&En(e,t,n,f.pos),f.pos=t.length,a=null):a=Nn(Wn(r,f,n,h),o),h){var d=h[0].name;d&&(a="m-"+(a?d+" "+a:d))}if(!s||c!=a){for(;u<f.start;)u=Math.min(f.start,u+5e4),i(u,c);c=a}f.start=f.pos}for(;u<f.pos;){var p=Math.min(f.pos,u+5e4);i(p,c),u=p}}function Hn(e,t,r,n){var i=[e.state.modeGen],o={};Dn(e,t.text,e.doc.mode,r,function(e,t){i.push(e,t)},o,n);for(var l=0;l<e.state.overlays.length;++l){var s=e.state.overlays[l],a=1,u=0;Dn(e,t.text,s.mode,!0,function(e,t){for(var r=a;e>u;){var n=i[a];n>e&&i.splice(a,1,e,i[a+1],n),a+=2,u=Math.min(e,n)}if(t)if(s.opaque)i.splice(r,a-r,e,"cm-overlay "+t),a=r+2;else for(;a>r;r+=2){var o=i[r+1];i[r+1]=(o?o+" ":"")+"cm-overlay "+t}},o)}return{styles:i,classes:o.bgClass||o.textClass?o:null}}function Pn(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=Ge(e,ei(t)),i=Hn(e,t,t.text.length>e.options.maxHighlightLength?il(e.doc.mode,n):n);t.stateAfter=n,t.styles=i.styles,i.classes?t.styleClasses=i.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.frontier&&e.doc.frontier++}return t.styles}function En(e,t,r,n){var i=e.doc.mode,o=new fl(t,e.options.tabSize);for(o.start=o.pos=n||0,""==t&&An(i,r);!o.eol();)Wn(i,o,r),o.start=o.pos}function In(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?yl:ml;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function zn(e,t){var r=Gi("span",null,null,yo?"padding-right: .1px":null),n={pre:Gi("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,splitSpaces:(vo||yo)&&e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o,l=i?t.rest[i-1]:t.line;n.pos=0,n.addToken=Rn,Zi(e.display.measure)&&(o=ni(l))&&(n.addToken=Gn(n.addToken,o)),n.map=[];var s=t!=e.display.externalMeasured&&ei(l);Vn(l,n,Pn(e,l,s)),l.styleClasses&&(l.styleClasses.bgClass&&(n.bgClass=Xi(l.styleClasses.bgClass,n.bgClass||"")),l.styleClasses.textClass&&(n.textClass=Xi(l.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(qi(e.display.measure))),0==i?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}return yo&&/\bcm-tab\b/.test(n.content.lastChild.className)&&(n.content.className="cm-tab-wrap-hack"),Nl(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=Xi(n.pre.className,n.textClass||"")),n}function Fn(e){var t=Gi("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Rn(e,t,r,n,i,o,l){if(t){var s=e.splitSpaces?t.replace(/ {3,}/g,Bn):t,a=e.cm.state.specialChars,u=!1;if(a.test(t))for(var c=document.createDocumentFragment(),f=0;;){a.lastIndex=f;var h=a.exec(t),d=h?h.index-f:t.length-f;if(d){var p=document.createTextNode(s.slice(f,f+d));vo&&9>mo?c.appendChild(Gi("span",[p])):c.appendChild(p),e.map.push(e.pos,e.pos+d,p),e.col+=d,e.pos+=d}if(!h)break;if(f+=d+1,"	"==h[0]){var g=e.cm.options.tabSize,v=g-e.col%g,p=c.appendChild(Gi("span",Wi(v),"cm-tab"));p.setAttribute("role","presentation"),p.setAttribute("cm-text","	"),e.col+=v}else if("\r"==h[0]||"\n"==h[0]){var p=c.appendChild(Gi("span","\r"==h[0]?"␍":"␤","cm-invalidchar"));p.setAttribute("cm-text",h[0]),e.col+=1}else{var p=e.cm.options.specialCharPlaceholder(h[0]);p.setAttribute("cm-text",h[0]),vo&&9>mo?c.appendChild(Gi("span",[p])):c.appendChild(p),e.col+=1}e.map.push(e.pos,e.pos+1,p),e.pos++}else{e.col+=t.length;var c=document.createTextNode(s);e.map.push(e.pos,e.pos+t.length,c),vo&&9>mo&&(u=!0),e.pos+=t.length}if(r||n||i||u||l){var m=r||"";n&&(m+=n),i&&(m+=i);var y=Gi("span",[c],m,l);return o&&(y.title=o),e.content.appendChild(y)}e.content.appendChild(c)}}function Bn(e){for(var t=" ",r=0;r<e.length-2;++r)t+=r%2?" ":" ";return t+=" "}function Gn(e,t){return function(r,n,i,o,l,s,a){i=i?i+" cm-force-border":"cm-force-border";for(var u=r.pos,c=u+n.length;;){for(var f=0;f<t.length;f++){var h=t[f];if(h.to>u&&h.from<=u)break}if(h.to>=c)return e(r,n,i,o,l,s,a);e(r,n.slice(0,h.to-u),i,o,null,s,a),o=null,n=n.slice(h.to-u),u=h.to}}}function Un(e,t,r,n){var i=!n&&r.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!n&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",r.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t}function Vn(e,t,r){var n=e.markedSpans,i=e.text,o=0;if(n)for(var l,s,a,u,c,f,h,d=i.length,p=0,g=1,v="",m=0;;){if(m==p){a=u=c=f=s="",h=null,m=1/0;for(var y=[],b=0;b<n.length;++b){var w=n[b],x=w.marker;"bookmark"==x.type&&w.from==p&&x.widgetNode?y.push(x):w.from<=p&&(null==w.to||w.to>p||x.collapsed&&w.to==p&&w.from==p)?(null!=w.to&&w.to!=p&&m>w.to&&(m=w.to,u=""),x.className&&(a+=" "+x.className),x.css&&(s=x.css),x.startStyle&&w.from==p&&(c+=" "+x.startStyle),x.endStyle&&w.to==m&&(u+=" "+x.endStyle),x.title&&!f&&(f=x.title),x.collapsed&&(!h||hn(h.marker,x)<0)&&(h=w)):w.from>p&&m>w.from&&(m=w.from)}if(h&&(h.from||0)==p){if(Un(t,(null==h.to?d+1:h.to)-p,h.marker,null==h.from),null==h.to)return;h.to==p&&(h=!1)}if(!h&&y.length)for(var b=0;b<y.length;++b)Un(t,0,y[b])}if(p>=d)break;for(var C=Math.min(d,m);;){if(v){var S=p+v.length;if(!h){var L=S>C?v.slice(0,C-p):v;t.addToken(t,L,l?l+a:a,c,p+L.length==m?u:"",f,s)}if(S>=C){v=v.slice(C-p),p=C;break}p=S,c=""}v=i.slice(o,o=r[g++]),l=In(r[g++],t.cm.options)}}else for(var g=1;g<r.length;g+=2)t.addToken(t,i.slice(o,o=r[g]),In(r[g+1],t.cm.options))}function Kn(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Oi(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function jn(e,t,r,n){function i(e){return r?r[e]:null}function o(e,r,i){kn(e,r,i,n),Ci(e,"change",e,t)}function l(e,t){for(var r=e,o=[];t>r;++r)o.push(new vl(u[r],i(r),n));return o}var s=t.from,a=t.to,u=t.text,c=qn(e,s.line),f=qn(e,a.line),h=Oi(u),d=i(u.length-1),p=a.line-s.line;if(t.full)e.insert(0,l(0,u.length)),e.remove(u.length,e.size-u.length);else if(Kn(e,t)){var g=l(0,u.length-1);o(f,f.text,d),p&&e.remove(s.line,p),g.length&&e.insert(s.line,g)}else if(c==f)if(1==u.length)o(c,c.text.slice(0,s.ch)+h+c.text.slice(a.ch),d);else{var g=l(1,u.length-1);g.push(new vl(h+c.text.slice(a.ch),d,n)),o(c,c.text.slice(0,s.ch)+u[0],i(0)),e.insert(s.line+1,g)}else if(1==u.length)o(c,c.text.slice(0,s.ch)+u[0]+f.text.slice(a.ch),i(0)),e.remove(s.line+1,p);else{o(c,c.text.slice(0,s.ch)+u[0],i(0)),o(f,h+f.text.slice(a.ch),d);var g=l(1,u.length-1);p>1&&e.remove(s.line+1,p-1),e.insert(s.line+1,g)}Ci(e,"change",e,t)}function Xn(e){this.lines=e,this.parent=null;for(var t=0,r=0;t<e.length;++t)e[t].parent=this,r+=e[t].height;this.height=r}function _n(e){this.children=e;for(var t=0,r=0,n=0;n<e.length;++n){var i=e[n];t+=i.chunkSize(),r+=i.height,i.parent=this}this.size=t,this.height=r,this.parent=null}function Yn(e,t,r){function n(e,i,o){if(e.linked)for(var l=0;l<e.linked.length;++l){var s=e.linked[l];if(s.doc!=i){var a=o&&s.sharedHist;(!r||a)&&(t(s.doc,a),n(s.doc,e,a))}}}n(e,null,!0)}function $n(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,l(e),r(e),e.options.lineWrapping||h(e),e.options.mode=t.modeOption,Pt(e)}function qn(e,t){if(t-=e.first,0>t||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var i=r.children[n],o=i.chunkSize();if(o>t){r=i;break}t-=o}return r.lines[t]}function Zn(e,t,r){var n=[],i=t.line;return e.iter(t.line,r.line+1,function(e){var o=e.text;i==r.line&&(o=o.slice(0,r.ch)),i==t.line&&(o=o.slice(t.ch)),n.push(o),++i}),n}function Qn(e,t,r){var n=[];return e.iter(t,r,function(e){n.push(e.text)}),n}function Jn(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function ei(e){if(null==e.parent)return null;for(var t=e.parent,r=Di(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var i=0;n.children[i]!=t;++i)r+=n.children[i].chunkSize();return r+t.first}function ti(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var i=e.children[n],o=i.height;if(o>t){e=i;continue e}t-=o,r+=i.chunkSize()}return r}while(!e.lines);for(var n=0;n<e.lines.length;++n){var l=e.lines[n],s=l.height;if(s>t)break;t-=s}return r+n}function ri(e){e=mn(e);for(var t=0,r=e.parent,n=0;n<r.lines.length;++n){var i=r.lines[n];if(i==e)break;t+=i.height}for(var o=r.parent;o;r=o,o=r.parent)for(var n=0;n<o.children.length;++n){var l=o.children[n];if(l==r)break;t+=l.height}return t}function ni(e){var t=e.order;return null==t&&(t=e.order=ts(e.text)),
t}function ii(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function oi(e,t){var r={from:_(t.from),to:$o(t),text:Zn(e,t.from,t.to)};return hi(e,r,t.from.line,t.to.line+1),Yn(e,function(e){hi(e,r,t.from.line,t.to.line+1)},!0),r}function li(e){for(;e.length;){var t=Oi(e);if(!t.ranges)break;e.pop()}}function si(e,t){return t?(li(e.done),Oi(e.done)):e.done.length&&!Oi(e.done).ranges?Oi(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Oi(e.done)):void 0}function ai(e,t,r,n){var i=e.history;i.undone.length=0;var o,l=+new Date;if((i.lastOp==n||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>l-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=si(i,i.lastOp==n))){var s=Oi(o.changes);0==Eo(t.from,t.to)&&0==Eo(t.from,s.to)?s.to=$o(t):o.changes.push(oi(e,t))}else{var a=Oi(i.done);for(a&&a.ranges||fi(e.sel,i.done),o={changes:[oi(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=l,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=t.origin,s||Nl(e,"historyAdded")}function ui(e,t,r,n){var i=t.charAt(0);return"*"==i||"+"==i&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function ci(e,t,r,n){var i=e.history,o=n&&n.origin;r==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||ui(e,o,Oi(i.done),t))?i.done[i.done.length-1]=t:fi(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=r,n&&n.clearRedo!==!1&&li(i.undone)}function fi(e,t){var r=Oi(t);r&&r.ranges&&r.equals(e)||t.push(e)}function hi(e,t,r,n){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),function(r){r.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=r.markedSpans),++o})}function di(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function pi(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=0,i=[];n<t.text.length;++n)i.push(di(r[n]));return i}function gi(e,t,r){for(var n=0,i=[];n<e.length;++n){var o=e[n];if(o.ranges)i.push(r?fe.prototype.deepCopy.call(o):o);else{var l=o.changes,s=[];i.push({changes:s});for(var a=0;a<l.length;++a){var u,c=l[a];if(s.push({from:c.from,to:c.to,text:c.text}),t)for(var f in c)(u=f.match(/^spans_(\d+)$/))&&Di(t,Number(u[1]))>-1&&(Oi(s)[f]=c[f],delete c[f])}}}return i}function vi(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function mi(e,t,r,n){for(var i=0;i<e.length;++i){var o=e[i],l=!0;if(o.ranges){o.copied||(o=e[i]=o.deepCopy(),o.copied=!0);for(var s=0;s<o.ranges.length;s++)vi(o.ranges[s].anchor,t,r,n),vi(o.ranges[s].head,t,r,n)}else{for(var s=0;s<o.changes.length;++s){var a=o.changes[s];if(r<a.from.line)a.from=Po(a.from.line+n,a.from.ch),a.to=Po(a.to.line+n,a.to.ch);else if(t<=a.to.line){l=!1;break}}l||(e.splice(0,i+1),i=0)}}}function yi(e,t){var r=t.from.line,n=t.to.line,i=t.text.length-(n-r)-1;mi(e.done,r,n,i),mi(e.undone,r,n,i)}function bi(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function wi(e){return e.target||e.srcElement}function xi(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Mo&&e.ctrlKey&&1==t&&(t=3),t}function Ci(e,t){function r(e){return function(){e.apply(null,o)}}var n=e._handlers&&e._handlers[t];if(n){var i,o=Array.prototype.slice.call(arguments,2);Go?i=Go.delayedCallbacks:Al?i=Al:(i=Al=[],setTimeout(Si,0));for(var l=0;l<n.length;++l)i.push(r(n[l]))}}function Si(){var e=Al;Al=null;for(var t=0;t<e.length;++t)e[t]()}function Li(e,t,r){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Nl(e,r||t.type,e,t),bi(t)||t.codemirrorIgnore}function Ti(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==Di(r,t[n])&&r.push(t[n])}function ki(e,t){var r=e._handlers&&e._handlers[t];return r&&r.length>0}function Mi(e){e.prototype.on=function(e,t){kl(this,e,t)},e.prototype.off=function(e,t){Ml(this,e,t)}}function Ni(){this.id=null}function Ai(e,t,r){for(var n=0,i=0;;){var o=e.indexOf("	",n);-1==o&&(o=e.length);var l=o-n;if(o==e.length||i+l>=t)return n+Math.min(l,t-i);if(i+=o-n,i+=r-i%r,n=o+1,i>=t)return n}}function Wi(e){for(;Il.length<=e;)Il.push(Oi(Il)+" ");return Il[e]}function Oi(e){return e[e.length-1]}function Di(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}function Hi(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function Pi(){}function Ei(e,t){var r;return Object.create?r=Object.create(e):(Pi.prototype=e,r=new Pi),t&&Ii(t,r),r}function Ii(e,t,r){t||(t={});for(var n in e)!e.hasOwnProperty(n)||r===!1&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function zi(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function Fi(e,t){return t?t.source.indexOf("\\w")>-1&&Bl(e)?!0:t.test(e):Bl(e)}function Ri(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function Bi(e){return e.charCodeAt(0)>=768&&Gl.test(e)}function Gi(e,t,r,n){var i=document.createElement(e);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function Ui(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function Vi(e,t){return Ui(e).appendChild(t)}function Ki(){for(var e=document.activeElement;e&&e.root&&e.root.activeElement;)e=e.root.activeElement;return e}function ji(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function Xi(e,t){for(var r=e.split(" "),n=0;n<r.length;n++)r[n]&&!ji(r[n]).test(t)&&(t+=" "+r[n]);return t}function _i(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),r=0;r<t.length;r++){var n=t[r].CodeMirror;n&&e(n)}}function Yi(){_l||($i(),_l=!0)}function $i(){var e;kl(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,_i(Vt)},100))}),kl(window,"blur",function(){_i(vr)})}function qi(e){if(null==Vl){var t=Gi("span","​");Vi(e,Gi("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Vl=t.offsetWidth<=1&&t.offsetHeight>2&&!(vo&&8>mo))}var r=Vl?Gi("span","​"):Gi("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function Zi(e){if(null!=Kl)return Kl;var t=Vi(e,document.createTextNode("AخA")),r=Fl(t,0,1).getBoundingClientRect();if(!r||r.left==r.right)return!1;var n=Fl(t,1,2).getBoundingClientRect();return Kl=n.right-r.right<3}function Qi(e){if(null!=Ql)return Ql;var t=Vi(e,Gi("span","x")),r=t.getBoundingClientRect(),n=Fl(t,0,1).getBoundingClientRect();return Ql=Math.abs(r.left-n.left)>1}function Ji(e,t,r,n){if(!e)return n(t,r,"ltr");for(var i=!1,o=0;o<e.length;++o){var l=e[o];(l.from<r&&l.to>t||t==r&&l.to==t)&&(n(Math.max(l.from,t),Math.min(l.to,r),1==l.level?"rtl":"ltr"),i=!0)}i||n(t,r,"ltr")}function eo(e){return e.level%2?e.to:e.from}function to(e){return e.level%2?e.from:e.to}function ro(e){var t=ni(e);return t?eo(t[0]):0}function no(e){var t=ni(e);return t?to(Oi(t)):e.text.length}function io(e,t){var r=qn(e.doc,t),n=mn(r);n!=r&&(t=ei(n));var i=ni(n),o=i?i[0].level%2?no(n):ro(n):0;return Po(t,o)}function oo(e,t){for(var r,n=qn(e.doc,t);r=gn(n);)n=r.find(1,!0).line,t=null;var i=ni(n),o=i?i[0].level%2?ro(n):no(n):n.text.length;return Po(null==t?ei(n):t,o)}function lo(e,t){var r=io(e,t.line),n=qn(e.doc,r.line),i=ni(n);if(!i||0==i[0].level){var o=Math.max(0,n.text.search(/\S/)),l=t.line==r.line&&t.ch<=o&&t.ch;return Po(r.line,l?0:o)}return r}function so(e,t,r){var n=e[0].level;return t==n?!0:r==n?!1:r>t}function ao(e,t){es=null;for(var r,n=0;n<e.length;++n){var i=e[n];if(i.from<t&&i.to>t)return n;if(i.from==t||i.to==t){if(null!=r)return so(e,i.level,e[r].level)?(i.from!=i.to&&(es=r),n):(i.from!=i.to&&(es=n),r);r=n}}return r}function uo(e,t,r,n){if(!n)return t+r;do t+=r;while(t>0&&Bi(e.text.charAt(t)));return t}function co(e,t,r,n){var i=ni(e);if(!i)return fo(e,t,r,n);for(var o=ao(i,t),l=i[o],s=uo(e,t,l.level%2?-r:r,n);;){if(s>l.from&&s<l.to)return s;if(s==l.from||s==l.to)return ao(i,s)==o?s:(l=i[o+=r],r>0==l.level%2?l.to:l.from);if(l=i[o+=r],!l)return null;s=r>0==l.level%2?uo(e,l.to,-1,n):uo(e,l.from,1,n)}}function fo(e,t,r,n){var i=t+r;if(n)for(;i>0&&Bi(e.text.charAt(i));)i+=r;return 0>i||i>e.text.length?null:i}var ho=/gecko\/\d/i.test(navigator.userAgent),po=/MSIE \d/.test(navigator.userAgent),go=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),vo=po||go,mo=vo&&(po?document.documentMode||6:go[1]),yo=/WebKit\//.test(navigator.userAgent),bo=yo&&/Qt\/\d+\.\d+/.test(navigator.userAgent),wo=/Chrome\//.test(navigator.userAgent),xo=/Opera\//.test(navigator.userAgent),Co=/Apple Computer/.test(navigator.vendor),So=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),Lo=/PhantomJS/.test(navigator.userAgent),To=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),ko=To||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),Mo=To||/Mac/.test(navigator.platform),No=/win/i.test(navigator.platform),Ao=xo&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);Ao&&(Ao=Number(Ao[1])),Ao&&Ao>=15&&(xo=!1,yo=!0);var Wo=Mo&&(bo||xo&&(null==Ao||12.11>Ao)),Oo=ho||vo&&mo>=9,Do=!1,Ho=!1;g.prototype=Ii({update:function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var i=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(r?n:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedOverlay&&e.clientHeight>0&&(0==n&&this.overlayHack(),this.checkedOverlay=!0),{right:r?n:0,bottom:t?n:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e)},overlayHack:function(){var e=Mo&&!So?"12px":"18px";this.horiz.style.minHeight=this.vert.style.minWidth=e;var t=this,r=function(e){wi(e)!=t.vert&&wi(e)!=t.horiz&&At(t.cm,Xt)(e)};kl(this.vert,"mousedown",r),kl(this.horiz,"mousedown",r)},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},g.prototype),v.prototype=Ii({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},v.prototype),e.scrollbarModel={native:g,null:v},T.prototype.signal=function(e,t){ki(e,t)&&this.events.push(arguments)},T.prototype.finish=function(){for(var e=0;e<this.events.length;e++)Nl.apply(null,this.events[e])};var Po=e.Pos=function(e,t){return this instanceof Po?(this.line=e,void(this.ch=t)):new Po(e,t)},Eo=e.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch},Io=null;ne.prototype=Ii({init:function(e){function t(e){if(n.somethingSelected())Io=n.getSelections(),r.inaccurateSelection&&(r.prevInput="",r.inaccurateSelection=!1,o.value=Io.join("\n"),zl(o));else{if(!n.options.lineWiseCopyCut)return;var t=te(n);Io=t.text,"cut"==e.type?n.setSelections(t.ranges,null,Dl):(r.prevInput="",o.value=t.text.join("\n"),zl(o))}"cut"==e.type&&(n.state.cutIncoming=!0)}var r=this,n=this.cm,i=this.wrapper=ie(),o=this.textarea=i.firstChild;e.wrapper.insertBefore(i,e.wrapper.firstChild),To&&(o.style.width="0px"),kl(o,"input",function(){vo&&mo>=9&&r.hasSelection&&(r.hasSelection=null),r.poll()}),kl(o,"paste",function(e){return J(e,n)?!0:(n.state.pasteIncoming=!0,void r.fastPoll())}),kl(o,"cut",t),kl(o,"copy",t),kl(e.scroller,"paste",function(t){Kt(e,t)||(n.state.pasteIncoming=!0,r.focus())}),kl(e.lineSpace,"selectstart",function(t){Kt(e,t)||Sl(t)}),kl(o,"compositionstart",function(){var e=n.getCursor("from");r.composing={start:e,range:n.markText(e,n.getCursor("to"),{className:"CodeMirror-composing"})}}),kl(o,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},prepareSelection:function(){var e=this.cm,t=e.display,r=e.doc,n=Pe(e);if(e.options.moveInputWithCursor){var i=ht(e,r.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),l=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+l.top-o.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+l.left-o.left))}return n},showSelection:function(e){var t=this.cm,r=t.display;Vi(r.cursorDiv,e.cursors),Vi(r.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){if(!this.contextMenuPending){var t,r,n=this.cm,i=n.doc;if(n.somethingSelected()){this.prevInput="";var o=i.sel.primary();t=Zl&&(o.to().line-o.from().line>100||(r=n.getSelection()).length>1e3);var l=t?"-":r||n.getSelection();this.textarea.value=l,n.state.focused&&zl(this.textarea),vo&&mo>=9&&(this.hasSelection=l)}else e||(this.prevInput=this.textarea.value="",vo&&mo>=9&&(this.hasSelection=null));this.inaccurateSelection=t}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!ko||Ki()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){function e(){var n=r.poll();n||t?(r.pollingFast=!1,r.slowPoll()):(t=!0,r.polling.set(60,e))}var t=!1,r=this;r.pollingFast=!0,r.polling.set(20,e)},poll:function(){var e=this.cm,t=this.textarea,r=this.prevInput;if(this.contextMenuPending||!e.state.focused||ql(t)&&!r&&!this.composing||Z(e)||e.options.disableInput||e.state.keySeq)return!1;var n=t.value;if(n==r&&!e.somethingSelected())return!1;if(vo&&mo>=9&&this.hasSelection===n||Mo&&/[\uf700-\uf7ff]/.test(n))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var i=n.charCodeAt(0);if(8203!=i||r||(r="​"),8666==i)return this.reset(),this.cm.execCommand("undo")}for(var o=0,l=Math.min(r.length,n.length);l>o&&r.charCodeAt(o)==n.charCodeAt(o);)++o;var s=this;return Nt(e,function(){Q(e,n.slice(o),r.length-o,null,s.composing?"*compose":null),n.length>1e3||n.indexOf("\n")>-1?t.value=s.prevInput="":s.prevInput=n,s.composing&&(s.composing.range.clear(),s.composing.range=e.markText(s.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){vo&&mo>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){function t(){if(null!=l.selectionStart){var e=i.somethingSelected(),t="​"+(e?l.value:"");l.value="⇚",l.value=t,n.prevInput=e?"":"​",l.selectionStart=1,l.selectionEnd=t.length,o.selForContextMenu=i.doc.sel}}function r(){if(n.contextMenuPending=!1,n.wrapper.style.position="relative",l.style.cssText=c,vo&&9>mo&&o.scrollbars.setScrollTop(o.scroller.scrollTop=a),null!=l.selectionStart){(!vo||vo&&9>mo)&&t();var e=0,r=function(){o.selForContextMenu==i.doc.sel&&0==l.selectionStart&&l.selectionEnd>0&&"​"==n.prevInput?At(i,ll.selectAll)(i):e++<10?o.detectingSelectAll=setTimeout(r,500):o.input.reset()};o.detectingSelectAll=setTimeout(r,200)}}var n=this,i=n.cm,o=i.display,l=n.textarea,s=jt(i,e),a=o.scroller.scrollTop;if(s&&!xo){var u=i.options.resetSelectionOnContextMenu;u&&-1==i.doc.sel.contains(s)&&At(i,Me)(i.doc,pe(s),Dl);var c=l.style.cssText;if(n.wrapper.style.position="absolute",l.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: "+(vo?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",yo)var f=window.scrollY;if(o.input.focus(),yo&&window.scrollTo(null,f),o.input.reset(),i.somethingSelected()||(l.value=n.prevInput=" "),n.contextMenuPending=!0,o.selForContextMenu=i.doc.sel,clearTimeout(o.detectingSelectAll),vo&&mo>=9&&t(),Oo){Tl(e);var h=function(){Ml(window,"mouseup",h),setTimeout(r,20)};kl(window,"mouseup",h)}else setTimeout(r,50)}},setUneditable:Pi,needsContentAttribute:!1},ne.prototype),oe.prototype=Ii({init:function(e){function t(e){if(n.somethingSelected())Io=n.getSelections(),"cut"==e.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var t=te(n);Io=t.text,"cut"==e.type&&n.operation(function(){n.setSelections(t.ranges,0,Dl),n.replaceSelection("",null,"cut")})}if(e.clipboardData&&!To)e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/plain",Io.join("\n"));else{var r=ie(),i=r.firstChild;n.display.lineSpace.insertBefore(r,n.display.lineSpace.firstChild),i.value=Io.join("\n");var o=document.activeElement;zl(i),setTimeout(function(){n.display.lineSpace.removeChild(r),o.focus()},50)}}var r=this,n=r.cm,i=r.div=e.lineDiv;i.contentEditable="true",re(i),kl(i,"paste",function(e){J(e,n)}),kl(i,"compositionstart",function(e){var t=e.data;if(r.composing={sel:n.doc.sel,data:t,startData:t},t){var i=n.doc.sel.primary(),o=n.getLine(i.head.line),l=o.indexOf(t,Math.max(0,i.head.ch-t.length));l>-1&&l<=i.head.ch&&(r.composing.sel=pe(Po(i.head.line,l),Po(i.head.line,l+t.length)))}}),kl(i,"compositionupdate",function(e){r.composing.data=e.data}),kl(i,"compositionend",function(e){var t=r.composing;t&&(e.data==t.startData||/\u200b/.test(e.data)||(t.data=e.data),setTimeout(function(){t.handled||r.applyComposition(t),r.composing==t&&(r.composing=null)},50))}),kl(i,"touchstart",function(){r.forceCompositionEnd()}),kl(i,"input",function(){r.composing||r.pollContent()||Nt(r.cm,function(){Pt(n)})}),kl(i,"copy",t),kl(i,"cut",t)},prepareSelection:function(){var e=Pe(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e){e&&this.cm.display.view.length&&(e.focus&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),r=ae(this.cm,e.anchorNode,e.anchorOffset),n=ae(this.cm,e.focusNode,e.focusOffset);if(!r||r.bad||!n||n.bad||0!=Eo($(r,n),t.from())||0!=Eo(Y(r,n),t.to())){var i=le(this.cm,t.from()),o=le(this.cm,t.to());if(i||o){var l=this.cm.display.view,s=e.rangeCount&&e.getRangeAt(0);if(i){if(!o){var a=l[l.length-1].measure,u=a.maps?a.maps[a.maps.length-1]:a.map;o={node:u[u.length-1],offset:u[u.length-2]-u[u.length-3]}}}else i={node:l[0].measure.map[2],offset:0};try{var c=Fl(i.node,i.offset,o.offset,o.node)}catch(f){}c&&(e.removeAllRanges(),e.addRange(c),s&&null==e.anchorNode?e.addRange(s):ho&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){e.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(e){Vi(this.cm.display.cursorDiv,e.cursors),Vi(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return Ul(this.div,t)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():Nt(this.cm,function(){t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var r=ae(t,e.anchorNode,e.anchorOffset),n=ae(t,e.focusNode,e.focusOffset);r&&n&&Nt(t,function(){Me(t.doc,pe(r,n),Dl),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}},pollContent:function(){var e=this.cm,t=e.display,r=e.doc.sel.primary(),n=r.from(),i=r.to();if(n.line<t.viewFrom||i.line>t.viewTo-1)return!1;var o;if(n.line==t.viewFrom||0==(o=zt(e,n.line)))var l=ei(t.view[0].line),s=t.view[0].node;else var l=ei(t.view[o].line),s=t.view[o-1].node.nextSibling;var a=zt(e,i.line);if(a==t.view.length-1)var u=t.viewTo-1,c=t.lineDiv.lastChild;else var u=ei(t.view[a+1].line)-1,c=t.view[a+1].node.previousSibling;for(var f=e.doc.splitLines(ce(e,s,c,l,u)),h=Zn(e.doc,Po(l,0),Po(u,qn(e.doc,u).text.length));f.length>1&&h.length>1;)if(Oi(f)==Oi(h))f.pop(),h.pop(),u--;else{if(f[0]!=h[0])break;f.shift(),h.shift(),l++}for(var d=0,p=0,g=f[0],v=h[0],m=Math.min(g.length,v.length);m>d&&g.charCodeAt(d)==v.charCodeAt(d);)++d;for(var y=Oi(f),b=Oi(h),w=Math.min(y.length-(1==f.length?d:0),b.length-(1==h.length?d:0));w>p&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)++p;f[f.length-1]=y.slice(0,y.length-p),f[0]=f[0].slice(d);var x=Po(l,d),C=Po(u,h.length?Oi(h).length-p:0);return f.length>1||f[0]||Eo(x,C)?(Wr(e.doc,f,x,C,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){e.data&&e.data!=e.startData&&At(this.cm,Q)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.setAttribute("contenteditable","false")},onKeyPress:function(e){e.preventDefault(),At(this.cm,Q)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},onContextMenu:Pi,resetPosition:Pi,needsContentAttribute:!0},oe.prototype),e.inputStyles={textarea:ne,contenteditable:oe},fe.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t],n=e.ranges[t];if(0!=Eo(r.anchor,n.anchor)||0!=Eo(r.head,n.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new he(_(this.ranges[t].anchor),_(this.ranges[t].head));return new fe(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var r=0;r<this.ranges.length;r++){var n=this.ranges[r];if(Eo(t,n.from())>=0&&Eo(e,n.to())<=0)return r}return-1}},he.prototype={from:function(){return $(this.anchor,this.head)},to:function(){return Y(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var zo,Fo,Ro,Bo={left:0,right:0,top:0,bottom:0},Go=null,Uo=0,Vo=0,Ko=0,jo=null;vo?jo=-.53:ho?jo=15:wo?jo=-.7:Co&&(jo=-1/3);var Xo=function(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==r&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:null==r&&(r=e.wheelDelta),{x:t,y:r}};e.wheelEventPixels=function(e){var t=Xo(e);return t.x*=jo,t.y*=jo,t};var _o=new Ni,Yo=null,$o=e.changeEnd=function(e){return e.text?Po(e.from.line+e.text.length-1,Oi(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var r=this.options,n=r[e];(r[e]!=t||"mode"==e)&&(r[e]=t,Zo.hasOwnProperty(e)&&At(this,Zo[e])(this,t,n))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](jr(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,r=0;r<t.length;++r)if(t[r]==e||t[r].name==e)return t.splice(r,1),!0},addOverlay:Wt(function(t,r){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:n,modeSpec:t,opaque:r&&r.opaque}),this.state.modeGen++,Pt(this)}),removeOverlay:Wt(function(e){for(var t=this.state.overlays,r=0;r<t.length;++r){var n=t[r].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(r,1),this.state.modeGen++,void Pt(this)}}),indentLine:Wt(function(e,t,r){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),ye(this.doc,e)&&Fr(this,e,t,r)}),indentSelection:Wt(function(e){for(var t=this.doc.sel.ranges,r=-1,n=0;n<t.length;n++){var i=t[n];if(i.empty())i.head.line>r&&(Fr(this,i.head.line,e,!0),r=i.head.line,n==this.doc.sel.primIndex&&Ir(this));else{var o=i.from(),l=i.to(),s=Math.max(r,o.line);r=Math.min(this.lastLine(),l.line-(l.ch?0:1))+1;for(var a=s;r>a;++a)Fr(this,a,e);var u=this.doc.sel.ranges;0==o.ch&&t.length==u.length&&u[n].from().ch>0&&Se(this.doc,n,new he(o,u[n].to()),Dl)}}}),getTokenAt:function(e,t){return On(this,e,t)},getLineTokens:function(e,t){return On(this,Po(e),t,!0)},getTokenTypeAt:function(e){e=ve(this.doc,e);var t,r=Pn(this,qn(this.doc,e.line)),n=0,i=(r.length-1)/2,o=e.ch;if(0==o)t=r[2];else for(;;){var l=n+i>>1;if((l?r[2*l-1]:0)>=o)i=l;else{if(!(r[2*l+1]<o)){t=r[2*l+2];break}n=l+1}}var s=t?t.indexOf("cm-overlay "):-1;return 0>s?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var r=this.doc.mode;return r.innerMode?e.innerMode(r,this.getTokenAt(t).state).mode:r},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!nl.hasOwnProperty(t))return r;var n=nl[t],i=this.getModeAt(e);if("string"==typeof i[t])n[i[t]]&&r.push(n[i[t]]);else if(i[t])for(var o=0;o<i[t].length;o++){var l=n[i[t][o]];l&&r.push(l)}else i.helperType&&n[i.helperType]?r.push(n[i.helperType]):n[i.name]&&r.push(n[i.name]);for(var o=0;o<n._global.length;o++){var s=n._global[o];s.pred(i,this)&&-1==Di(r,s.val)&&r.push(s.val)}return r},getStateAfter:function(e,t){var r=this.doc;return e=ge(r,null==e?r.first+r.size-1:e),Ge(this,e+1,t)},cursorCoords:function(e,t){var r,n=this.doc.sel.primary();return r=null==e?n.head:"object"==typeof e?ve(this.doc,e):e?n.from():n.to(),ht(this,r,t||"page")},charCoords:function(e,t){return ft(this,ve(this.doc,e),t||"page")},coordsChar:function(e,t){return e=ct(this,e,t||"page"),gt(this,e.left,e.top)},lineAtHeight:function(e,t){return e=ct(this,{top:e,left:0},t||"page").top,ti(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var r,n=!1;if("number"==typeof e){var i=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>i&&(e=i,n=!0),r=qn(this.doc,e)}else r=e;return ut(this,r,{top:0,left:0},t||"page").top+(n?this.doc.height-ri(r):0)},defaultTextHeight:function(){return mt(this.display)},defaultCharWidth:function(){return yt(this.display)},setGutterMarker:Wt(function(e,t,r){return Rr(this.doc,e,"gutter",function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=r,!r&&Ri(n)&&(e.gutterMarkers=null),!0})}),clearGutter:Wt(function(e){var t=this,r=t.doc,n=r.first;r.iter(function(r){r.gutterMarkers&&r.gutterMarkers[e]&&(r.gutterMarkers[e]=null,Et(t,n,"gutter"),Ri(r.gutterMarkers)&&(r.gutterMarkers=null)),++n})}),lineInfo:function(e){if("number"==typeof e){if(!ye(this.doc,e))return null;var t=e;if(e=qn(this.doc,e),!e)return null}else{var t=ei(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,r,n,i){var o=this.display;e=ht(this,ve(this.doc,e));var l=e.bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==n)l=e.top;else if("above"==n||"near"==n){var a=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>a)&&e.top>t.offsetHeight?l=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=a&&(l=e.bottom),s+t.offsetWidth>u&&(s=u-t.offsetWidth)}t.style.top=l+"px",t.style.left=t.style.right="","right"==i?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),r&&Hr(this,s,l,s+t.offsetWidth,l+t.offsetHeight)},triggerOnKeyDown:Wt(cr),triggerOnKeyPress:Wt(dr),triggerOnKeyUp:hr,execCommand:function(e){return ll.hasOwnProperty(e)?ll[e].call(null,this):void 0},triggerElectric:Wt(function(e){ee(this,e)}),findPosH:function(e,t,r,n){var i=1;0>t&&(i=-1,t=-t);for(var o=0,l=ve(this.doc,e);t>o&&(l=Gr(this.doc,l,i,r,n),!l.hitSide);++o);return l},moveH:Wt(function(e,t){var r=this;r.extendSelectionsBy(function(n){return r.display.shift||r.doc.extend||n.empty()?Gr(r.doc,n.head,e,t,r.options.rtlMoveVisually):0>e?n.from():n.to()},Pl)}),deleteH:Wt(function(e,t){var r=this.doc.sel,n=this.doc;r.somethingSelected()?n.replaceSelection("",null,"+delete"):Br(this,function(r){var i=Gr(n,r.head,e,t,!1);return 0>e?{from:i,to:r.head}:{from:r.head,to:i}})}),findPosV:function(e,t,r,n){var i=1,o=n;0>t&&(i=-1,t=-t);for(var l=0,s=ve(this.doc,e);t>l;++l){var a=ht(this,s,"div");if(null==o?o=a.left:a.left=o,s=Ur(this,a,i,r),s.hitSide)break}return s},moveV:Wt(function(e,t){var r=this,n=this.doc,i=[],o=!r.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy(function(l){if(o)return 0>e?l.from():l.to();var s=ht(r,l.head,"div");null!=l.goalColumn&&(s.left=l.goalColumn),i.push(s.left);var a=Ur(r,s,e,t);return"page"==t&&l==n.sel.primary()&&Er(r,null,ft(r,a,"div").top-s.top),a},Pl),i.length)for(var l=0;l<n.sel.ranges.length;l++)n.sel.ranges[l].goalColumn=i[l]}),findWordAt:function(e){var t=this.doc,r=qn(t,e.line).text,n=e.ch,i=e.ch;if(r){var o=this.getHelper(e,"wordChars");(e.xRel<0||i==r.length)&&n?--n:++i;for(var l=r.charAt(n),s=Fi(l,o)?function(e){return Fi(e,o)}:/\s/.test(l)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!Fi(e)};n>0&&s(r.charAt(n-1));)--n;for(;i<r.length&&s(r.charAt(i));)++i}return new he(Po(e.line,n),Po(e.line,i))},toggleOverwrite:function(e){(null==e||e!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?Xl(this.display.cursorDiv,"CodeMirror-overwrite"):jl(this.display.cursorDiv,"CodeMirror-overwrite"),Nl(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Ki()},scrollTo:Wt(function(e,t){(null!=e||null!=t)&&zr(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-je(this)-this.display.barHeight,width:e.scrollWidth-je(this)-this.display.barWidth,clientHeight:_e(this),clientWidth:Xe(this)}},scrollIntoView:Wt(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:Po(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),
e.margin=t||0,null!=e.from.line)zr(this),this.curOp.scrollToPos=e;else{var r=Pr(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(r.scrollLeft,r.scrollTop)}}),setSize:Wt(function(e,t){function r(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var n=this;null!=e&&(n.display.wrapper.style.width=r(e)),null!=t&&(n.display.wrapper.style.height=r(t)),n.options.lineWrapping&&ot(this);var i=n.display.viewFrom;n.doc.iter(i,n.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Et(n,i,"widget");break}++i}),n.curOp.forceUpdate=!0,Nl(n,"refresh",this)}),operation:function(e){return Nt(this,e)},refresh:Wt(function(){var e=this.display.cachedTextHeight;Pt(this),this.curOp.forceUpdate=!0,lt(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),c(this),(null==e||Math.abs(e-mt(this.display))>.5)&&l(this),Nl(this,"refresh",this)}),swapDoc:Wt(function(e){var t=this.doc;return t.cm=null,$n(this,e),lt(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Ci(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Mi(e);var qo=e.defaults={},Zo=e.optionHandlers={},Qo=e.Init={toString:function(){return"CodeMirror.Init"}};Vr("value","",function(e,t){e.setValue(t)},!0),Vr("mode",null,function(e,t){e.doc.modeOption=t,r(e)},!0),Vr("indentUnit",2,r,!0),Vr("indentWithTabs",!1),Vr("smartIndent",!0),Vr("tabSize",4,function(e){n(e),lt(e),Pt(e)},!0),Vr("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var r=[],n=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,r.push(Po(n,o))}n++});for(var i=r.length-1;i>=0;i--)Wr(e.doc,t,r[i],Po(r[i].line,r[i].ch+t.length))}}),Vr("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,r,n){t.state.specialChars=new RegExp(r.source+(r.test("	")?"":"|	"),"g"),n!=e.Init&&t.refresh()}),Vr("specialCharPlaceholder",Fn,function(e){e.refresh()},!0),Vr("electricChars",!0),Vr("inputStyle",ko?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),Vr("rtlMoveVisually",!No),Vr("wholeLineUpdateBefore",!0),Vr("theme","default",function(e){s(e),a(e)},!0),Vr("keyMap","default",function(t,r,n){var i=jr(r),o=n!=e.Init&&jr(n);o&&o.detach&&o.detach(t,i),i.attach&&i.attach(t,o||null)}),Vr("extraKeys",null),Vr("lineWrapping",!1,i,!0),Vr("gutters",[],function(e){d(e.options),a(e)},!0),Vr("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?L(e.display)+"px":"0",e.refresh()},!0),Vr("coverGutterNextToScrollbar",!1,function(e){y(e)},!0),Vr("scrollbarStyle","native",function(e){m(e),y(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),Vr("lineNumbers",!1,function(e){d(e.options),a(e)},!0),Vr("firstLineNumber",1,a,!0),Vr("lineNumberFormatter",function(e){return e},a,!0),Vr("showCursorWhenSelecting",!1,He,!0),Vr("resetSelectionOnContextMenu",!0),Vr("lineWiseCopyCut",!0),Vr("readOnly",!1,function(e,t){"nocursor"==t?(vr(e),e.display.input.blur(),e.display.disabled=!0):(e.display.disabled=!1,t||e.display.input.reset())}),Vr("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),Vr("dragDrop",!0,Ut),Vr("cursorBlinkRate",530),Vr("cursorScrollMargin",0),Vr("cursorHeight",1,He,!0),Vr("singleCursorHeightPerLine",!0,He,!0),Vr("workTime",100),Vr("workDelay",100),Vr("flattenSpans",!0,n,!0),Vr("addModeClass",!1,n,!0),Vr("pollInterval",100),Vr("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),Vr("historyEventDelay",1250),Vr("viewportMargin",10,function(e){e.refresh()},!0),Vr("maxHighlightLength",1e4,n,!0),Vr("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),Vr("tabindex",null,function(e,t){e.display.input.getField().tabIndex=t||""}),Vr("autofocus",null);var Jo=e.modes={},el=e.mimeModes={};e.defineMode=function(t,r){e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2&&(r.dependencies=Array.prototype.slice.call(arguments,2)),Jo[t]=r},e.defineMIME=function(e,t){el[e]=t},e.resolveMode=function(t){if("string"==typeof t&&el.hasOwnProperty(t))t=el[t];else if(t&&"string"==typeof t.name&&el.hasOwnProperty(t.name)){var r=el[t.name];"string"==typeof r&&(r={name:r}),t=Ei(r,t),t.name=r.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,r){var r=e.resolveMode(r),n=Jo[r.name];if(!n)return e.getMode(t,"text/plain");var i=n(t,r);if(tl.hasOwnProperty(r.name)){var o=tl[r.name];for(var l in o)o.hasOwnProperty(l)&&(i.hasOwnProperty(l)&&(i["_"+l]=i[l]),i[l]=o[l])}if(i.name=r.name,r.helperType&&(i.helperType=r.helperType),r.modeProps)for(var l in r.modeProps)i[l]=r.modeProps[l];return i},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var tl=e.modeExtensions={};e.extendMode=function(e,t){var r=tl.hasOwnProperty(e)?tl[e]:tl[e]={};Ii(t,r)},e.defineExtension=function(t,r){e.prototype[t]=r},e.defineDocExtension=function(e,t){wl.prototype[e]=t},e.defineOption=Vr;var rl=[];e.defineInitHook=function(e){rl.push(e)};var nl=e.helpers={};e.registerHelper=function(t,r,n){nl.hasOwnProperty(t)||(nl[t]=e[t]={_global:[]}),nl[t][r]=n},e.registerGlobalHelper=function(t,r,n,i){e.registerHelper(t,r,i),nl[t]._global.push({pred:n,val:i})};var il=e.copyState=function(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var i=t[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r},ol=e.startState=function(e,t,r){return e.startState?e.startState(t,r):!0};e.innerMode=function(e,t){for(;e.innerMode;){var r=e.innerMode(t);if(!r||r.mode==e)break;t=r.state,e=r.mode}return r||{mode:e,state:t}};var ll=e.commands={selectAll:function(e){e.setSelection(Po(e.firstLine(),0),Po(e.lastLine()),Dl)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Dl)},killLine:function(e){Br(e,function(t){if(t.empty()){var r=qn(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:Po(t.head.line+1,0)}:{from:t.head,to:Po(t.head.line,r)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){Br(e,function(t){return{from:Po(t.from().line,0),to:ve(e.doc,Po(t.to().line+1,0))}})},delLineLeft:function(e){Br(e,function(e){return{from:Po(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){Br(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return{from:n,to:t.from()}})},delWrappedLineRight:function(e){Br(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(Po(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(Po(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return io(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return lo(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return oo(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy(function(t){var r=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")},Pl)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var r=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")},Pl)},goLineLeftSmart:function(e){e.extendSelectionsBy(function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?lo(e,t.head):n},Pl)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,i=0;i<r.length;i++){var o=r[i].from(),l=El(e.getLine(o.line),o.ch,n);t.push(new Array(n-l%n+1).join(" "))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){Nt(e,function(){for(var t=e.listSelections(),r=[],n=0;n<t.length;n++){var i=t[n].head,o=qn(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new Po(i.line,i.ch-1)),i.ch>0)i=new Po(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),Po(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var l=qn(e.doc,i.line-1).text;l&&e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+l.charAt(l.length-1),Po(i.line-1,l.length-1),Po(i.line,1),"+transpose")}r.push(new he(i,i))}e.setSelections(r)})},newlineAndIndent:function(e){Nt(e,function(){for(var t=e.listSelections().length,r=0;t>r;r++){var n=e.listSelections()[r];e.replaceRange(e.doc.lineSeparator(),n.anchor,n.head,"+input"),e.indentLine(n.from().line+1,null,!0),Ir(e)}})},toggleOverwrite:function(e){e.toggleOverwrite()}},sl=e.keyMap={};sl.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},sl.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},sl.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},sl.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},sl.default=Mo?sl.macDefault:sl.pcDefault,e.normalizeKeyMap=function(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if("..."==n){delete e[r];continue}for(var i=Hi(r.split(" "),Kr),o=0;o<i.length;o++){var l,s;o==i.length-1?(s=i.join(" "),l=n):(s=i.slice(0,o+1).join(" "),l="...");var a=t[s];if(a){if(a!=l)throw new Error("Inconsistent bindings for "+s)}else t[s]=l}delete e[r]}for(var u in t)e[u]=t[u];return e};var al=e.lookupKey=function(e,t,r,n){t=jr(t);var i=t.call?t.call(e,n):t[e];if(i===!1)return"nothing";if("..."===i)return"multi";if(null!=i&&r(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return al(e,t.fallthrough,r,n);for(var o=0;o<t.fallthrough.length;o++){var l=al(e,t.fallthrough[o],r,n);if(l)return l}}},ul=e.isModifierKey=function(e){var t="string"==typeof e?e:Jl[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},cl=e.keyName=function(e,t){if(xo&&34==e.keyCode&&e.char)return!1;var r=Jl[e.keyCode],n=r;return null==n||e.altGraphKey?!1:(e.altKey&&"Alt"!=r&&(n="Alt-"+n),(Wo?e.metaKey:e.ctrlKey)&&"Ctrl"!=r&&(n="Ctrl-"+n),(Wo?e.ctrlKey:e.metaKey)&&"Cmd"!=r&&(n="Cmd-"+n),!t&&e.shiftKey&&"Shift"!=r&&(n="Shift-"+n),n)};e.fromTextArea=function(t,r){function n(){t.value=u.getValue()}if(r=r?Ii(r):{},r.value=t.value,!r.tabindex&&t.tabIndex&&(r.tabindex=t.tabIndex),!r.placeholder&&t.placeholder&&(r.placeholder=t.placeholder),null==r.autofocus){var i=Ki();r.autofocus=i==t||null!=t.getAttribute("autofocus")&&i==document.body}if(t.form&&(kl(t.form,"submit",n),!r.leaveSubmitMethodAlone)){var o=t.form,l=o.submit;try{var s=o.submit=function(){n(),o.submit=l,o.submit(),o.submit=s}}catch(a){}}r.finishInit=function(e){e.save=n,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,n(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(Ml(t.form,"submit",n),"function"==typeof t.form.submit&&(t.form.submit=l))}},t.style.display="none";var u=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},r);return u};var fl=e.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};fl.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var r=t==e;else var r=t&&(e.test?e.test(t):e(t));return r?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=El(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?El(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return El(this.string,null,this.tabSize)-(this.lineStart?El(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,r){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&t!==!1&&(this.pos+=n[0].length),n)}var i=function(e){return r?e.toLowerCase():e},o=this.string.substr(this.pos,e.length);return i(o)==i(e)?(t!==!1&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var hl=0,dl=e.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++hl};Mi(dl),dl.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&bt(e),ki(this,"clear")){var r=this.find();r&&Ci(this,"clear",r.from,r.to)}for(var n=null,i=null,o=0;o<this.lines.length;++o){var l=this.lines[o],s=Qr(l.markedSpans,this);e&&!this.collapsed?Et(e,ei(l),"text"):e&&(null!=s.to&&(i=ei(l)),null!=s.from&&(n=ei(l))),l.markedSpans=Jr(l.markedSpans,s),null==s.from&&this.collapsed&&!xn(this.doc,l)&&e&&Jn(l,mt(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var o=0;o<this.lines.length;++o){var a=mn(this.lines[o]),u=f(a);u>e.display.maxLineLength&&(e.display.maxLine=a,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=n&&e&&this.collapsed&&Pt(e,n,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&We(e.doc)),e&&Ci(e,"markerCleared",e,this),t&&xt(e),this.parent&&this.parent.clear()}},dl.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var r,n,i=0;i<this.lines.length;++i){var o=this.lines[i],l=Qr(o.markedSpans,this);if(null!=l.from&&(r=Po(t?o:ei(o),l.from),-1==e))return r;if(null!=l.to&&(n=Po(t?o:ei(o),l.to),1==e))return n}return r&&{from:r,to:n}},dl.prototype.changed=function(){var e=this.find(-1,!0),t=this,r=this.doc.cm;e&&r&&Nt(r,function(){var n=e.line,i=ei(e.line),o=Qe(r,i);if(o&&(it(o),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!xn(t.doc,n)&&null!=t.height){var l=t.height;t.height=null;var s=Ln(t)-l;s&&Jn(n,n.height+s)}})},dl.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=Di(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},dl.prototype.detachLine=function(e){if(this.lines.splice(Di(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};var hl=0,pl=e.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=this};Mi(pl),pl.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Ci(this,"clear")}},pl.prototype.find=function(e,t){return this.primary.find(e,t)};var gl=e.LineWidget=function(e,t,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=e,this.node=t};Mi(gl),gl.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,r=this.line,n=ei(r);if(null!=n&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(r.widgets=null);var o=Ln(this);Jn(r,Math.max(0,r.height-o)),e&&Nt(e,function(){Sn(e,r,-o),Et(e,n,"widget")})}},gl.prototype.changed=function(){var e=this.height,t=this.doc.cm,r=this.line;this.height=null;var n=Ln(this)-e;n&&(Jn(r,r.height+n),t&&Nt(t,function(){t.curOp.forceUpdate=!0,Sn(t,r,n)}))};var vl=e.Line=function(e,t,r){this.text=e,un(this,t),this.height=r?r(this):1};Mi(vl),vl.prototype.lineNo=function(){return ei(this)};var ml={},yl={};Xn.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=e,n=e+t;n>r;++r){var i=this.lines[r];this.height-=i.height,Mn(i),Ci(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,r){for(var n=e+t;n>e;++e)if(r(this.lines[e]))return!0}},_n.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r=0;r<this.children.length;++r){var n=this.children[r],i=n.chunkSize();if(i>e){var o=Math.min(t,i-e),l=n.height;if(n.removeInner(e,o),this.height-=l-n.height,i==o&&(this.children.splice(r--,1),n.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Xn))){var s=[];this.collapse(s),this.children=[new Xn(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(o>=e){if(i.insertInner(e,t,r),i.lines&&i.lines.length>50){for(;i.lines.length>50;){var l=i.lines.splice(i.lines.length-25,25),s=new Xn(l);i.height-=s.height,this.children.splice(n+1,0,s),s.parent=this}this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),r=new _n(t);if(e.parent){e.size-=r.size,e.height-=r.height;var n=Di(e.parent.children,e);e.parent.children.splice(n+1,0,r)}else{var i=new _n(e.children);i.parent=e,e.children=[i,r],e=i}r.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(o>e){var l=Math.min(t,o-e);if(i.iterN(e,l,r))return!0;if(0==(t-=l))break;e=0}else e-=o}}};var bl=0,wl=e.Doc=function(e,t,r,n){if(!(this instanceof wl))return new wl(e,t,r,n);null==r&&(r=0),_n.call(this,[new Xn([new vl("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=r;var i=Po(r,0);this.sel=pe(i),this.history=new ii(null),this.id=++bl,this.modeOption=t,this.lineSep=n,"string"==typeof e&&(e=this.splitLines(e)),jn(this,{from:i,to:i,text:e}),Me(this,pe(i),Dl)};wl.prototype=Ei(_n.prototype,{constructor:wl,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Qn(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:Ot(function(e){var t=Po(this.first,0),r=this.first+this.size-1;Lr(this,{from:t,to:Po(r,qn(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),Me(this,pe(t))}),replaceRange:function(e,t,r,n){t=ve(this,t),r=r?ve(this,r):t,Wr(this,e,t,r,n)},getRange:function(e,t,r){var n=Zn(this,ve(this,e),ve(this,t));return r===!1?n:n.join(r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){return ye(this,e)?qn(this,e):void 0},getLineNumber:function(e){return ei(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=qn(this,e)),mn(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ve(this,e)},getCursor:function(e){var t,r=this.sel.primary();return t=null==e||"head"==e?r.head:"anchor"==e?r.anchor:"end"==e||"to"==e||e===!1?r.to():r.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Ot(function(e,t,r){Le(this,ve(this,"number"==typeof e?Po(e,t||0):e),null,r)}),setSelection:Ot(function(e,t,r){Le(this,ve(this,e),ve(this,t||e),r)}),extendSelection:Ot(function(e,t,r){xe(this,ve(this,e),t&&ve(this,t),r)}),extendSelections:Ot(function(e,t){Ce(this,be(this,e,t))}),extendSelectionsBy:Ot(function(e,t){Ce(this,Hi(this.sel.ranges,e),t)}),setSelections:Ot(function(e,t,r){if(e.length){for(var n=0,i=[];n<e.length;n++)i[n]=new he(ve(this,e[n].anchor),ve(this,e[n].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Me(this,de(i,t),r)}}),addSelection:Ot(function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new he(ve(this,e),ve(this,t||e))),Me(this,de(n,n.length-1),r)}),getSelection:function(e){for(var t,r=this.sel.ranges,n=0;n<r.length;n++){var i=Zn(this,r[n].from(),r[n].to());t=t?t.concat(i):i}return e===!1?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],r=this.sel.ranges,n=0;n<r.length;n++){var i=Zn(this,r[n].from(),r[n].to());e!==!1&&(i=i.join(e||this.lineSeparator())),t[n]=i}return t},replaceSelection:function(e,t,r){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:Ot(function(e,t,r){for(var n=[],i=this.sel,o=0;o<i.ranges.length;o++){var l=i.ranges[o];n[o]={from:l.from(),to:l.to(),text:this.splitLines(e[o]),origin:r}}for(var s=t&&"end"!=t&&Cr(this,n,t),o=n.length-1;o>=0;o--)Lr(this,n[o]);s?ke(this,s):this.cm&&Ir(this.cm)}),undo:Ot(function(){kr(this,"undo")}),redo:Ot(function(){kr(this,"redo")}),undoSelection:Ot(function(){kr(this,"undo",!0)}),redoSelection:Ot(function(){kr(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var n=0;n<e.undone.length;n++)e.undone[n].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){this.history=new ii(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:gi(this.history.done),undone:gi(this.history.undone)}},setHistory:function(e){var t=this.history=new ii(this.history.maxGeneration);t.done=gi(e.done.slice(0),null,!0),t.undone=gi(e.undone.slice(0),null,!0)},addLineClass:Ot(function(e,t,r){return Rr(this,e,"gutter"==t?"gutter":"class",function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[n]){if(ji(r).test(e[n]))return!1;e[n]+=" "+r}else e[n]=r;return!0})}),removeLineClass:Ot(function(e,t,r){return Rr(this,e,"gutter"==t?"gutter":"class",function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[n];if(!i)return!1;if(null==r)e[n]=null;else{var o=i.match(ji(r));if(!o)return!1;var l=o.index+o[0].length;e[n]=i.slice(0,o.index)+(o.index&&l!=i.length?" ":"")+i.slice(l)||null}return!0})}),addLineWidget:Ot(function(e,t,r){return Tn(this,e,t,r)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return Xr(this,ve(this,e),ve(this,t),r,"range")},setBookmark:function(e,t){var r={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=ve(this,e),Xr(this,e,e,r,"bookmark")},findMarksAt:function(e){e=ve(this,e);var t=[],r=qn(this,e.line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,r){e=ve(this,e),t=ve(this,t);var n=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var l=o.markedSpans;if(l)for(var s=0;s<l.length;s++){var a=l[s];i==e.line&&e.ch>a.to||null==a.from&&i!=e.line||i==t.line&&a.from>t.ch||r&&!r(a.marker)||n.push(a.marker.parent||a.marker)}++i}),n},getAllMarks:function(){var e=[];return this.iter(function(t){var r=t.markedSpans;if(r)for(var n=0;n<r.length;++n)null!=r[n].from&&e.push(r[n].marker)}),e},posFromIndex:function(e){var t,r=this.first;return this.iter(function(n){var i=n.text.length+1;return i>e?(t=e,!0):(e-=i,void++r)}),ve(this,Po(r,t))},indexFromPos:function(e){e=ve(this,e);var t=e.ch;return e.line<this.first||e.ch<0?0:(this.iter(this.first,e.line,function(e){t+=e.text.length+1}),t)},copy:function(e){var t=new wl(Qn(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<r&&(r=e.to);var n=new wl(Qn(this,t,r),e.mode||this.modeOption,t,this.lineSep);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],$r(n,Yr(this)),n},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var r=0;r<this.linked.length;++r){var n=this.linked[r];if(n.doc==t){this.linked.splice(r,1),t.unlinkDoc(this),qr(Yr(this));break}}if(t.history==this.history){var i=[t.id];Yn(t,function(e){i.push(e.id)},!0),t.history=new ii(null),t.history.done=gi(this.history.done,i),t.history.undone=gi(this.history.undone,i)}},iterLinkedDocs:function(e){Yn(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):$l(e)},lineSeparator:function(){return this.lineSep||"\n"}}),wl.prototype.eachLine=wl.prototype.iter;var xl="iter insert remove copy getEditor constructor".split(" ");for(var Cl in wl.prototype)wl.prototype.hasOwnProperty(Cl)&&Di(xl,Cl)<0&&(e.prototype[Cl]=function(e){return function(){return e.apply(this.doc,arguments)}}(wl.prototype[Cl]));Mi(wl);var Sl=e.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},Ll=e.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},Tl=e.e_stop=function(e){Sl(e),Ll(e)},kl=e.on=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={}),i=n[t]||(n[t]=[]);i.push(r)}},Ml=e.off=function(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers&&e._handlers[t];if(!n)return;for(var i=0;i<n.length;++i)if(n[i]==r){n.splice(i,1);break}}},Nl=e.signal=function(e,t){var r=e._handlers&&e._handlers[t];if(r)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)},Al=null,Wl=30,Ol=e.Pass={toString:function(){return"CodeMirror.Pass"}},Dl={scroll:!1},Hl={origin:"*mouse"},Pl={origin:"+move"};Ni.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var El=e.countColumn=function(e,t,r,n,i){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var o=n||0,l=i||0;;){var s=e.indexOf("	",o);if(0>s||s>=t)return l+(t-o);l+=s-o,l+=r-l%r,o=s+1}},Il=[""],zl=function(e){e.select()};To?zl=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:vo&&(zl=function(e){try{e.select()}catch(t){}});var Fl,Rl=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Bl=e.isWordChar=function(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Rl.test(e))},Gl=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;
Fl=document.createRange?function(e,t,r,n){var i=document.createRange();return i.setEnd(n||e,r),i.setStart(e,t),i}:function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(i){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};var Ul=e.contains=function(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do if(11==t.nodeType&&(t=t.host),t==e)return!0;while(t=t.parentNode)};vo&&11>mo&&(Ki=function(){try{return document.activeElement}catch(e){return document.body}});var Vl,Kl,jl=e.rmClass=function(e,t){var r=e.className,n=ji(t).exec(r);if(n){var i=r.slice(n.index+n[0].length);e.className=r.slice(0,n.index)+(i?n[1]+i:"")}},Xl=e.addClass=function(e,t){var r=e.className;ji(t).test(r)||(e.className+=(r?" ":"")+t)},_l=!1,Yl=function(){if(vo&&9>mo)return!1;var e=Gi("div");return"draggable"in e||"dragDrop"in e}(),$l=e.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,r=[],n=e.length;n>=t;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),l=o.indexOf("\r");-1!=l?(r.push(o.slice(0,l)),t+=l+1):(r.push(o),t=i+1)}return r}:function(e){return e.split(/\r\n?|\n/)},ql=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(r){}return t&&t.parentElement()==e?0!=t.compareEndPoints("StartToEnd",t):!1},Zl=function(){var e=Gi("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Ql=null,Jl={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};e.keyNames=Jl,function(){for(var e=0;10>e;e++)Jl[e+48]=Jl[e+96]=String(e);for(var e=65;90>=e;e++)Jl[e]=String.fromCharCode(e);for(var e=1;12>=e;e++)Jl[e+111]=Jl[e+63235]="F"+e}();var es,ts=function(){function e(e){return 247>=e?r.charAt(e):e>=1424&&1524>=e?"R":e>=1536&&1773>=e?n.charAt(e-1536):e>=1774&&2220>=e?"r":e>=8192&&8203>=e?"w":8204==e?"b":"L"}function t(e,t,r){this.level=e,this.from=t,this.to=r}var r="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",n="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,l=/[LRr]/,s=/[Lb1n]/,a=/[1n]/,u="L";return function(r){if(!i.test(r))return!1;for(var n,c=r.length,f=[],h=0;c>h;++h)f.push(n=e(r.charCodeAt(h)));for(var h=0,d=u;c>h;++h){var n=f[h];"m"==n?f[h]=d:d=n}for(var h=0,p=u;c>h;++h){var n=f[h];"1"==n&&"r"==p?f[h]="n":l.test(n)&&(p=n,"r"==n&&(f[h]="R"))}for(var h=1,d=f[0];c-1>h;++h){var n=f[h];"+"==n&&"1"==d&&"1"==f[h+1]?f[h]="1":","!=n||d!=f[h+1]||"1"!=d&&"n"!=d||(f[h]=d),d=n}for(var h=0;c>h;++h){var n=f[h];if(","==n)f[h]="N";else if("%"==n){for(var g=h+1;c>g&&"%"==f[g];++g);for(var v=h&&"!"==f[h-1]||c>g&&"1"==f[g]?"1":"N",m=h;g>m;++m)f[m]=v;h=g-1}}for(var h=0,p=u;c>h;++h){var n=f[h];"L"==p&&"1"==n?f[h]="L":l.test(n)&&(p=n)}for(var h=0;c>h;++h)if(o.test(f[h])){for(var g=h+1;c>g&&o.test(f[g]);++g);for(var y="L"==(h?f[h-1]:u),b="L"==(c>g?f[g]:u),v=y||b?"L":"R",m=h;g>m;++m)f[m]=v;h=g-1}for(var w,x=[],h=0;c>h;)if(s.test(f[h])){var C=h;for(++h;c>h&&s.test(f[h]);++h);x.push(new t(0,C,h))}else{var S=h,L=x.length;for(++h;c>h&&"L"!=f[h];++h);for(var m=S;h>m;)if(a.test(f[m])){m>S&&x.splice(L,0,new t(1,S,m));var T=m;for(++m;h>m&&a.test(f[m]);++m);x.splice(L,0,new t(2,T,m)),S=m}else++m;h>S&&x.splice(L,0,new t(1,S,h))}return 1==x[0].level&&(w=r.match(/^\s+/))&&(x[0].from=w[0].length,x.unshift(new t(0,0,w[0].length))),1==Oi(x).level&&(w=r.match(/\s+$/))&&(Oi(x).to-=w[0].length,x.push(new t(0,c-w[0].length,c))),2==x[0].level&&x.unshift(new t(1,x[0].to,x[0].to)),x[0].level!=Oi(x).level&&x.push(new t(x[0].level,c,c)),x}}();return e.version="5.6.0",e})},{}],108:[function(require,module,exports){!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("javascript",function(t,r){function n(e){for(var t,r=!1,n=!1;null!=(t=e.next());){if(!r){if("/"==t&&!n)return;"["==t?n=!0:n&&"]"==t&&(n=!1)}r=!r&&"\\"==t}}function a(e,t,r){return ye=e,ke=r,t}function i(e,t){var r=e.next();if('"'==r||"'"==r)return t.tokenize=o(r),t.tokenize(e,t);if("."==r&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return a("number","number");if("."==r&&e.match(".."))return a("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(r))return a(r);if("="==r&&e.eat(">"))return a("=>","operator");if("0"==r&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),a("number","number");if(/\d/.test(r))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),a("number","number");if("/"==r)return e.eat("*")?(t.tokenize=c,c(e,t)):e.eat("/")?(e.skipToEnd(),a("comment","comment")):"operator"==t.lastType||"keyword c"==t.lastType||"sof"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)?(n(e),e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),a("regexp","string-2")):(e.eatWhile(Ve),a("operator","operator",e.current()));if("`"==r)return t.tokenize=u,u(e,t);if("#"==r)return e.skipToEnd(),a("error","error");if(Ve.test(r))return e.eatWhile(Ve),a("operator","operator",e.current());if(je.test(r)){e.eatWhile(je);var i=e.current(),l=Me.propertyIsEnumerable(i)&&Me[i];return l&&"."!=t.lastType?a(l.type,l.style,i):a("variable","variable",i)}}function o(e){return function(t,r){var n,o=!1;if(he&&"@"==t.peek()&&t.match(Ee))return r.tokenize=i,a("jsonld-keyword","meta");for(;null!=(n=t.next())&&(n!=e||o);)o=!o&&"\\"==n;return o||(r.tokenize=i),a("string","string")}}function c(e,t){for(var r,n=!1;r=e.next();){if("/"==r&&n){t.tokenize=i;break}n="*"==r}return a("comment","comment")}function u(e,t){for(var r,n=!1;null!=(r=e.next());){if(!n&&("`"==r||"$"==r&&e.eat("{"))){t.tokenize=i;break}n=!n&&"\\"==r}return a("quasi","string-2",e.current())}function l(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var r=e.string.indexOf("=>",e.start);if(!(0>r)){for(var n=0,a=!1,i=r-1;i>=0;--i){var o=e.string.charAt(i),c=Ie.indexOf(o);if(c>=0&&3>c){if(!n){++i;break}if(0==--n)break}else if(c>=3&&6>c)++n;else if(je.test(o))a=!0;else{if(/["'\/]/.test(o))return;if(a&&!n){++i;break}}}a&&!n&&(t.fatArrowAt=i)}}function s(e,t,r,n,a,i){this.indented=e,this.column=t,this.type=r,this.prev=a,this.info=i,null!=n&&(this.align=n)}function f(e,t){for(var r=e.localVars;r;r=r.next)if(r.name==t)return!0;for(var n=e.context;n;n=n.prev)for(var r=n.vars;r;r=r.next)if(r.name==t)return!0}function d(e,t,r,n,a){var i=e.cc;for(Te.state=e,Te.stream=a,Te.marked=null,Te.cc=i,Te.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var o=i.length?i.pop():ge?w:g;if(o(r,n)){for(;i.length&&i[i.length-1].lex;)i.pop()();return Te.marked?Te.marked:"variable"==r&&f(e,n)?"variable-2":t}}}function p(){for(var e=arguments.length-1;e>=0;e--)Te.cc.push(arguments[e])}function v(){return p.apply(null,arguments),!0}function m(e){function t(t){for(var r=t;r;r=r.next)if(r.name==e)return!0;return!1}var n=Te.state;if(n.context){if(Te.marked="def",t(n.localVars))return;n.localVars={name:e,next:n.localVars}}else{if(t(n.globalVars))return;r.globalVars&&(n.globalVars={name:e,next:n.globalVars})}}function y(){Te.state.context={prev:Te.state.context,vars:Te.state.localVars},Te.state.localVars=Ae}function k(){Te.state.localVars=Te.state.context.vars,Te.state.context=Te.state.context.prev}function b(e,t){var r=function(){var r=Te.state,n=r.indented;if("stat"==r.lexical.type)n=r.lexical.indented;else for(var a=r.lexical;a&&")"==a.type&&a.align;a=a.prev)n=a.indented;r.lexical=new s(n,Te.stream.column(),e,null,r.lexical,t)};return r.lex=!0,r}function x(){var e=Te.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function h(e){function t(r){return r==e?v():";"==e?p():v(t)}return t}function g(e,t){return"var"==e?v(b("vardef",t.length),G,h(";"),x):"keyword a"==e?v(b("form"),w,g,x):"keyword b"==e?v(b("form"),g,x):"{"==e?v(b("}"),H,x):";"==e?v():"if"==e?("else"==Te.state.lexical.info&&Te.state.cc[Te.state.cc.length-1]==x&&Te.state.cc.pop()(),v(b("form"),w,g,x,R)):"function"==e?v(te):"for"==e?v(b("form"),X,g,x):"variable"==e?v(b("stat"),q):"switch"==e?v(b("form"),w,b("}","switch"),h("{"),H,x,x):"case"==e?v(w,h(":")):"default"==e?v(h(":")):"catch"==e?v(b("form"),y,h("("),re,h(")"),g,x,k):"class"==e?v(b("form"),ne,x):"export"==e?v(b("form"),ce,x):"import"==e?v(b("form"),ue,x):p(b("stat"),w,h(";"),x)}function w(e){return M(e,!1)}function j(e){return M(e,!0)}function M(e,t){if(Te.state.fatArrowAt==Te.stream.start){var r=t?$:C;if("("==e)return v(y,b(")"),N(J,")"),x,h("=>"),r,k);if("variable"==e)return p(y,J,h("=>"),r,k)}var n=t?z:I;return ze.hasOwnProperty(e)?v(n):"function"==e?v(te,n):"keyword c"==e?v(t?E:V):"("==e?v(b(")"),V,ve,h(")"),x,n):"operator"==e||"spread"==e?v(t?j:w):"["==e?v(b("]"),de,x,n):"{"==e?B(P,"}",null,n):"quasi"==e?p(T,n):v()}function V(e){return e.match(/[;\}\)\],]/)?p():p(w)}function E(e){return e.match(/[;\}\)\],]/)?p():p(j)}function I(e,t){return","==e?v(w):z(e,t,!1)}function z(e,t,r){var n=0==r?I:z,a=0==r?w:j;return"=>"==e?v(y,r?$:C,k):"operator"==e?/\+\+|--/.test(t)?v(n):"?"==t?v(w,h(":"),a):v(a):"quasi"==e?p(T,n):";"!=e?"("==e?B(j,")","call",n):"."==e?v(O,n):"["==e?v(b("]"),V,h("]"),x,n):void 0:void 0}function T(e,t){return"quasi"!=e?p():"${"!=t.slice(t.length-2)?v(T):v(w,A)}function A(e){return"}"==e?(Te.marked="string-2",Te.state.tokenize=u,v(T)):void 0}function C(e){return l(Te.stream,Te.state),p("{"==e?g:w)}function $(e){return l(Te.stream,Te.state),p("{"==e?g:j)}function q(e){return":"==e?v(x,g):p(I,h(";"),x)}function O(e){return"variable"==e?(Te.marked="property",v()):void 0}function P(e,t){return"variable"==e||"keyword"==Te.style?(Te.marked="property",v("get"==t||"set"==t?S:W)):"number"==e||"string"==e?(Te.marked=he?"property":Te.style+" property",v(W)):"jsonld-keyword"==e?v(W):"["==e?v(w,h("]"),W):void 0}function S(e){return"variable"!=e?p(W):(Te.marked="property",v(te))}function W(e){return":"==e?v(j):"("==e?p(te):void 0}function N(e,t){function r(n){if(","==n){var a=Te.state.lexical;return"call"==a.info&&(a.pos=(a.pos||0)+1),v(e,r)}return n==t?v():v(h(t))}return function(n){return n==t?v():p(e,r)}}function B(e,t,r){for(var n=3;n<arguments.length;n++)Te.cc.push(arguments[n]);return v(b(t,r),N(e,t),x)}function H(e){return"}"==e?v():p(g,H)}function U(e){return we&&":"==e?v(F):void 0}function D(e,t){return"="==t?v(j):void 0}function F(e){return"variable"==e?(Te.marked="variable-3",v()):void 0}function G(){return p(J,U,L,Q)}function J(e,t){return"variable"==e?(m(t),v()):"["==e?B(J,"]"):"{"==e?B(K,"}"):void 0}function K(e,t){return"variable"!=e||Te.stream.match(/^\s*:/,!1)?("variable"==e&&(Te.marked="property"),v(h(":"),J,L)):(m(t),v(L))}function L(e,t){return"="==t?v(j):void 0}function Q(e){return","==e?v(G):void 0}function R(e,t){return"keyword b"==e&&"else"==t?v(b("form","else"),g,x):void 0}function X(e){return"("==e?v(b(")"),Y,h(")"),x):void 0}function Y(e){return"var"==e?v(G,h(";"),_):";"==e?v(_):"variable"==e?v(Z):p(w,h(";"),_)}function Z(e,t){return"in"==t||"of"==t?(Te.marked="keyword",v(w)):v(I,_)}function _(e,t){return";"==e?v(ee):"in"==t||"of"==t?(Te.marked="keyword",v(w)):p(w,h(";"),ee)}function ee(e){")"!=e&&v(w)}function te(e,t){return"*"==t?(Te.marked="keyword",v(te)):"variable"==e?(m(t),v(te)):"("==e?v(y,b(")"),N(re,")"),x,g,k):void 0}function re(e){return"spread"==e?v(re):p(J,U,D)}function ne(e,t){return"variable"==e?(m(t),v(ae)):void 0}function ae(e,t){return"extends"==t?v(w,ae):"{"==e?v(b("}"),ie,x):void 0}function ie(e,t){return"variable"==e||"keyword"==Te.style?"static"==t?(Te.marked="keyword",v(ie)):(Te.marked="property","get"==t||"set"==t?v(oe,te,ie):v(te,ie)):"*"==t?(Te.marked="keyword",v(ie)):";"==e?v(ie):"}"==e?v():void 0}function oe(e){return"variable"!=e?p():(Te.marked="property",v())}function ce(e,t){return"*"==t?(Te.marked="keyword",v(fe,h(";"))):"default"==t?(Te.marked="keyword",v(w,h(";"))):p(g)}function ue(e){return"string"==e?v():p(le,fe)}function le(e,t){return"{"==e?B(le,"}"):("variable"==e&&m(t),"*"==t&&(Te.marked="keyword"),v(se))}function se(e,t){return"as"==t?(Te.marked="keyword",v(le)):void 0}function fe(e,t){return"from"==t?(Te.marked="keyword",v(w)):void 0}function de(e){return"]"==e?v():p(j,pe)}function pe(e){return"for"==e?p(ve,h("]")):","==e?v(N(E,"]")):p(N(j,"]"))}function ve(e){return"for"==e?v(X,ve):"if"==e?v(w,ve):void 0}function me(e,t){return"operator"==e.lastType||","==e.lastType||Ve.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}var ye,ke,be=t.indentUnit,xe=r.statementIndent,he=r.jsonld,ge=r.json||he,we=r.typescript,je=r.wordCharacters||/[\w$\xa1-\uffff]/,Me=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),r=e("keyword b"),n=e("keyword c"),a=e("operator"),i={type:"atom",style:"atom"},o={if:e("if"),while:t,with:t,else:r,do:r,try:r,finally:r,return:n,break:n,continue:n,new:n,delete:n,throw:n,debugger:n,var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:a,typeof:a,instanceof:a,true:i,false:i,null:i,undefined:i,NaN:i,Infinity:i,this:e("this"),class:e("class"),super:e("atom"),yield:n,export:e("export"),import:e("import"),extends:n};if(we){var c={type:"variable",style:"variable-3"},u={interface:e("interface"),extends:e("extends"),constructor:e("constructor"),public:e("public"),private:e("private"),protected:e("protected"),static:e("static"),string:c,number:c,bool:c,any:c};for(var l in u)o[l]=u[l]}return o}(),Ve=/[+\-*&%=<>!?|~^]/,Ee=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Ie="([{}])",ze={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0},Te={state:null,column:null,marked:null,cc:null},Ae={name:"this",next:{name:"arguments"}};return x.lex=!0,{startState:function(e){var t={tokenize:i,lastType:"sof",cc:[],lexical:new s((e||0)-be,0,"block",!1),localVars:r.localVars,context:r.localVars&&{vars:r.localVars},indented:0};return r.globalVars&&"object"==typeof r.globalVars&&(t.globalVars=r.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),l(e,t)),t.tokenize!=c&&e.eatSpace())return null;var r=t.tokenize(e,t);return"comment"==ye?r:(t.lastType="operator"!=ye||"++"!=ke&&"--"!=ke?ye:"incdec",d(t,r,ye,ke,e))},indent:function(t,n){if(t.tokenize==c)return e.Pass;if(t.tokenize!=i)return 0;var a=n&&n.charAt(0),o=t.lexical;if(!/^\s*else\b/.test(n))for(var u=t.cc.length-1;u>=0;--u){var l=t.cc[u];if(l==x)o=o.prev;else if(l!=R)break}"stat"==o.type&&"}"==a&&(o=o.prev),xe&&")"==o.type&&"stat"==o.prev.type&&(o=o.prev);var s=o.type,f=a==s;return"vardef"==s?o.indented+("operator"==t.lastType||","==t.lastType?o.info+1:0):"form"==s&&"{"==a?o.indented:"form"==s?o.indented+be:"stat"==s?o.indented+(me(t,n)?xe||be:0):"switch"!=o.info||f||0==r.doubleIndentSwitch?o.align?o.column+(f?0:1):o.indented+(f?0:be):o.indented+(/^(?:case|default)\b/.test(n)?be:2*be)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:ge?null:"/*",blockCommentEnd:ge?null:"*/",lineComment:ge?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:ge?"json":"javascript",jsonldMode:he,jsonMode:ge}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},{"../../lib/codemirror":107}],109:[function(require,module,exports){"use strict";var _get=require("babel-runtime/helpers/get").default,_inherits=require("babel-runtime/helpers/inherits").default,_classCallCheck=require("babel-runtime/helpers/class-call-check").default;Object.defineProperty(exports,"__esModule",{value:!0});var _language=require("../language"),GraphQLError=function(e){function r(e,t,i,n,o){_classCallCheck(this,r),_get(Object.getPrototypeOf(r.prototype),"constructor",this).call(this,e),this.message=e,Object.defineProperty(this,"stack",{value:i||e}),Object.defineProperty(this,"nodes",{value:t}),Object.defineProperty(this,"source",{get:function(){if(n)return n;if(t&&t.length>0){var e=t[0];return e&&e.loc&&e.loc.source}}}),Object.defineProperty(this,"positions",{get:function(){if(o)return o;if(t){var e=t.map(function(e){return e.loc&&e.loc.start});if(e.some(function(e){return e}))return e}}}),Object.defineProperty(this,"locations",{get:function(){var e=this;return this.positions&&this.source?this.positions.map(function(r){return _language.getLocation(e.source,r)}):void 0}})}return _inherits(r,e),r}(Error);exports.GraphQLError=GraphQLError},{"../language":119,"babel-runtime/helpers/class-call-check":19,"babel-runtime/helpers/get":21,"babel-runtime/helpers/inherits":22}],110:[function(require,module,exports){"use strict";function formatError(e){return _jsutilsInvariant2.default(e,"Received null or undefined error."),{message:e.message,locations:e.locations}}var _interopRequireDefault=require("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.formatError=formatError;var _jsutilsInvariant=require("../jsutils/invariant"),_jsutilsInvariant2=_interopRequireDefault(_jsutilsInvariant)},{"../jsutils/invariant":115,"babel-runtime/helpers/interop-require-default":23}],111:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _GraphQLError=require("./GraphQLError");Object.defineProperty(exports,"GraphQLError",{enumerable:!0,get:function(){return _GraphQLError.GraphQLError}});var _syntaxError=require("./syntaxError");Object.defineProperty(exports,"syntaxError",{enumerable:!0,get:function(){return _syntaxError.syntaxError}});var _locatedError=require("./locatedError");Object.defineProperty(exports,"locatedError",{enumerable:!0,get:function(){return _locatedError.locatedError}});var _formatError=require("./formatError");Object.defineProperty(exports,"formatError",{enumerable:!0,get:function(){return _formatError.formatError}})},{"./GraphQLError":109,"./formatError":110,"./locatedError":112,"./syntaxError":113}],112:[function(require,module,exports){"use strict";function locatedError(r,e){var o=r?r.message||String(r):"An unknown error occurred.",t=r?r.stack:null;return new _GraphQLError.GraphQLError(o,e,t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.locatedError=locatedError;var _GraphQLError=require("./GraphQLError")},{"./GraphQLError":109}],113:[function(require,module,exports){"use strict";function syntaxError(r,n,o){var t=_languageLocation.getLocation(r,n),a=new _GraphQLError.GraphQLError("Syntax Error "+r.name+" ("+t.line+":"+t.column+") "+o+"\n\n"+highlightSourceAtLocation(r,t),void 0,void 0,r,[n]);return a}function highlightSourceAtLocation(r,n){var o=n.line,t=(o-1).toString(),a=o.toString(),e=(o+1).toString(),i=e.length,l=r.body.split(/\r\n|[\n\r\u2028\u2029]/g);return(o>=2?lpad(i,t)+": "+l[o-2]+"\n":"")+lpad(i,a)+": "+l[o-1]+"\n"+Array(2+i+n.column).join(" ")+"^\n"+(o<l.length?lpad(i,e)+": "+l[o]+"\n":"")}function lpad(r,n){return Array(r-n.length+1).join(" ")+n}Object.defineProperty(exports,"__esModule",{value:!0}),exports.syntaxError=syntaxError;var _languageLocation=require("../language/location"),_GraphQLError=require("./GraphQLError")},{"../language/location":122,"./GraphQLError":109}],114:[function(require,module,exports){"use strict";function find(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=find,module.exports=exports.default},{}],115:[function(require,module,exports){"use strict";function invariant(e,t){if(!e)throw new Error(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=invariant,module.exports=exports.default},{}],116:[function(require,module,exports){"use strict";function isNullish(e){return null===e||void 0===e||e!==e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=isNullish,module.exports=exports.default},{}],117:[function(require,module,exports){"use strict";function keyMap(e,t){return e.reduce(function(e,r){return e[t(r)]=r,e},{})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=keyMap,module.exports=exports.default},{}],118:[function(require,module,exports){"use strict";function keyValMap(e,t,r){return e.reduce(function(e,u){return e[t(u)]=r(u),e},{})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=keyValMap,module.exports=exports.default},{}],119:[function(require,module,exports){"use strict";var _interopRequireWildcard=require("babel-runtime/helpers/interop-require-wildcard").default;Object.defineProperty(exports,"__esModule",{value:!0});var _kinds=require("./kinds"),Kind=_interopRequireWildcard(_kinds),_location=require("./location");Object.defineProperty(exports,"getLocation",{enumerable:!0,get:function(){return _location.getLocation}}),exports.Kind=Kind;var _lexer=require("./lexer");Object.defineProperty(exports,"lex",{enumerable:!0,get:function(){return _lexer.lex}});var _parser=require("./parser");Object.defineProperty(exports,"parse",{enumerable:!0,get:function(){return _parser.parse}}),Object.defineProperty(exports,"parseValue",{enumerable:!0,get:function(){return _parser.parseValue}});var _printer=require("./printer");Object.defineProperty(exports,"print",{enumerable:!0,get:function(){return _printer.print}});var _source=require("./source");Object.defineProperty(exports,"Source",{enumerable:!0,get:function(){return _source.Source}});var _visitor=require("./visitor");Object.defineProperty(exports,"visit",{enumerable:!0,get:function(){return _visitor.visit}}),Object.defineProperty(exports,"BREAK",{enumerable:!0,get:function(){return _visitor.BREAK}})},{"./kinds":120,"./lexer":121,"./location":122,"./parser":123,"./printer":125,"./source":128,"./visitor":129,"babel-runtime/helpers/interop-require-wildcard":24}],120:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var NAME="Name";exports.NAME=NAME;var DOCUMENT="Document";exports.DOCUMENT=DOCUMENT;var OPERATION_DEFINITION="OperationDefinition";exports.OPERATION_DEFINITION=OPERATION_DEFINITION;var VARIABLE_DEFINITION="VariableDefinition";exports.VARIABLE_DEFINITION=VARIABLE_DEFINITION;var VARIABLE="Variable";exports.VARIABLE=VARIABLE;var SELECTION_SET="SelectionSet";exports.SELECTION_SET=SELECTION_SET;var FIELD="Field";exports.FIELD=FIELD;var ARGUMENT="Argument";exports.ARGUMENT=ARGUMENT;var FRAGMENT_SPREAD="FragmentSpread";exports.FRAGMENT_SPREAD=FRAGMENT_SPREAD;var INLINE_FRAGMENT="InlineFragment";exports.INLINE_FRAGMENT=INLINE_FRAGMENT;var FRAGMENT_DEFINITION="FragmentDefinition";exports.FRAGMENT_DEFINITION=FRAGMENT_DEFINITION;var INT="IntValue";exports.INT=INT;var FLOAT="FloatValue";exports.FLOAT=FLOAT;var STRING="StringValue";exports.STRING=STRING;var BOOLEAN="BooleanValue";exports.BOOLEAN=BOOLEAN;var ENUM="EnumValue";exports.ENUM=ENUM;var LIST="ListValue";exports.LIST=LIST;var OBJECT="ObjectValue";exports.OBJECT=OBJECT;var OBJECT_FIELD="ObjectField";exports.OBJECT_FIELD=OBJECT_FIELD;var DIRECTIVE="Directive";exports.DIRECTIVE=DIRECTIVE;var NAMED_TYPE="NamedType";exports.NAMED_TYPE=NAMED_TYPE;var LIST_TYPE="ListType";exports.LIST_TYPE=LIST_TYPE;var NON_NULL_TYPE="NonNullType";exports.NON_NULL_TYPE=NON_NULL_TYPE},{}],121:[function(require,module,exports){"use strict";function lex(e){var n=0;return function(r){var a=readToken(e,void 0===r?n:r);return n=a.end,a}}function getTokenDesc(e){return e.value?getTokenKindDesc(e.kind)+' "'+e.value+'"':getTokenKindDesc(e.kind)}function getTokenKindDesc(e){return tokenDescription[e]}function makeToken(e,n,r,a){return{kind:e,start:n,end:r,value:a}}function readToken(e,n){var r=e.body,a=r.length,o=positionAfterWhitespace(r,n),c=charCodeAt.call(r,o);if(o>=a)return makeToken(TokenKind.EOF,o,o);switch(c){case 33:return makeToken(TokenKind.BANG,o,o+1);case 36:return makeToken(TokenKind.DOLLAR,o,o+1);case 40:return makeToken(TokenKind.PAREN_L,o,o+1);case 41:return makeToken(TokenKind.PAREN_R,o,o+1);case 46:if(46===charCodeAt.call(r,o+1)&&46===charCodeAt.call(r,o+2))return makeToken(TokenKind.SPREAD,o,o+3);break;case 58:return makeToken(TokenKind.COLON,o,o+1);case 61:return makeToken(TokenKind.EQUALS,o,o+1);case 64:return makeToken(TokenKind.AT,o,o+1);case 91:return makeToken(TokenKind.BRACKET_L,o,o+1);case 93:return makeToken(TokenKind.BRACKET_R,o,o+1);case 123:return makeToken(TokenKind.BRACE_L,o,o+1);case 124:return makeToken(TokenKind.PIPE,o,o+1);case 125:return makeToken(TokenKind.BRACE_R,o,o+1);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return readName(e,o);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return readNumber(e,o,c);case 34:return readString(e,o)}throw _error.syntaxError(e,o,'Unexpected character "'+fromCharCode(c)+'".')}function positionAfterWhitespace(e,n){for(var r=e.length,a=n;r>a;){var o=charCodeAt.call(e,a);if(32===o||44===o||160===o||8232===o||8233===o||o>8&&14>o)++a;else{if(35!==o)break;for(++a;r>a&&(o=charCodeAt.call(e,a))&&10!==o&&13!==o&&8232!==o&&8233!==o;)++a}}return a}function readNumber(e,n,r){var a=r,o=e.body,c=n,t=!1;if(45===a&&(a=charCodeAt.call(o,++c)),48===a)a=charCodeAt.call(o,++c);else{if(!(a>=49&&57>=a))throw _error.syntaxError(e,c,"Invalid number.");do a=charCodeAt.call(o,++c);while(a>=48&&57>=a)}if(46===a){if(t=!0,a=charCodeAt.call(o,++c),!(a>=48&&57>=a))throw _error.syntaxError(e,c,"Invalid number.");do a=charCodeAt.call(o,++c);while(a>=48&&57>=a)}if(69===a||101===a){if(t=!0,a=charCodeAt.call(o,++c),(43===a||45===a)&&(a=charCodeAt.call(o,++c)),!(a>=48&&57>=a))throw _error.syntaxError(e,c,"Invalid number.");do a=charCodeAt.call(o,++c);while(a>=48&&57>=a)}return makeToken(t?TokenKind.FLOAT:TokenKind.INT,n,c,slice.call(o,n,c))}function readString(e,n){for(var r,a=e.body,o=n+1,c=o,t="";o<a.length&&(r=charCodeAt.call(a,o))&&34!==r&&10!==r&&13!==r&&8232!==r&&8233!==r;)if(++o,92===r){switch(t+=slice.call(a,c,o-1),r=charCodeAt.call(a,o)){case 34:t+='"';break;case 47:t+="/";break;case 92:t+="\\";break;case 98:t+="\b";break;case 102:t+="\f";break;case 110:t+="\n";break;case 114:t+="\r";break;case 116:t+="	";break;case 117:var s=uniCharCode(charCodeAt.call(a,o+1),charCodeAt.call(a,o+2),charCodeAt.call(a,o+3),charCodeAt.call(a,o+4));if(0>s)throw _error.syntaxError(e,o,"Bad character escape sequence.");t+=fromCharCode(s),o+=4;break;default:throw _error.syntaxError(e,o,"Bad character escape sequence.")}++o,c=o}if(34!==r)throw _error.syntaxError(e,o,"Unterminated string.");return t+=slice.call(a,c,o),makeToken(TokenKind.STRING,n,o+1,t)}function uniCharCode(e,n,r,a){return char2hex(e)<<12|char2hex(n)<<8|char2hex(r)<<4|char2hex(a)}function char2hex(e){return e>=48&&57>=e?e-48:e>=65&&70>=e?e-55:e>=97&&102>=e?e-87:-1}function readName(e,n){for(var r,a=e.body,o=a.length,c=n+1;c!==o&&(r=charCodeAt.call(a,c))&&(95===r||r>=48&&57>=r||r>=65&&90>=r||r>=97&&122>=r);)++c;return makeToken(TokenKind.NAME,n,c,slice.call(a,n,c))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.lex=lex,exports.getTokenDesc=getTokenDesc,exports.getTokenKindDesc=getTokenKindDesc;var _error=require("../error"),TokenKind={EOF:1,BANG:2,DOLLAR:3,PAREN_L:4,PAREN_R:5,SPREAD:6,COLON:7,EQUALS:8,AT:9,BRACKET_L:10,BRACKET_R:11,BRACE_L:12,PIPE:13,BRACE_R:14,NAME:15,VARIABLE:16,INT:17,FLOAT:18,STRING:19};exports.TokenKind=TokenKind;var tokenDescription={};tokenDescription[TokenKind.EOF]="EOF",tokenDescription[TokenKind.BANG]="!",tokenDescription[TokenKind.DOLLAR]="$",tokenDescription[TokenKind.PAREN_L]="(",tokenDescription[TokenKind.PAREN_R]=")",tokenDescription[TokenKind.SPREAD]="...",tokenDescription[TokenKind.COLON]=":",tokenDescription[TokenKind.EQUALS]="=",tokenDescription[TokenKind.AT]="@",tokenDescription[TokenKind.BRACKET_L]="[",tokenDescription[TokenKind.BRACKET_R]="]",tokenDescription[TokenKind.BRACE_L]="{",tokenDescription[TokenKind.PIPE]="|",tokenDescription[TokenKind.BRACE_R]="}",tokenDescription[TokenKind.NAME]="Name",tokenDescription[TokenKind.VARIABLE]="Variable",tokenDescription[TokenKind.INT]="Int",tokenDescription[TokenKind.FLOAT]="Float",tokenDescription[TokenKind.STRING]="String";var charCodeAt=String.prototype.charCodeAt,fromCharCode=String.fromCharCode,slice=String.prototype.slice},{"../error":111}],122:[function(require,module,exports){"use strict";function getLocation(e,t){for(var n,o=1,r=t+1,i=/\r\n|[\n\r\u2028\u2029]/g;(n=i.exec(e.body))&&n.index<t;)o+=1,r=t+1-(n.index+n[0].length);return{line:o,column:r}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getLocation=getLocation},{}],123:[function(require,module,exports){"use strict";function parse(e,r){var a=e instanceof _source.Source?e:new _source.Source(e),n=_parserCore.makeParser(a,r||{});return parseDocument(n)}function parseValue(e,r){var a=e instanceof _source.Source?e:new _source.Source(e),n=_parserCore.makeParser(a,r||{});return parseValueLiteral(n)}function parseName(e){var r=_parserCore.expect(e,_lexer.TokenKind.NAME);return{kind:_kinds.NAME,value:r.value,loc:_parserCore.loc(e,r.start)}}function parseDocument(e){var r=e.token.start,a=[];do if(_parserCore.peek(e,_lexer.TokenKind.BRACE_L))a.push(parseOperationDefinition(e));else{if(!_parserCore.peek(e,_lexer.TokenKind.NAME))throw _parserCore.unexpected(e);if("query"===e.token.value||"mutation"===e.token.value)a.push(parseOperationDefinition(e));else{if("fragment"!==e.token.value)throw _parserCore.unexpected(e);a.push(parseFragmentDefinition(e))}}while(!_parserCore.skip(e,_lexer.TokenKind.EOF));return{kind:_kinds.DOCUMENT,definitions:a,loc:_parserCore.loc(e,r)}}function parseOperationDefinition(e){var r=e.token.start;if(_parserCore.peek(e,_lexer.TokenKind.BRACE_L))return{kind:_kinds.OPERATION_DEFINITION,operation:"query",name:null,variableDefinitions:null,directives:[],selectionSet:parseSelectionSet(e),loc:_parserCore.loc(e,r)};var a=_parserCore.expect(e,_lexer.TokenKind.NAME),n=a.value;return{kind:_kinds.OPERATION_DEFINITION,operation:n,name:parseName(e),variableDefinitions:parseVariableDefinitions(e),directives:parseDirectives(e),selectionSet:parseSelectionSet(e),loc:_parserCore.loc(e,r)}}function parseVariableDefinitions(e){return _parserCore.peek(e,_lexer.TokenKind.PAREN_L)?_parserCore.many(e,_lexer.TokenKind.PAREN_L,parseVariableDefinition,_lexer.TokenKind.PAREN_R):[];
}function parseVariableDefinition(e){var r=e.token.start;return{kind:_kinds.VARIABLE_DEFINITION,variable:parseVariable(e),type:(_parserCore.expect(e,_lexer.TokenKind.COLON),parseType(e)),defaultValue:_parserCore.skip(e,_lexer.TokenKind.EQUALS)?parseValueLiteral(e,!0):null,loc:_parserCore.loc(e,r)}}function parseVariable(e){var r=e.token.start;return _parserCore.expect(e,_lexer.TokenKind.DOLLAR),{kind:_kinds.VARIABLE,name:parseName(e),loc:_parserCore.loc(e,r)}}function parseSelectionSet(e){var r=e.token.start;return{kind:_kinds.SELECTION_SET,selections:_parserCore.many(e,_lexer.TokenKind.BRACE_L,parseSelection,_lexer.TokenKind.BRACE_R),loc:_parserCore.loc(e,r)}}function parseSelection(e){return _parserCore.peek(e,_lexer.TokenKind.SPREAD)?parseFragment(e):parseField(e)}function parseField(e){var r,a,n=e.token.start,s=parseName(e);return _parserCore.skip(e,_lexer.TokenKind.COLON)?(r=s,a=parseName(e)):(r=null,a=s),{kind:_kinds.FIELD,alias:r,name:a,arguments:parseArguments(e),directives:parseDirectives(e),selectionSet:_parserCore.peek(e,_lexer.TokenKind.BRACE_L)?parseSelectionSet(e):null,loc:_parserCore.loc(e,n)}}function parseArguments(e){return _parserCore.peek(e,_lexer.TokenKind.PAREN_L)?_parserCore.many(e,_lexer.TokenKind.PAREN_L,parseArgument,_lexer.TokenKind.PAREN_R):[]}function parseArgument(e){var r=e.token.start;return{kind:_kinds.ARGUMENT,name:parseName(e),value:(_parserCore.expect(e,_lexer.TokenKind.COLON),parseValueLiteral(e,!1)),loc:_parserCore.loc(e,r)}}function parseFragment(e){var r=e.token.start;return _parserCore.expect(e,_lexer.TokenKind.SPREAD),"on"===e.token.value?(_parserCore.advance(e),{kind:_kinds.INLINE_FRAGMENT,typeCondition:parseNamedType(e),directives:parseDirectives(e),selectionSet:parseSelectionSet(e),loc:_parserCore.loc(e,r)}):{kind:_kinds.FRAGMENT_SPREAD,name:parseFragmentName(e),directives:parseDirectives(e),loc:_parserCore.loc(e,r)}}function parseFragmentName(e){if("on"===e.token.value)throw _parserCore.unexpected(e);return parseName(e)}function parseFragmentDefinition(e){var r=e.token.start;return _parserCore.expectKeyword(e,"fragment"),{kind:_kinds.FRAGMENT_DEFINITION,name:parseFragmentName(e),typeCondition:(_parserCore.expectKeyword(e,"on"),parseNamedType(e)),directives:parseDirectives(e),selectionSet:parseSelectionSet(e),loc:_parserCore.loc(e,r)}}function parseConstValue(e){return parseValueLiteral(e,!0)}function parseValueValue(e){return parseValueLiteral(e,!1)}function parseValueLiteral(e,r){var a=e.token;switch(a.kind){case _lexer.TokenKind.BRACKET_L:return parseList(e,r);case _lexer.TokenKind.BRACE_L:return parseObject(e,r);case _lexer.TokenKind.INT:return _parserCore.advance(e),{kind:_kinds.INT,value:a.value,loc:_parserCore.loc(e,a.start)};case _lexer.TokenKind.FLOAT:return _parserCore.advance(e),{kind:_kinds.FLOAT,value:a.value,loc:_parserCore.loc(e,a.start)};case _lexer.TokenKind.STRING:return _parserCore.advance(e),{kind:_kinds.STRING,value:a.value,loc:_parserCore.loc(e,a.start)};case _lexer.TokenKind.NAME:if("true"===a.value||"false"===a.value)return _parserCore.advance(e),{kind:_kinds.BOOLEAN,value:"true"===a.value,loc:_parserCore.loc(e,a.start)};if("null"!==a.value)return _parserCore.advance(e),{kind:_kinds.ENUM,value:a.value,loc:_parserCore.loc(e,a.start)};break;case _lexer.TokenKind.DOLLAR:if(!r)return parseVariable(e)}throw _parserCore.unexpected(e)}function parseList(e,r){var a=e.token.start,n=r?parseConstValue:parseValueValue;return{kind:_kinds.LIST,values:_parserCore.any(e,_lexer.TokenKind.BRACKET_L,n,_lexer.TokenKind.BRACKET_R),loc:_parserCore.loc(e,a)}}function parseObject(e,r){var a=e.token.start;_parserCore.expect(e,_lexer.TokenKind.BRACE_L);for(var n={},s=[];!_parserCore.skip(e,_lexer.TokenKind.BRACE_R);)s.push(parseObjectField(e,r,n));return{kind:_kinds.OBJECT,fields:s,loc:_parserCore.loc(e,a)}}function parseObjectField(e,r,a){var n=e.token.start,s=parseName(e);if(a.hasOwnProperty(s.value))throw _error.syntaxError(e.source,n,"Duplicate input object field "+s.value+".");return a[s.value]=!0,{kind:_kinds.OBJECT_FIELD,name:s,value:(_parserCore.expect(e,_lexer.TokenKind.COLON),parseValueLiteral(e,r)),loc:_parserCore.loc(e,n)}}function parseDirectives(e){for(var r=[];_parserCore.peek(e,_lexer.TokenKind.AT);)r.push(parseDirective(e));return r}function parseDirective(e){var r=e.token.start;return _parserCore.expect(e,_lexer.TokenKind.AT),{kind:_kinds.DIRECTIVE,name:parseName(e),arguments:parseArguments(e),loc:_parserCore.loc(e,r)}}function parseType(e){var r,a=e.token.start;return _parserCore.skip(e,_lexer.TokenKind.BRACKET_L)?(r=parseType(e),_parserCore.expect(e,_lexer.TokenKind.BRACKET_R),r={kind:_kinds.LIST_TYPE,type:r,loc:_parserCore.loc(e,a)}):r=parseNamedType(e),_parserCore.skip(e,_lexer.TokenKind.BANG)?{kind:_kinds.NON_NULL_TYPE,type:r,loc:_parserCore.loc(e,a)}:r}function parseNamedType(e){var r=e.token.start;return{kind:_kinds.NAMED_TYPE,name:parseName(e),loc:_parserCore.loc(e,r)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.parse=parse,exports.parseValue=parseValue,exports.parseName=parseName,exports.parseConstValue=parseConstValue,exports.parseType=parseType,exports.parseNamedType=parseNamedType;var _source=require("./source"),_error=require("../error"),_lexer=require("./lexer"),_kinds=require("./kinds"),_parserCore=require("./parserCore")},{"../error":111,"./kinds":120,"./lexer":121,"./parserCore":124,"./source":128}],124:[function(require,module,exports){"use strict";function makeParser(e,r){var n=_lexer.lex(e);return{_lexToken:n,source:e,options:r,prevEnd:0,token:n()}}function loc(e,r){return e.options.noLocation?null:e.options.noSource?{start:r,end:e.prevEnd}:{start:r,end:e.prevEnd,source:e.source}}function advance(e){var r=e.token.end;e.prevEnd=r,e.token=e._lexToken(r)}function peek(e,r){return e.token.kind===r}function skip(e,r){var n=e.token.kind===r;return n&&advance(e),n}function expect(e,r){var n=e.token;if(n.kind===r)return advance(e),n;throw _error.syntaxError(e.source,n.start,"Expected "+_lexer.getTokenKindDesc(r)+", found "+_lexer.getTokenDesc(n))}function expectKeyword(e,r){var n=e.token;if(n.kind===_lexer.TokenKind.NAME&&n.value===r)return advance(e),n;throw _error.syntaxError(e.source,n.start,'Expected "'+r+'", found '+_lexer.getTokenDesc(n))}function unexpected(e,r){var n=r||e.token;return _error.syntaxError(e.source,n.start,"Unexpected "+_lexer.getTokenDesc(n))}function any(e,r,n,t){expect(e,r);for(var o=[];!skip(e,t);)o.push(n(e));return o}function many(e,r,n,t){expect(e,r);for(var o=[n(e)];!skip(e,t);)o.push(n(e));return o}Object.defineProperty(exports,"__esModule",{value:!0}),exports.makeParser=makeParser,exports.loc=loc,exports.advance=advance,exports.peek=peek,exports.skip=skip,exports.expect=expect,exports.expectKeyword=expectKeyword,exports.unexpected=unexpected,exports.any=any,exports.many=many;var _lexer=require("./lexer"),_error=(require("./source"),require("../error"))},{"../error":111,"./lexer":121,"./source":128}],125:[function(require,module,exports){"use strict";function print(n){return _visitor.visit(n,{leave:printDocASTReducer})}function join(n,e){return n?n.filter(function(n){return n}).join(e||""):""}function block(n){return length(n)?indent("{\n"+join(n,"\n"))+"\n}":""}function wrap(n,e,r){return e?n+e+(r||""):""}function indent(n){return n&&n.replace(/\n/g,"\n  ")}function length(n){return n?n.length:0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.print=print,exports.join=join,exports.block=block,exports.wrap=wrap;var _visitor=require("./visitor"),printDocASTReducer={Name:function(n){return n.value},Variable:function(n){return"$"+n.name},Document:function(n){return join(n.definitions,"\n\n")+"\n"},OperationDefinition:function(n){var e=n.operation,r=n.name,t=wrap("(",join(n.variableDefinitions,", "),")"),i=join(n.directives," "),o=n.selectionSet;return r?join([e,join([r,t]),i,o]," "):o},VariableDefinition:function(n){var e=n.variable,r=n.type,t=n.defaultValue;return e+": "+r+wrap(" = ",t)},SelectionSet:function(n){var e=n.selections;return block(e)},Field:function(n){var e=n.alias,r=n.name,t=n.arguments,i=n.directives,o=n.selectionSet;return join([wrap("",e,": ")+r+wrap("(",join(t,", "),")"),join(i," "),o]," ")},Argument:function(n){var e=n.name,r=n.value;return e+": "+r},FragmentSpread:function(n){var e=n.name,r=n.directives;return"..."+e+wrap(" ",join(r," "))},InlineFragment:function(n){var e=n.typeCondition,r=n.directives,t=n.selectionSet;return"... on "+e+" "+wrap("",join(r," ")," ")+t},FragmentDefinition:function(n){var e=n.name,r=n.typeCondition,t=n.directives,i=n.selectionSet;return"fragment "+e+" on "+r+" "+wrap("",join(t," ")," ")+i},IntValue:function(n){var e=n.value;return e},FloatValue:function(n){var e=n.value;return e},StringValue:function(n){var e=n.value;return JSON.stringify(e)},BooleanValue:function(n){var e=n.value;return JSON.stringify(e)},EnumValue:function(n){var e=n.value;return e},ListValue:function(n){var e=n.values;return"["+join(e,", ")+"]"},ObjectValue:function(n){var e=n.fields;return"{"+join(e,", ")+"}"},ObjectField:function(n){var e=n.name,r=n.value;return e+": "+r},Directive:function(n){var e=n.name,r=n.arguments;return"@"+e+wrap("(",join(r,", "),")")},NamedType:function(n){var e=n.name;return e},ListType:function(n){var e=n.type;return"["+e+"]"},NonNullType:function(n){var e=n.type;return e+"!"}};exports.printDocASTReducer=printDocASTReducer},{"./visitor":129}],126:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},{}],127:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var SCHEMA_DOCUMENT="SchemaDocument";exports.SCHEMA_DOCUMENT=SCHEMA_DOCUMENT;var TYPE_DEFINITION="TypeDefinition";exports.TYPE_DEFINITION=TYPE_DEFINITION;var FIELD_DEFINITION="FieldDefinition";exports.FIELD_DEFINITION=FIELD_DEFINITION;var INPUT_VALUE_DEFINITION="InputValueDefinition";exports.INPUT_VALUE_DEFINITION=INPUT_VALUE_DEFINITION;var INTERFACE_DEFINITION="InterfaceDefinition";exports.INTERFACE_DEFINITION=INTERFACE_DEFINITION;var UNION_DEFINITION="UnionDefinition";exports.UNION_DEFINITION=UNION_DEFINITION;var SCALAR_DEFINITION="ScalarDefinition";exports.SCALAR_DEFINITION=SCALAR_DEFINITION;var ENUM_DEFINITION="EnumDefinition";exports.ENUM_DEFINITION=ENUM_DEFINITION;var ENUM_VALUE_DEFINITION="EnumValueDefinition";exports.ENUM_VALUE_DEFINITION=ENUM_VALUE_DEFINITION;var INPUT_OBJECT_DEFINITION="InputObjectDefinition";exports.INPUT_OBJECT_DEFINITION=INPUT_OBJECT_DEFINITION},{}],128:[function(require,module,exports){"use strict";var _classCallCheck=require("babel-runtime/helpers/class-call-check").default;Object.defineProperty(exports,"__esModule",{value:!0});var Source=function e(r,s){_classCallCheck(this,e),this.body=r,this.name=s||"GraphQL"};exports.Source=Source},{"babel-runtime/helpers/class-call-check":19}],129:[function(require,module,exports){"use strict";function visit(e,i,t){var n,r,a=t||QueryDocumentKeys,o=Array.isArray(e),s=[e],l=-1,u=[],f=[],v=[],d=e;do{l++;var p,c,y=l===s.length,m=y&&0!==u.length;if(y){if(p=0===v.length?void 0:f.pop(),c=r,r=v.pop(),m){if(o)c=c.slice();else{var g={};for(var A in c)c.hasOwnProperty(A)&&(g[A]=c[A]);c=g}for(var V=0,h=0;h<u.length;h++){var b=_slicedToArray(u[h],2),D=b[0],F=b[1];o&&(D-=V),o&&null===F?(c.splice(D,1),V++):c[D]=F}}l=n.index,s=n.keys,u=n.edits,o=n.inArray,n=n.prev}else{if(p=r?o?l:s[l]:void 0,c=r?r[p]:d,null===c||void 0===c)continue;r&&f.push(p)}var S=void 0;if(!Array.isArray(c)){if(!isNode(c))throw new Error("Invalid AST Node: "+JSON.stringify(c));var N=getVisitFn(i,y,c.kind);if(N){if(S=N.call(i,c,p,r,f,v),S===BREAK)break;if(S===!1){if(!y){f.pop();continue}}else if(void 0!==S&&(u.push([p,S]),!y)){if(!isNode(S)){f.pop();continue}c=S}}}void 0===S&&m&&u.push([p,c]),y||(n={inArray:o,index:l,keys:s,edits:u,prev:n},o=Array.isArray(c),s=o?c:a[c.kind]||[],l=-1,u=[],r&&v.push(r),r=c)}while(void 0!==n);return 0!==u.length&&(d=u[0][1]),d}function isNode(e){return e&&"string"==typeof e.kind}function getVisitFn(e,i,t){var n=e[t];if(n){if(!i&&"function"==typeof n)return n;var r=i?n.leave:n.enter;if("function"==typeof r)return r}else{var a=i?e.leave:e.enter;if(a){if("function"==typeof a)return a;var o=a[t];if("function"==typeof o)return o}}}var _slicedToArray=require("babel-runtime/helpers/sliced-to-array").default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.visit=visit,exports.getVisitFn=getVisitFn;var QueryDocumentKeys={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"]};exports.QueryDocumentKeys=QueryDocumentKeys;var BREAK={};exports.BREAK=BREAK},{"babel-runtime/helpers/sliced-to-array":25}],130:[function(require,module,exports){"use strict";function isType(e){return e instanceof GraphQLScalarType||e instanceof GraphQLObjectType||e instanceof GraphQLInterfaceType||e instanceof GraphQLUnionType||e instanceof GraphQLEnumType||e instanceof GraphQLInputObjectType||e instanceof GraphQLList||e instanceof GraphQLNonNull}function isInputType(e){var t=getNamedType(e);return t instanceof GraphQLScalarType||t instanceof GraphQLEnumType||t instanceof GraphQLInputObjectType}function isOutputType(e){var t=getNamedType(e);return t instanceof GraphQLScalarType||t instanceof GraphQLObjectType||t instanceof GraphQLInterfaceType||t instanceof GraphQLUnionType||t instanceof GraphQLEnumType}function isLeafType(e){var t=getNamedType(e);return t instanceof GraphQLScalarType||t instanceof GraphQLEnumType}function isCompositeType(e){return e instanceof GraphQLObjectType||e instanceof GraphQLInterfaceType||e instanceof GraphQLUnionType}function isAbstractType(e){return e instanceof GraphQLInterfaceType||e instanceof GraphQLUnionType}function getNullableType(e){return e instanceof GraphQLNonNull?e.ofType:e}function getNamedType(e){for(var t=e;t instanceof GraphQLList||t instanceof GraphQLNonNull;)t=t.ofType;return t}function resolveMaybeThunk(e){return"function"==typeof e?e():e}function defineInterfaces(e,t){var n=resolveMaybeThunk(t);return n?(_jsutilsInvariant2.default(Array.isArray(n),e+" interfaces must be an Array or a function which returns an Array."),n.forEach(function(t){_jsutilsInvariant2.default(t instanceof GraphQLInterfaceType,e+" may only implement Interface types, it cannot "+("implement: "+t+".")),"function"!=typeof t.resolveType&&_jsutilsInvariant2.default("function"==typeof e.isTypeOf,"Interface Type "+t+' does not provide a "resolveType" function '+("and implementing Type "+e+' does not provide a "isTypeOf" ')+"function. There is no way to resolve this implementing type during execution.")}),n):[]}function defineFieldMap(e,t){var n=resolveMaybeThunk(t);_jsutilsInvariant2.default(isPlainObj(n),e+" fields must be an object with field names as keys or a function which returns such an object.");var a=_Object$keys(n);return _jsutilsInvariant2.default(a.length>0,e+" fields must be an object with field names as keys or a function which returns such an object."),a.forEach(function(t){var a=n[t];a.name=t,_jsutilsInvariant2.default(isOutputType(a.type),e+"."+t+" field type must be Output Type but "+("got: "+a.type+".")),a.args?(_jsutilsInvariant2.default(isPlainObj(a.args),e+"."+t+" args must be an object with argument names as keys."),a.args=_Object$keys(a.args).map(function(n){var i=a.args[n];return _jsutilsInvariant2.default(isInputType(i.type),e+"."+t+"("+n+":) argument type must be "+("Input Type but got: "+i.type+".")),{name:n,description:void 0===i.description?null:i.description,type:i.type,defaultValue:void 0===i.defaultValue?null:i.defaultValue}})):a.args=[]}),n}function isPlainObj(e){return e&&"object"==typeof e&&!Array.isArray(e)}function addImplementationToInterfaces(e){e.getInterfaces().forEach(function(t){t._implementations.push(e)})}function getTypeOf(e,t,n){for(var a=n.getPossibleTypes(),i=0;i<a.length;i++){var s=a[i];if("function"==typeof s.isTypeOf&&s.isTypeOf(e,t))return s}}function defineEnumValues(e,t){_jsutilsInvariant2.default(isPlainObj(t),e+" values must be an object with value names as keys.");var n=_Object$keys(t);return _jsutilsInvariant2.default(n.length>0,e+" values must be an object with value names as keys."),n.map(function(n){var a=t[n];return _jsutilsInvariant2.default(isPlainObj(a),e+"."+n+' must refer to an object with a "value" key '+("representing an internal value but got: "+a+".")),a.name=n,_jsutilsIsNullish2.default(a.value)&&(a.value=n),a})}var _createClass=require("babel-runtime/helpers/create-class").default,_classCallCheck=require("babel-runtime/helpers/class-call-check").default,_Object$keys=require("babel-runtime/core-js/object/keys").default,_Map=require("babel-runtime/core-js/map").default,_Object$create=require("babel-runtime/core-js/object/create").default,_interopRequireDefault=require("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.isType=isType,exports.isInputType=isInputType,exports.isOutputType=isOutputType,exports.isLeafType=isLeafType,exports.isCompositeType=isCompositeType,exports.isAbstractType=isAbstractType,exports.getNullableType=getNullableType,exports.getNamedType=getNamedType;var _jsutilsInvariant=require("../jsutils/invariant"),_jsutilsInvariant2=_interopRequireDefault(_jsutilsInvariant),_jsutilsIsNullish=require("../jsutils/isNullish"),_jsutilsIsNullish2=_interopRequireDefault(_jsutilsIsNullish),_jsutilsKeyMap=require("../jsutils/keyMap"),_jsutilsKeyMap2=_interopRequireDefault(_jsutilsKeyMap),_languageKinds=require("../language/kinds"),GraphQLScalarType=function(){function e(t){_classCallCheck(this,e),_jsutilsInvariant2.default(t.name,"Type must be named."),this.name=t.name,this.description=t.description,_jsutilsInvariant2.default("function"==typeof t.serialize,this+' must provide "serialize" function. If this custom Scalar is also used as an input type, ensure "parseValue" and "parseLiteral" functions are also provided.'),(t.parseValue||t.parseLiteral)&&_jsutilsInvariant2.default("function"==typeof t.parseValue&&"function"==typeof t.parseLiteral,this+' must provide both "parseValue" and "parseLiteral" functions.'),this._scalarConfig=t}return _createClass(e,[{key:"serialize",value:function(e){var t=this._scalarConfig.serialize;return t(e)}},{key:"parseValue",value:function(e){var t=this._scalarConfig.parseValue;return t?t(e):null}},{key:"parseLiteral",value:function(e){var t=this._scalarConfig.parseLiteral;return t?t(e):null}},{key:"toString",value:function(){return this.name}}]),e}();exports.GraphQLScalarType=GraphQLScalarType;var GraphQLObjectType=function(){function e(t){_classCallCheck(this,e),_jsutilsInvariant2.default(t.name,"Type must be named."),this.name=t.name,this.description=t.description,t.isTypeOf&&_jsutilsInvariant2.default("function"==typeof t.isTypeOf,this+' must provide "isTypeOf" as a function.'),this.isTypeOf=t.isTypeOf,this._typeConfig=t,addImplementationToInterfaces(this)}return _createClass(e,[{key:"getFields",value:function(){return this._fields||(this._fields=defineFieldMap(this,this._typeConfig.fields))}},{key:"getInterfaces",value:function(){return this._interfaces||(this._interfaces=defineInterfaces(this,this._typeConfig.interfaces))}},{key:"toString",value:function(){return this.name}}]),e}();exports.GraphQLObjectType=GraphQLObjectType;var GraphQLInterfaceType=function(){function e(t){_classCallCheck(this,e),_jsutilsInvariant2.default(t.name,"Type must be named."),this.name=t.name,this.description=t.description,t.resolveType&&_jsutilsInvariant2.default("function"==typeof t.resolveType,this+' must provide "resolveType" as a function.'),this.resolveType=t.resolveType,this._typeConfig=t,this._implementations=[]}return _createClass(e,[{key:"getFields",value:function(){return this._fields||(this._fields=defineFieldMap(this,this._typeConfig.fields))}},{key:"getPossibleTypes",value:function(){return this._implementations}},{key:"isPossibleType",value:function(e){var t=this._possibleTypes||(this._possibleTypes=_jsutilsKeyMap2.default(this.getPossibleTypes(),function(e){return e.name}));return Boolean(t[e.name])}},{key:"getObjectType",value:function(e,t){var n=this.resolveType;return n?n(e,t):getTypeOf(e,t,this)}},{key:"toString",value:function(){return this.name}}]),e}();exports.GraphQLInterfaceType=GraphQLInterfaceType;var GraphQLUnionType=function(){function e(t){var n=this;_classCallCheck(this,e),_jsutilsInvariant2.default(t.name,"Type must be named."),this.name=t.name,this.description=t.description,t.resolveType&&_jsutilsInvariant2.default("function"==typeof t.resolveType,this+' must provide "resolveType" as a function.'),this.resolveType=t.resolveType,_jsutilsInvariant2.default(Array.isArray(t.types)&&t.types.length>0,"Must provide Array of types for Union "+t.name+"."),t.types.forEach(function(e){_jsutilsInvariant2.default(e instanceof GraphQLObjectType,n+" may only contain Object types, it cannot contain: "+e+"."),"function"!=typeof n.resolveType&&_jsutilsInvariant2.default("function"==typeof e.isTypeOf,"Union Type "+n+' does not provide a "resolveType" function '+("and possible Type "+e+' does not provide a "isTypeOf" ')+"function. There is no way to resolve this possible type during execution.")}),this._types=t.types,this._typeConfig=t}return _createClass(e,[{key:"getPossibleTypes",value:function(){return this._types}},{key:"isPossibleType",value:function(e){var t=this._possibleTypeNames;return t||(this._possibleTypeNames=t=this.getPossibleTypes().reduce(function(e,t){return e[t.name]=!0,e},{})),t[e.name]===!0}},{key:"getObjectType",value:function(e,t){var n=this._typeConfig.resolveType;return n?n(e,t):getTypeOf(e,t,this)}},{key:"toString",value:function(){return this.name}}]),e}();exports.GraphQLUnionType=GraphQLUnionType;var GraphQLEnumType=function(){function e(t){_classCallCheck(this,e),this.name=t.name,this.description=t.description,this._values=defineEnumValues(this,t.values),this._enumConfig=t}return _createClass(e,[{key:"getValues",value:function(){return this._values}},{key:"serialize",value:function(e){var t=this._getValueLookup().get(e);return t?t.name:null}},{key:"parseValue",value:function(e){var t=this._getNameLookup()[e];return t?t.value:void 0}},{key:"parseLiteral",value:function(e){if(e.kind===_languageKinds.ENUM){var t=this._getNameLookup()[e.value];if(t)return t.value}}},{key:"_getValueLookup",value:function(){if(!this._valueLookup){var e=new _Map;this.getValues().forEach(function(t){e.set(t.value,t)}),this._valueLookup=e}return this._valueLookup}},{key:"_getNameLookup",value:function(){if(!this._nameLookup){var e=_Object$create(null);this.getValues().forEach(function(t){e[t.name]=t}),this._nameLookup=e}return this._nameLookup}},{key:"toString",value:function(){return this.name}}]),e}();exports.GraphQLEnumType=GraphQLEnumType;var GraphQLInputObjectType=function(){function e(t){_classCallCheck(this,e),_jsutilsInvariant2.default(t.name,"Type must be named."),this.name=t.name,this.description=t.description,this._typeConfig=t}return _createClass(e,[{key:"getFields",value:function(){return this._fields||(this._fields=this._defineFieldMap())}},{key:"_defineFieldMap",value:function(){var e=this,t=resolveMaybeThunk(this._typeConfig.fields);_jsutilsInvariant2.default(isPlainObj(t),this+" fields must be an object with field names as keys or a function which returns such an object.");var n=_Object$keys(t);return _jsutilsInvariant2.default(n.length>0,this+" fields must be an object with field names as keys or a function which returns such an object."),n.forEach(function(n){var a=t[n];a.name=n,_jsutilsInvariant2.default(isInputType(a.type),e+"."+n+" field type must be Input Type but "+("got: "+a.type+"."))}),t}},{key:"toString",value:function(){return this.name}}]),e}();exports.GraphQLInputObjectType=GraphQLInputObjectType;var GraphQLList=function(){function e(t){_classCallCheck(this,e),_jsutilsInvariant2.default(isType(t),"Can only create List of a GraphQLType but got: "+t+"."),this.ofType=t}return _createClass(e,[{key:"toString",value:function(){return"["+String(this.ofType)+"]"}}]),e}();exports.GraphQLList=GraphQLList;var GraphQLNonNull=function(){function e(t){_classCallCheck(this,e),_jsutilsInvariant2.default(isType(t)&&!(t instanceof e),"Can only create NonNull of a Nullable GraphQLType but got: "+t+"."),this.ofType=t}return _createClass(e,[{key:"toString",value:function(){return this.ofType.toString()+"!"}}]),e}();exports.GraphQLNonNull=GraphQLNonNull},{"../jsutils/invariant":115,"../jsutils/isNullish":116,"../jsutils/keyMap":117,"../language/kinds":120,"babel-runtime/core-js/map":12,"babel-runtime/core-js/object/create":13,"babel-runtime/core-js/object/keys":16,"babel-runtime/helpers/class-call-check":19,"babel-runtime/helpers/create-class":20,"babel-runtime/helpers/interop-require-default":23}],131:[function(require,module,exports){"use strict";var _classCallCheck=require("babel-runtime/helpers/class-call-check").default;Object.defineProperty(exports,"__esModule",{value:!0});var _definition=require("./definition"),_scalars=require("./scalars"),GraphQLDirective=function e(i){_classCallCheck(this,e),this.name=i.name,this.description=i.description,this.args=i.args,this.onOperation=i.onOperation,this.onFragment=i.onFragment,this.onField=i.onField};exports.GraphQLDirective=GraphQLDirective;var GraphQLIncludeDirective=new GraphQLDirective({name:"include",description:"Directs the executor to include this field or fragment only when the `if` argument is true.",args:[{name:"if",type:new _definition.GraphQLNonNull(_scalars.GraphQLBoolean),description:"Included when true."}],onOperation:!1,onFragment:!0,onField:!0});exports.GraphQLIncludeDirective=GraphQLIncludeDirective;var GraphQLSkipDirective=new GraphQLDirective({name:"skip",description:"Directs the executor to skip this field or fragment when the `if` argument is true.",args:[{name:"if",type:new _definition.GraphQLNonNull(_scalars.GraphQLBoolean),description:"Skipped when true."}],onOperation:!1,onFragment:!0,onField:!0});exports.GraphQLSkipDirective=GraphQLSkipDirective},{"./definition":130,"./scalars":134,"babel-runtime/helpers/class-call-check":19}],132:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _schema=require("./schema");Object.defineProperty(exports,"GraphQLSchema",{enumerable:!0,get:function(){return _schema.GraphQLSchema}});var _definition=require("./definition");Object.defineProperty(exports,"isType",{enumerable:!0,get:function(){return _definition.isType}}),Object.defineProperty(exports,"isInputType",{enumerable:!0,get:function(){return _definition.isInputType}}),Object.defineProperty(exports,"isOutputType",{enumerable:!0,get:function(){return _definition.isOutputType}}),Object.defineProperty(exports,"isLeafType",{enumerable:!0,get:function(){return _definition.isLeafType}}),Object.defineProperty(exports,"isCompositeType",{enumerable:!0,get:function(){return _definition.isCompositeType}}),Object.defineProperty(exports,"isAbstractType",{enumerable:!0,get:function(){return _definition.isAbstractType}}),Object.defineProperty(exports,"getNullableType",{enumerable:!0,get:function(){return _definition.getNullableType}}),Object.defineProperty(exports,"getNamedType",{enumerable:!0,get:function(){return _definition.getNamedType}}),Object.defineProperty(exports,"GraphQLScalarType",{enumerable:!0,get:function(){return _definition.GraphQLScalarType}}),Object.defineProperty(exports,"GraphQLObjectType",{enumerable:!0,get:function(){return _definition.GraphQLObjectType}}),Object.defineProperty(exports,"GraphQLInterfaceType",{enumerable:!0,get:function(){return _definition.GraphQLInterfaceType}}),Object.defineProperty(exports,"GraphQLUnionType",{enumerable:!0,get:function(){return _definition.GraphQLUnionType}}),Object.defineProperty(exports,"GraphQLEnumType",{enumerable:!0,get:function(){return _definition.GraphQLEnumType}}),Object.defineProperty(exports,"GraphQLInputObjectType",{enumerable:!0,get:function(){return _definition.GraphQLInputObjectType}}),Object.defineProperty(exports,"GraphQLList",{enumerable:!0,get:function(){return _definition.GraphQLList}}),Object.defineProperty(exports,"GraphQLNonNull",{enumerable:!0,get:function(){return _definition.GraphQLNonNull}});var _scalars=require("./scalars");Object.defineProperty(exports,"GraphQLInt",{enumerable:!0,get:function(){return _scalars.GraphQLInt}}),Object.defineProperty(exports,"GraphQLFloat",{enumerable:!0,get:function(){return _scalars.GraphQLFloat}}),Object.defineProperty(exports,"GraphQLString",{enumerable:!0,get:function(){return _scalars.GraphQLString}}),Object.defineProperty(exports,"GraphQLBoolean",{enumerable:!0,get:function(){return _scalars.GraphQLBoolean}}),Object.defineProperty(exports,"GraphQLID",{enumerable:!0,get:function(){return _scalars.GraphQLID}})},{"./definition":130,"./scalars":134,"./schema":135}],133:[function(require,module,exports){"use strict";var _Object$keys=require("babel-runtime/core-js/object/keys").default,_interopRequireDefault=require("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(exports,"__esModule",{value:!0});var _jsutilsIsNullish=require("../jsutils/isNullish"),_jsutilsIsNullish2=_interopRequireDefault(_jsutilsIsNullish),_utilitiesAstFromValue=require("../utilities/astFromValue"),_languagePrinter=require("../language/printer"),_definition=require("./definition"),_scalars=require("./scalars"),__Schema=new _definition.GraphQLObjectType({name:"__Schema",description:"A GraphQL Schema defines the capabilities of a GraphQL server. It exposes all available types and directives on the server, as well as the entry points for query and mutation operations.",fields:function(){return{types:{description:"A list of all types supported by this server.",type:new _definition.GraphQLNonNull(new _definition.GraphQLList(new _definition.GraphQLNonNull(__Type))),resolve:function(e){var n=e.getTypeMap();return _Object$keys(n).map(function(e){return n[e]})}},queryType:{description:"The type that query operations will be rooted at.",type:new _definition.GraphQLNonNull(__Type),resolve:function(e){return e.getQueryType()}},mutationType:{description:"If this server supports mutation, the type that mutation operations will be rooted at.",type:__Type,resolve:function(e){return e.getMutationType()}},directives:{description:"A list of all directives supported by this server.",type:new _definition.GraphQLNonNull(new _definition.GraphQLList(new _definition.GraphQLNonNull(__Directive))),resolve:function(e){return e.getDirectives()}}}}});exports.__Schema=__Schema;var __Directive=new _definition.GraphQLObjectType({name:"__Directive",fields:function(){return{name:{type:new _definition.GraphQLNonNull(_scalars.GraphQLString)},description:{type:_scalars.GraphQLString},args:{type:new _definition.GraphQLNonNull(new _definition.GraphQLList(new _definition.GraphQLNonNull(__InputValue))),resolve:function(e){return e.args||[]}},onOperation:{type:new _definition.GraphQLNonNull(_scalars.GraphQLBoolean)},onFragment:{type:new _definition.GraphQLNonNull(_scalars.GraphQLBoolean)},onField:{type:new _definition.GraphQLNonNull(_scalars.GraphQLBoolean)}}}}),__Type=new _definition.GraphQLObjectType({name:"__Type",fields:function(){return{kind:{type:new _definition.GraphQLNonNull(__TypeKind),resolve:function(e){if(e instanceof _definition.GraphQLScalarType)return TypeKind.SCALAR;if(e instanceof _definition.GraphQLObjectType)return TypeKind.OBJECT;
if(e instanceof _definition.GraphQLInterfaceType)return TypeKind.INTERFACE;if(e instanceof _definition.GraphQLUnionType)return TypeKind.UNION;if(e instanceof _definition.GraphQLEnumType)return TypeKind.ENUM;if(e instanceof _definition.GraphQLInputObjectType)return TypeKind.INPUT_OBJECT;if(e instanceof _definition.GraphQLList)return TypeKind.LIST;if(e instanceof _definition.GraphQLNonNull)return TypeKind.NON_NULL;throw new Error("Unknown kind of type: "+e)}},name:{type:_scalars.GraphQLString},description:{type:_scalars.GraphQLString},fields:{type:new _definition.GraphQLList(new _definition.GraphQLNonNull(__Field)),args:{includeDeprecated:{type:_scalars.GraphQLBoolean,defaultValue:!1}},resolve:function(e,n){var i=n.includeDeprecated;if(e instanceof _definition.GraphQLObjectType||e instanceof _definition.GraphQLInterfaceType){var t=e.getFields(),r=_Object$keys(t).map(function(e){return t[e]});return i||(r=r.filter(function(e){return!e.deprecationReason})),r}return null}},interfaces:{type:new _definition.GraphQLList(new _definition.GraphQLNonNull(__Type)),resolve:function(e){return e instanceof _definition.GraphQLObjectType?e.getInterfaces():void 0}},possibleTypes:{type:new _definition.GraphQLList(new _definition.GraphQLNonNull(__Type)),resolve:function(e){return e instanceof _definition.GraphQLInterfaceType||e instanceof _definition.GraphQLUnionType?e.getPossibleTypes():void 0}},enumValues:{type:new _definition.GraphQLList(new _definition.GraphQLNonNull(__EnumValue)),args:{includeDeprecated:{type:_scalars.GraphQLBoolean,defaultValue:!1}},resolve:function(e,n){var i=n.includeDeprecated;if(e instanceof _definition.GraphQLEnumType){var t=e.getValues();return i||(t=t.filter(function(e){return!e.deprecationReason})),t}}},inputFields:{type:new _definition.GraphQLList(new _definition.GraphQLNonNull(__InputValue)),resolve:function(e){if(e instanceof _definition.GraphQLInputObjectType){var n=e.getFields();return _Object$keys(n).map(function(e){return n[e]})}}},ofType:{type:__Type}}}}),__Field=new _definition.GraphQLObjectType({name:"__Field",fields:function(){return{name:{type:new _definition.GraphQLNonNull(_scalars.GraphQLString)},description:{type:_scalars.GraphQLString},args:{type:new _definition.GraphQLNonNull(new _definition.GraphQLList(new _definition.GraphQLNonNull(__InputValue))),resolve:function(e){return e.args||[]}},type:{type:new _definition.GraphQLNonNull(__Type)},isDeprecated:{type:new _definition.GraphQLNonNull(_scalars.GraphQLBoolean),resolve:function(e){return!_jsutilsIsNullish2.default(e.deprecationReason)}},deprecationReason:{type:_scalars.GraphQLString}}}}),__InputValue=new _definition.GraphQLObjectType({name:"__InputValue",fields:function(){return{name:{type:new _definition.GraphQLNonNull(_scalars.GraphQLString)},description:{type:_scalars.GraphQLString},type:{type:new _definition.GraphQLNonNull(__Type)},defaultValue:{type:_scalars.GraphQLString,resolve:function(e){return null==e.defaultValue?null:_languagePrinter.print(_utilitiesAstFromValue.astFromValue(e.defaultValue,e))}}}}}),__EnumValue=new _definition.GraphQLObjectType({name:"__EnumValue",fields:{name:{type:new _definition.GraphQLNonNull(_scalars.GraphQLString)},description:{type:_scalars.GraphQLString},isDeprecated:{type:new _definition.GraphQLNonNull(_scalars.GraphQLBoolean),resolve:function(e){return!_jsutilsIsNullish2.default(e.deprecationReason)}},deprecationReason:{type:_scalars.GraphQLString}}}),TypeKind={SCALAR:"SCALAR",OBJECT:"OBJECT",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",INPUT_OBJECT:"INPUT_OBJECT",LIST:"LIST",NON_NULL:"NON_NULL"};exports.TypeKind=TypeKind;var __TypeKind=new _definition.GraphQLEnumType({name:"__TypeKind",description:"An enum describing what kind of type a given __Type is",values:{SCALAR:{value:TypeKind.SCALAR,description:"Indicates this type is a scalar."},OBJECT:{value:TypeKind.OBJECT,description:"Indicates this type is an object. `fields` and `interfaces` are valid fields."},INTERFACE:{value:TypeKind.INTERFACE,description:"Indicates this type is an interface. `fields` and `possibleTypes` are valid fields."},UNION:{value:TypeKind.UNION,description:"Indicates this type is a union. `possibleTypes` is a valid field."},ENUM:{value:TypeKind.ENUM,description:"Indicates this type is an enum. `enumValues` is a valid field."},INPUT_OBJECT:{value:TypeKind.INPUT_OBJECT,description:"Indicates this type is an input object. `inputFields` is a valid field."},LIST:{value:TypeKind.LIST,description:"Indicates this type is a list. `ofType` is a valid field."},NON_NULL:{value:TypeKind.NON_NULL,description:"Indicates this type is a non-null. `ofType` is a valid field."}}}),SchemaMetaFieldDef={name:"__schema",type:new _definition.GraphQLNonNull(__Schema),description:"Access the current type schema of this server.",args:[],resolve:function(e,n,i){var t=i.schema;return t}};exports.SchemaMetaFieldDef=SchemaMetaFieldDef;var TypeMetaFieldDef={name:"__type",type:__Type,description:"Request the type information of a single type.",args:[{name:"name",type:new _definition.GraphQLNonNull(_scalars.GraphQLString)}],resolve:function(e,n,i){var t=n.name,r=i.schema;return r.getType(t)}};exports.TypeMetaFieldDef=TypeMetaFieldDef;var TypeNameMetaFieldDef={name:"__typename",type:new _definition.GraphQLNonNull(_scalars.GraphQLString),description:"The name of the current Object type at runtime.",args:[],resolve:function(e,n,i){var t=i.parentType;return t.name}};exports.TypeNameMetaFieldDef=TypeNameMetaFieldDef},{"../jsutils/isNullish":116,"../language/printer":125,"../utilities/astFromValue":137,"./definition":130,"./scalars":134,"babel-runtime/core-js/object/keys":16,"babel-runtime/helpers/interop-require-default":23}],134:[function(require,module,exports){"use strict";function coerceInt(e){var a=Number(e);return a===a&&MAX_INT>=a&&a>=MIN_INT?(0>a?Math.ceil:Math.floor)(a):null}function coerceFloat(e){var a=Number(e);return a===a?a:null}Object.defineProperty(exports,"__esModule",{value:!0});var _definition=require("./definition"),_language=require("../language"),MAX_INT=9007199254740991,MIN_INT=-9007199254740991,GraphQLInt=new _definition.GraphQLScalarType({name:"Int",serialize:coerceInt,parseValue:coerceInt,parseLiteral:function(e){if(e.kind===_language.Kind.INT){var a=parseInt(e.value,10);if(MAX_INT>=a&&a>=MIN_INT)return a}return null}});exports.GraphQLInt=GraphQLInt;var GraphQLFloat=new _definition.GraphQLScalarType({name:"Float",serialize:coerceFloat,parseValue:coerceFloat,parseLiteral:function(e){return e.kind===_language.Kind.FLOAT||e.kind===_language.Kind.INT?parseFloat(e.value):null}});exports.GraphQLFloat=GraphQLFloat;var GraphQLString=new _definition.GraphQLScalarType({name:"String",serialize:String,parseValue:String,parseLiteral:function(e){return e.kind===_language.Kind.STRING?e.value:null}});exports.GraphQLString=GraphQLString;var GraphQLBoolean=new _definition.GraphQLScalarType({name:"Boolean",serialize:Boolean,parseValue:Boolean,parseLiteral:function(e){return e.kind===_language.Kind.BOOLEAN?e.value:null}});exports.GraphQLBoolean=GraphQLBoolean;var GraphQLID=new _definition.GraphQLScalarType({name:"ID",serialize:String,parseValue:String,parseLiteral:function(e){return e.kind===_language.Kind.STRING||e.kind===_language.Kind.INT?e.value:null}});exports.GraphQLID=GraphQLID},{"../language":119,"./definition":130}],135:[function(require,module,exports){"use strict";function typeMapReducer(e,t){for(var i=!0;i;){var n=e,a=t;if(r=s=void 0,i=!1,!a)return n;if(!(a instanceof _definition.GraphQLList||a instanceof _definition.GraphQLNonNull)){if(n[a.name])return _jsutilsInvariant2.default(n[a.name]===a,"Schema must contain unique named types but contains multiple "+('types named "'+a+'".')),n;n[a.name]=a;var r=n;if((a instanceof _definition.GraphQLUnionType||a instanceof _definition.GraphQLInterfaceType)&&(r=a.getPossibleTypes().reduce(typeMapReducer,r)),a instanceof _definition.GraphQLObjectType&&(r=a.getInterfaces().reduce(typeMapReducer,r)),a instanceof _definition.GraphQLObjectType||a instanceof _definition.GraphQLInterfaceType||a instanceof _definition.GraphQLInputObjectType){var s=a.getFields();_Object$keys(s).forEach(function(e){var t=s[e];if(t.args){var i=t.args.map(function(e){return e.type});r=i.reduce(typeMapReducer,r)}r=typeMapReducer(r,t.type)})}return r}e=n,t=a.ofType,i=!0}}function assertObjectImplementsInterface(e,t){var i=e.getFields(),n=t.getFields();_Object$keys(n).forEach(function(a){var r=i[a],s=n[a];_jsutilsInvariant2.default(r,'"'+t+'" expects field "'+a+'" but "'+e+'" does not provide it.'),_jsutilsInvariant2.default(isEqualType(s.type,r.type),t+"."+a+' expects type "'+s.type+'" but '+(e+"."+a+' provides type "'+r.type+'".')),s.args.forEach(function(i){var n=i.name,s=_jsutilsFind2.default(r.args,function(e){return e.name===n});_jsutilsInvariant2.default(s,t+"."+a+' expects argument "'+n+'" but '+(e+"."+a+" does not provide it.")),_jsutilsInvariant2.default(isEqualType(i.type,s.type),t+"."+a+"("+n+':) expects type "'+i.type+'" '+("but "+e+"."+a+"("+n+":) provides ")+('type "'+s.type+'".'))}),r.args.forEach(function(i){var n=i.name,r=_jsutilsFind2.default(s.args,function(e){return e.name===n});_jsutilsInvariant2.default(r,t+"."+a+' does not define argument "'+n+'" but '+(e+"."+a+" provides it."))})})}function isEqualType(e,t){for(var i=!0;i;){var n=e,a=t;if(i=!1,n instanceof _definition.GraphQLNonNull&&a instanceof _definition.GraphQLNonNull)e=n.ofType,t=a.ofType,i=!0;else{if(!(n instanceof _definition.GraphQLList&&a instanceof _definition.GraphQLList))return n===a;e=n.ofType,t=a.ofType,i=!0}}}var _createClass=require("babel-runtime/helpers/create-class").default,_classCallCheck=require("babel-runtime/helpers/class-call-check").default,_Object$keys=require("babel-runtime/core-js/object/keys").default,_interopRequireDefault=require("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(exports,"__esModule",{value:!0});var _definition=require("./definition"),_directives=require("./directives"),_introspection=require("./introspection"),_jsutilsFind=require("../jsutils/find"),_jsutilsFind2=_interopRequireDefault(_jsutilsFind),_jsutilsInvariant=require("../jsutils/invariant"),_jsutilsInvariant2=_interopRequireDefault(_jsutilsInvariant),GraphQLSchema=function(){function e(t){var i=this;_classCallCheck(this,e),_jsutilsInvariant2.default("object"==typeof t,"Must provide configuration object."),_jsutilsInvariant2.default(t.query instanceof _definition.GraphQLObjectType,"Schema query must be Object Type but got: "+t.query+"."),_jsutilsInvariant2.default(!t.mutation||t.mutation instanceof _definition.GraphQLObjectType,"Schema mutation must be Object Type if provided but "+("got: "+t.mutation+".")),this._schemaConfig=t,this._typeMap=[this.getQueryType(),this.getMutationType(),_introspection.__Schema].reduce(typeMapReducer,{}),_Object$keys(this._typeMap).forEach(function(e){var t=i._typeMap[e];t instanceof _definition.GraphQLObjectType&&t.getInterfaces().forEach(function(e){return assertObjectImplementsInterface(t,e)})})}return _createClass(e,[{key:"getQueryType",value:function(){return this._schemaConfig.query}},{key:"getMutationType",value:function(){return this._schemaConfig.mutation}},{key:"getTypeMap",value:function(){return this._typeMap}},{key:"getType",value:function(e){return this.getTypeMap()[e]}},{key:"getDirectives",value:function(){return this._directives||(this._directives=[_directives.GraphQLIncludeDirective,_directives.GraphQLSkipDirective])}},{key:"getDirective",value:function(e){return _jsutilsFind2.default(this.getDirectives(),function(t){return t.name===e})}}]),e}();exports.GraphQLSchema=GraphQLSchema},{"../jsutils/find":114,"../jsutils/invariant":115,"./definition":130,"./directives":131,"./introspection":133,"babel-runtime/core-js/object/keys":16,"babel-runtime/helpers/class-call-check":19,"babel-runtime/helpers/create-class":20,"babel-runtime/helpers/interop-require-default":23}],136:[function(require,module,exports){"use strict";function getFieldDef(e,t,i){var n=i.name.value;return n===_typeIntrospection.SchemaMetaFieldDef.name&&e.getQueryType()===t?_typeIntrospection.SchemaMetaFieldDef:n===_typeIntrospection.TypeMetaFieldDef.name&&e.getQueryType()===t?_typeIntrospection.TypeMetaFieldDef:n===_typeIntrospection.TypeNameMetaFieldDef.name&&(t instanceof _typeDefinition.GraphQLObjectType||t instanceof _typeDefinition.GraphQLInterfaceType||t instanceof _typeDefinition.GraphQLUnionType)?_typeIntrospection.TypeNameMetaFieldDef:t instanceof _typeDefinition.GraphQLObjectType||t instanceof _typeDefinition.GraphQLInterfaceType?t.getFields()[n]:void 0}var _createClass=require("babel-runtime/helpers/create-class").default,_classCallCheck=require("babel-runtime/helpers/class-call-check").default,_interopRequireWildcard=require("babel-runtime/helpers/interop-require-wildcard").default,_interopRequireDefault=require("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(exports,"__esModule",{value:!0});var _languageKinds=require("../language/kinds"),Kind=_interopRequireWildcard(_languageKinds),_typeDefinition=require("../type/definition"),_typeIntrospection=require("../type/introspection"),_typeFromAST=require("./typeFromAST"),_jsutilsFind=require("../jsutils/find"),_jsutilsFind2=_interopRequireDefault(_jsutilsFind),TypeInfo=function(){function e(t){_classCallCheck(this,e),this._schema=t,this._typeStack=[],this._parentTypeStack=[],this._inputTypeStack=[],this._fieldDefStack=[],this._directive=null,this._argument=null}return _createClass(e,[{key:"getType",value:function(){return this._typeStack.length>0?this._typeStack[this._typeStack.length-1]:void 0}},{key:"getParentType",value:function(){return this._parentTypeStack.length>0?this._parentTypeStack[this._parentTypeStack.length-1]:void 0}},{key:"getInputType",value:function(){return this._inputTypeStack.length>0?this._inputTypeStack[this._inputTypeStack.length-1]:void 0}},{key:"getFieldDef",value:function(){return this._fieldDefStack.length>0?this._fieldDefStack[this._fieldDefStack.length-1]:void 0}},{key:"getDirective",value:function(){return this._directive}},{key:"getArgument",value:function(){return this._argument}},{key:"enter",value:function(e){var t,i=this._schema;switch(e.kind){case Kind.SELECTION_SET:var n,a=_typeDefinition.getNamedType(this.getType());_typeDefinition.isCompositeType(a)&&(n=a),this._parentTypeStack.push(n);break;case Kind.FIELD:var p,r=this.getParentType();r&&(p=getFieldDef(i,r,e)),this._fieldDefStack.push(p),this._typeStack.push(p&&p.type);break;case Kind.DIRECTIVE:this._directive=i.getDirective(e.name.value);break;case Kind.OPERATION_DEFINITION:"query"===e.operation?t=i.getQueryType():"mutation"===e.operation&&(t=i.getMutationType()),this._typeStack.push(t);break;case Kind.INLINE_FRAGMENT:case Kind.FRAGMENT_DEFINITION:t=_typeFromAST.typeFromAST(i,e.typeCondition),this._typeStack.push(t);break;case Kind.VARIABLE_DEFINITION:this._inputTypeStack.push(_typeFromAST.typeFromAST(i,e.type));break;case Kind.ARGUMENT:var s,c,u=this.getDirective()||this.getFieldDef();u&&(s=_jsutilsFind2.default(u.args,function(t){return t.name===e.name.value}),s&&(c=s.type)),this._argument=s,this._inputTypeStack.push(c);break;case Kind.LIST:var y=_typeDefinition.getNullableType(this.getInputType());this._inputTypeStack.push(y instanceof _typeDefinition.GraphQLList?y.ofType:void 0);break;case Kind.OBJECT_FIELD:var o,_=_typeDefinition.getNamedType(this.getInputType());if(_ instanceof _typeDefinition.GraphQLInputObjectType){var l=_.getFields()[e.name.value];o=l?l.type:void 0}this._inputTypeStack.push(o)}}},{key:"leave",value:function(e){switch(e.kind){case Kind.SELECTION_SET:this._parentTypeStack.pop();break;case Kind.FIELD:this._fieldDefStack.pop(),this._typeStack.pop();break;case Kind.DIRECTIVE:this._directive=null;break;case Kind.OPERATION_DEFINITION:case Kind.INLINE_FRAGMENT:case Kind.FRAGMENT_DEFINITION:this._typeStack.pop();break;case Kind.VARIABLE_DEFINITION:this._inputTypeStack.pop();break;case Kind.ARGUMENT:this._argument=null,this._inputTypeStack.pop();break;case Kind.LIST:case Kind.OBJECT_FIELD:this._inputTypeStack.pop()}}}]),e}();exports.TypeInfo=TypeInfo},{"../jsutils/find":114,"../language/kinds":120,"../type/definition":130,"../type/introspection":133,"./typeFromAST":145,"babel-runtime/helpers/class-call-check":19,"babel-runtime/helpers/create-class":20,"babel-runtime/helpers/interop-require-default":23,"babel-runtime/helpers/interop-require-wildcard":24}],137:[function(require,module,exports){"use strict";function astFromValue(e,i){for(var a=!0;a;){var n=e,t=i;if(r=u=s=l=void 0,a=!1,t instanceof _typeDefinition.GraphQLNonNull)e=n,i=t.ofType,a=!0;else{if(_jsutilsIsNullish2.default(n))return null;if(Array.isArray(n)){var r=t instanceof _typeDefinition.GraphQLList?t.ofType:null;return{kind:_languageKinds.LIST,values:n.map(function(e){return astFromValue(e,r)})}}if(!(t instanceof _typeDefinition.GraphQLList)){if("boolean"==typeof n)return{kind:_languageKinds.BOOLEAN,value:n};if("number"==typeof n){var u=String(n),s=/^[0-9]+$/.test(u);return s?t===_typeScalars.GraphQLFloat?{kind:_languageKinds.FLOAT,value:u+".0"}:{kind:_languageKinds.INT,value:u}:{kind:_languageKinds.FLOAT,value:u}}if("string"==typeof n)return t instanceof _typeDefinition.GraphQLEnumType&&/^[_a-zA-Z][_a-zA-Z0-9]*$/.test(n)?{kind:_languageKinds.ENUM,value:n}:{kind:_languageKinds.STRING,value:JSON.stringify(n).slice(1,-1)};_jsutilsInvariant2.default("object"==typeof n);var l=[];return _Object$keys(n).forEach(function(e){var i;if(t instanceof _typeDefinition.GraphQLInputObjectType){var a=t.getFields()[e];i=a&&a.type}var r=astFromValue(n[e],i);r&&l.push({kind:_languageKinds.OBJECT_FIELD,name:{kind:_languageKinds.NAME,value:e},value:r})}),{kind:_languageKinds.OBJECT,fields:l}}e=n,i=t.ofType,a=!0}}}var _Object$keys=require("babel-runtime/core-js/object/keys").default,_interopRequireDefault=require("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.astFromValue=astFromValue;var _jsutilsInvariant=require("../jsutils/invariant"),_jsutilsInvariant2=_interopRequireDefault(_jsutilsInvariant),_jsutilsIsNullish=require("../jsutils/isNullish"),_jsutilsIsNullish2=_interopRequireDefault(_jsutilsIsNullish),_languageKinds=require("../language/kinds"),_typeDefinition=require("../type/definition"),_typeScalars=require("../type/scalars")},{"../jsutils/invariant":115,"../jsutils/isNullish":116,"../language/kinds":120,"../type/definition":130,"../type/scalars":134,"babel-runtime/core-js/object/keys":16,"babel-runtime/helpers/interop-require-default":23}],138:[function(require,module,exports){"use strict";function buildWrappedType(e,n){return n.kind===_languageKinds.LIST_TYPE?new _type.GraphQLList(buildWrappedType(e,n.type)):n.kind===_languageKinds.NON_NULL_TYPE?new _type.GraphQLNonNull(buildWrappedType(e,n.type)):e}function getInnerTypeName(e){for(var n=!0;n;){var u=e;if(n=!1,u.kind!==_languageKinds.LIST_TYPE&&u.kind!==_languageKinds.NON_NULL_TYPE)return u.name.value;e=u.type,n=!0}}function buildASTSchema(e,n,u){function t(){var e={String:_type.GraphQLString,Int:_type.GraphQLInt,Float:_type.GraphQLFloat,Boolean:_type.GraphQLBoolean,ID:_type.GraphQLID};return function(n){var u=getInnerTypeName(n);if(!_jsutilsIsNullish2.default(e[u]))return buildWrappedType(e[u],n);if(_jsutilsIsNullish2.default(c[u]))throw new Error("Type "+u+" not found in document");var t=r(c[u]);if(_jsutilsIsNullish2.default(t))throw new Error("Nothing constructed for "+u);return e[u]=t,buildWrappedType(t,n)}}function r(e){if(_jsutilsIsNullish2.default(e))throw new Error("def must be defined");switch(e.kind){case _languageSchemaKinds.TYPE_DEFINITION:return a(e);case _languageSchemaKinds.INTERFACE_DEFINITION:return p(e);case _languageSchemaKinds.ENUM_DEFINITION:return o(e);case _languageSchemaKinds.UNION_DEFINITION:return f(e);case _languageSchemaKinds.SCALAR_DEFINITION:return d(e);case _languageSchemaKinds.INPUT_OBJECT_DEFINITION:return _(e);default:throw new Error(e.kind+" not supported")}}function a(e){var n=e.name.value,u={name:n,fields:function(){return i(e)},interfaces:function(){return l(e)}};return new _type.GraphQLObjectType(u)}function i(e){return _jsutilsKeyValMap2.default(e.fields,function(e){return e.name.value},function(e){return{type:y(e.type),args:s(e.arguments)}})}function l(e){return e.interfaces.map(function(e){return y(e)})}function s(e){return _jsutilsKeyValMap2.default(e,function(e){return e.name.value},function(e){var n=y(e.type);return{type:n,defaultValue:_valueFromAST.valueFromAST(e.defaultValue,n)}})}function p(e){var n=e.name.value,u={name:n,resolveType:function(){return null},fields:function(){return i(e)}};return new _type.GraphQLInterfaceType(u)}function o(e){var n=new _type.GraphQLEnumType({name:e.name.value,values:_jsutilsKeyValMap2.default(e.values,function(e){return e.name.value},function(){return{}})});return n}function f(e){return new _type.GraphQLUnionType({name:e.name.value,resolveType:function(){return null},types:e.types.map(function(e){return y(e)})})}function d(e){return new _type.GraphQLScalarType({name:e.name.value,serialize:function(){return null},parseValue:function(){return!1},parseLiteral:function(){return!1}})}function _(e){return new _type.GraphQLInputObjectType({name:e.name.value,fields:function(){return s(e.fields)}})}if(_jsutilsIsNullish2.default(e))throw new Error("must pass in ast");if(_jsutilsIsNullish2.default(n))throw new Error("must pass in query type");var c=_jsutilsKeyMap2.default(e.definitions,function(e){return e.name.value});if(_jsutilsIsNullish2.default(c[n]))throw new Error("Specified query type "+n+" not found in document.");if(!_jsutilsIsNullish2.default(u)&&_jsutilsIsNullish2.default(c[u]))throw new Error("Specified mutation type "+u+" not found in document.");var y=t(e);e.definitions.forEach(y);var h,m=y(c[n]);return h=_jsutilsIsNullish2.default(u)?new _type.GraphQLSchema({query:m}):new _type.GraphQLSchema({query:m,mutation:y(c[u])})}var _interopRequireDefault=require("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.buildASTSchema=buildASTSchema;var _jsutilsIsNullish=require("../jsutils/isNullish"),_jsutilsIsNullish2=_interopRequireDefault(_jsutilsIsNullish),_jsutilsKeyMap=require("../jsutils/keyMap"),_jsutilsKeyMap2=_interopRequireDefault(_jsutilsKeyMap),_jsutilsKeyValMap=require("../jsutils/keyValMap"),_jsutilsKeyValMap2=_interopRequireDefault(_jsutilsKeyValMap),_valueFromAST=require("./valueFromAST"),_languageKinds=require("../language/kinds"),_languageSchemaKinds=require("../language/schema/kinds"),_type=(require("../language/schema/ast"),require("../type"))},{"../jsutils/isNullish":116,"../jsutils/keyMap":117,"../jsutils/keyValMap":118,"../language/kinds":120,"../language/schema/ast":126,"../language/schema/kinds":127,"../type":132,"./valueFromAST":146,"babel-runtime/helpers/interop-require-default":23}],139:[function(require,module,exports){"use strict";function buildClientSchema(e){function n(e){if(e.kind===_typeIntrospection.TypeKind.LIST){var r=e.ofType;if(!r)throw new Error("Decorated type deeper than introspection query.");return new _typeDefinition.GraphQLList(n(r))}if(e.kind===_typeIntrospection.TypeKind.NON_NULL){var i=e.ofType;if(!i)throw new Error("Decorated type deeper than introspection query.");return new _typeDefinition.GraphQLNonNull(n(i))}return t(e.name)}function t(e){if(v[e])return v[e];var n=h[e];if(!n)throw new Error("Invalid or incomplete schema, unknown type: "+e+". Ensure that a full introspection query is used in order to build a client schema.");var t=o(n);return v[e]=t,t}function r(e){var t=n(e);return _jsutilsInvariant2.default(_typeDefinition.isInputType(t),"Introspection must provide input type for arguments."),t}function i(e){var t=n(e);return _jsutilsInvariant2.default(_typeDefinition.isOutputType(t),"Introspection must provide output type for fields."),t}function a(e){var t=n(e);return _jsutilsInvariant2.default(t instanceof _typeDefinition.GraphQLObjectType,"Introspection must provide object type for possibleTypes."),t}function u(e){var t=n(e);return _jsutilsInvariant2.default(t instanceof _typeDefinition.GraphQLInterfaceType,"Introspection must provide interface type for interfaces."),t}function o(e){switch(e.kind){case _typeIntrospection.TypeKind.SCALAR:return p(e);case _typeIntrospection.TypeKind.OBJECT:return s(e);case _typeIntrospection.TypeKind.INTERFACE:return c(e);case _typeIntrospection.TypeKind.UNION:return l(e);case _typeIntrospection.TypeKind.ENUM:return f(e);case _typeIntrospection.TypeKind.INPUT_OBJECT:return y(e);default:throw new Error("Invalid or incomplete schema, unknown kind: "+e.kind+". Ensure that a full introspection query is used in order to build a client schema.")}}function p(e){return new _typeDefinition.GraphQLScalarType({name:e.name,description:e.description,serialize:function(){return null},parseValue:function(){return!1},parseLiteral:function(){return!1}})}function s(e){return new _typeDefinition.GraphQLObjectType({name:e.name,description:e.description,interfaces:e.interfaces.map(u),fields:function(){return d(e)}})}function c(e){return new _typeDefinition.GraphQLInterfaceType({name:e.name,description:e.description,fields:function(){return d(e)},resolveType:function(){throw new Error("Client Schema cannot be used for execution.")}})}function l(e){return new _typeDefinition.GraphQLUnionType({name:e.name,description:e.description,types:e.possibleTypes.map(a),resolveType:function(){throw new Error("Client Schema cannot be used for execution.")}})}function f(e){return new _typeDefinition.GraphQLEnumType({name:e.name,description:e.description,values:_jsutilsKeyValMap2.default(e.enumValues,function(e){return e.name},function(e){return{description:e.description}})})}function y(e){return new _typeDefinition.GraphQLInputObjectType({name:e.name,description:e.description,fields:function(){return _(e.inputFields)}})}function d(e){return _jsutilsKeyValMap2.default(e.fields,function(e){return e.name},function(e){return{description:e.description,type:i(e.type),args:_(e.args),resolve:function(){throw new Error("Client Schema cannot be used for execution.")}}})}function _(e){return _jsutilsKeyValMap2.default(e,function(e){return e.name},function(e){var n=e.description,t=r(e.type),i=e.defaultValue?_valueFromAST.valueFromAST(_languageParser.parseValue(e.defaultValue),t):null;return{description:n,type:t,defaultValue:i}})}var m=e.__schema,h=_jsutilsKeyMap2.default(m.types,function(e){return e.name}),v={String:_typeScalars.GraphQLString,Int:_typeScalars.GraphQLInt,Float:_typeScalars.GraphQLFloat,Boolean:_typeScalars.GraphQLBoolean,ID:_typeScalars.GraphQLID};m.types.forEach(function(e){return t(e.name)});var T=n(m.queryType),I=m.mutationType?n(m.mutationType):null,w=new _typeSchema.GraphQLSchema({query:T,mutation:I});return w}var _interopRequireDefault=require("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.buildClientSchema=buildClientSchema;var _jsutilsInvariant=require("../jsutils/invariant"),_jsutilsInvariant2=_interopRequireDefault(_jsutilsInvariant),_jsutilsKeyMap=require("../jsutils/keyMap"),_jsutilsKeyMap2=_interopRequireDefault(_jsutilsKeyMap),_jsutilsKeyValMap=require("../jsutils/keyValMap"),_jsutilsKeyValMap2=_interopRequireDefault(_jsutilsKeyValMap),_valueFromAST=require("./valueFromAST"),_languageParser=require("../language/parser"),_typeSchema=require("../type/schema"),_typeDefinition=require("../type/definition"),_typeScalars=require("../type/scalars"),_typeIntrospection=require("../type/introspection")},{"../jsutils/invariant":115,"../jsutils/keyMap":117,"../jsutils/keyValMap":118,"../language/parser":123,"../type/definition":130,"../type/introspection":133,"../type/scalars":134,"../type/schema":135,"./valueFromAST":146,"babel-runtime/helpers/interop-require-default":23}],140:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _introspectionQuery=require("./introspectionQuery");Object.defineProperty(exports,"introspectionQuery",{enumerable:!0,get:function(){return _introspectionQuery.introspectionQuery}});var _buildClientSchema=require("./buildClientSchema");Object.defineProperty(exports,"buildClientSchema",{enumerable:!0,get:function(){return _buildClientSchema.buildClientSchema}});var _buildASTSchema=require("./buildASTSchema");Object.defineProperty(exports,"buildASTSchema",{enumerable:!0,get:function(){return _buildASTSchema.buildASTSchema}});var _schemaPrinter=require("./schemaPrinter");Object.defineProperty(exports,"printSchema",{enumerable:!0,get:function(){return _schemaPrinter.printSchema}}),Object.defineProperty(exports,"printIntrospectionSchema",{enumerable:!0,get:function(){return _schemaPrinter.printIntrospectionSchema}});var _typeFromAST=require("./typeFromAST");Object.defineProperty(exports,"typeFromAST",{enumerable:!0,get:function(){return _typeFromAST.typeFromAST}});var _valueFromAST=require("./valueFromAST");Object.defineProperty(exports,"valueFromAST",{enumerable:!0,get:function(){return _valueFromAST.valueFromAST}});var _astFromValue=require("./astFromValue");Object.defineProperty(exports,"astFromValue",{enumerable:!0,get:function(){return _astFromValue.astFromValue}});var _TypeInfo=require("./TypeInfo");Object.defineProperty(exports,"TypeInfo",{enumerable:!0,get:function(){return _TypeInfo.TypeInfo}});var _isValidJSValue=require("./isValidJSValue");Object.defineProperty(exports,"isValidJSValue",{enumerable:!0,get:function(){return _isValidJSValue.isValidJSValue}});var _isValidLiteralValue=require("./isValidLiteralValue");Object.defineProperty(exports,"isValidLiteralValue",{enumerable:!0,get:function(){return _isValidLiteralValue.isValidLiteralValue}})},{"./TypeInfo":136,"./astFromValue":137,"./buildASTSchema":138,"./buildClientSchema":139,"./introspectionQuery":141,"./isValidJSValue":142,"./isValidLiteralValue":143,"./schemaPrinter":144,"./typeFromAST":145,"./valueFromAST":146}],141:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var introspectionQuery="\n  query IntrospectionQuery {\n    __schema {\n      queryType { name }\n      mutationType { name }\n      types {\n        ...FullType\n      }\n      directives {\n        name\n        description\n        args {\n          ...InputValue\n        }\n        onOperation\n        onFragment\n        onField\n      }\n    }\n  }\n\n  fragment FullType on __Type {\n    kind\n    name\n    description\n    fields {\n      name\n      description\n      args {\n        ...InputValue\n      }\n      type {\n        ...TypeRef\n      }\n      isDeprecated\n      deprecationReason\n    }\n    inputFields {\n      ...InputValue\n    }\n    interfaces {\n      ...TypeRef\n    }\n    enumValues {\n      name\n      description\n      isDeprecated\n      deprecationReason\n    }\n    possibleTypes {\n      ...TypeRef\n    }\n  }\n\n  fragment InputValue on __InputValue {\n    name\n    description\n    type { ...TypeRef }\n    defaultValue\n  }\n\n  fragment TypeRef on __Type {\n    kind\n    name\n    ofType {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n        }\n      }\n    }\n  }\n";exports.introspectionQuery=introspectionQuery},{}],142:[function(require,module,exports){"use strict";function isValidJSValue(e,i){for(var t=!0;t;){var r=e,u=i;if(s=l=n=void 0,t=!1,u instanceof _typeDefinition.GraphQLNonNull){if(_jsutilsIsNullish2.default(r))return!1;var s=u.ofType;e=r,i=s,t=!0}else{if(_jsutilsIsNullish2.default(r))return!0;if(!(u instanceof _typeDefinition.GraphQLList)){if(u instanceof _typeDefinition.GraphQLInputObjectType){if("object"!=typeof r)return!1;var n=u.getFields();return _Object$keys(r).some(function(e){return!n[e]})?!1:_Object$keys(n).every(function(e){return isValidJSValue(r[e],n[e].type)})}return _jsutilsInvariant2.default(u instanceof _typeDefinition.GraphQLScalarType||u instanceof _typeDefinition.GraphQLEnumType,"Must be input type"),
!_jsutilsIsNullish2.default(u.parseValue(r))}var l=u.ofType;if(Array.isArray(r))return r.every(function(e){return isValidJSValue(e,l)});e=r,i=l,t=!0}}}var _Object$keys=require("babel-runtime/core-js/object/keys").default,_interopRequireDefault=require("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.isValidJSValue=isValidJSValue;var _jsutilsInvariant=require("../jsutils/invariant"),_jsutilsInvariant2=_interopRequireDefault(_jsutilsInvariant),_jsutilsIsNullish=require("../jsutils/isNullish"),_jsutilsIsNullish2=_interopRequireDefault(_jsutilsIsNullish),_typeDefinition=require("../type/definition")},{"../jsutils/invariant":115,"../jsutils/isNullish":116,"../type/definition":130,"babel-runtime/core-js/object/keys":16,"babel-runtime/helpers/interop-require-default":23}],143:[function(require,module,exports){"use strict";function isValidLiteralValue(e,i){for(var t=!0;t;){var r=e,n=i;if(u=f=a=s=l=void 0,t=!1,r instanceof _typeDefinition.GraphQLNonNull){if(!n)return!1;var u=r.ofType;e=u,i=n,t=!0}else{if(!n)return!0;if(n.kind===_languageKinds.VARIABLE)return!0;if(!(r instanceof _typeDefinition.GraphQLList)){if(r instanceof _typeDefinition.GraphQLInputObjectType){if(n.kind!==_languageKinds.OBJECT)return!1;var a=r.getFields(),s=n.fields;if(s.some(function(e){return!a[e.name.value]}))return!1;var l=_jsutilsKeyMap2.default(s,function(e){return e.name.value});return _Object$keys(a).every(function(e){return isValidLiteralValue(a[e].type,l[e]&&l[e].value)})}return _jsutilsInvariant2.default(r instanceof _typeDefinition.GraphQLScalarType||r instanceof _typeDefinition.GraphQLEnumType,"Must be input type"),!_jsutilsIsNullish2.default(r.parseLiteral(n))}var f=r.ofType;if(n.kind===_languageKinds.LIST)return n.values.every(function(e){return isValidLiteralValue(f,e)});e=f,i=n,t=!0}}}var _Object$keys=require("babel-runtime/core-js/object/keys").default,_interopRequireDefault=require("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.isValidLiteralValue=isValidLiteralValue;var _languageKinds=require("../language/kinds"),_typeDefinition=require("../type/definition"),_jsutilsInvariant=require("../jsutils/invariant"),_jsutilsInvariant2=_interopRequireDefault(_jsutilsInvariant),_jsutilsKeyMap=require("../jsutils/keyMap"),_jsutilsKeyMap2=_interopRequireDefault(_jsutilsKeyMap),_jsutilsIsNullish=require("../jsutils/isNullish"),_jsutilsIsNullish2=_interopRequireDefault(_jsutilsIsNullish)},{"../jsutils/invariant":115,"../jsutils/isNullish":116,"../jsutils/keyMap":117,"../language/kinds":120,"../type/definition":130,"babel-runtime/core-js/object/keys":16,"babel-runtime/helpers/interop-require-default":23}],144:[function(require,module,exports){"use strict";function printSchema(n){return printFilteredSchema(n,isDefinedType)}function printIntrospectionSchema(n){return printFilteredSchema(n,isIntrospectionType)}function isDefinedType(n){return!isIntrospectionType(n)&&!isBuiltInScalar(n)}function isIntrospectionType(n){return 0===n.indexOf("__")}function isBuiltInScalar(n){return"String"===n||"Boolean"===n||"Int"===n||"Float"===n||"ID"===n}function printFilteredSchema(n,e){var t=n.getTypeMap(),i=_Object$keys(t).filter(e).sort(function(n,e){return n.localeCompare(e)}).map(function(n){return t[n]});return i.map(printType).join("\n\n")+"\n"}function printType(n){return n instanceof _typeDefinition.GraphQLScalarType?printScalar(n):n instanceof _typeDefinition.GraphQLObjectType?printObject(n):n instanceof _typeDefinition.GraphQLInterfaceType?printInterface(n):n instanceof _typeDefinition.GraphQLUnionType?printUnion(n):n instanceof _typeDefinition.GraphQLEnumType?printEnum(n):(_jsutilsInvariant2.default(n instanceof _typeDefinition.GraphQLInputObjectType),printInputObject(n))}function printScalar(n){return"scalar "+n.name}function printObject(n){var e=n.getInterfaces(),t=e.length?" implements "+e.map(function(n){return n.name}).join(", "):"";return"type "+n.name+t+" {\n"+printFields(n)+"\n}"}function printInterface(n){return"interface "+n.name+" {\n"+printFields(n)+"\n}"}function printUnion(n){return"union "+n.name+" = "+n.getPossibleTypes().join(" | ")}function printEnum(n){var e=n.getValues();return"enum "+n.name+" {\n"+e.map(function(n){return"  "+n.name}).join("\n")+"\n}"}function printInputObject(n){var e=n.getFields(),t=_Object$keys(e).map(function(n){return e[n]});return"input "+n.name+" {\n"+t.map(function(n){return"  "+printInputValue(n)}).join("\n")+"\n}"}function printFields(n){var e=n.getFields(),t=_Object$keys(e).map(function(n){return e[n]});return t.map(function(n){return"  "+n.name+printArgs(n)+": "+n.type}).join("\n")}function printArgs(n){return 0===n.args.length?"":"("+n.args.map(printInputValue).join(", ")+")"}function printInputValue(n){var e=n.name+": "+n.type;return _jsutilsIsNullish2.default(n.defaultValue)||(e+=" = "+_languagePrinter.print(_utilitiesAstFromValue.astFromValue(n.defaultValue,n.type))),e}var _Object$keys=require("babel-runtime/core-js/object/keys").default,_interopRequireDefault=require("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.printSchema=printSchema,exports.printIntrospectionSchema=printIntrospectionSchema;var _jsutilsInvariant=require("../jsutils/invariant"),_jsutilsInvariant2=_interopRequireDefault(_jsutilsInvariant),_jsutilsIsNullish=require("../jsutils/isNullish"),_jsutilsIsNullish2=_interopRequireDefault(_jsutilsIsNullish),_utilitiesAstFromValue=require("../utilities/astFromValue"),_languagePrinter=require("../language/printer"),_typeDefinition=require("../type/definition")},{"../jsutils/invariant":115,"../jsutils/isNullish":116,"../language/printer":125,"../type/definition":130,"../utilities/astFromValue":137,"babel-runtime/core-js/object/keys":16,"babel-runtime/helpers/interop-require-default":23}],145:[function(require,module,exports){"use strict";function typeFromAST(e,i){var t;return i.kind===_languageKinds.LIST_TYPE?(t=typeFromAST(e,i.type),t&&new _typeDefinition.GraphQLList(t)):i.kind===_languageKinds.NON_NULL_TYPE?(t=typeFromAST(e,i.type),t&&new _typeDefinition.GraphQLNonNull(t)):(_jsutilsInvariant2.default(i.kind===_languageKinds.NAMED_TYPE,"Must be a named type."),e.getType(i.name.value))}var _interopRequireDefault=require("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.typeFromAST=typeFromAST;var _jsutilsInvariant=require("../jsutils/invariant"),_jsutilsInvariant2=_interopRequireDefault(_jsutilsInvariant),_languageKinds=require("../language/kinds"),_typeDefinition=require("../type/definition")},{"../jsutils/invariant":115,"../language/kinds":120,"../type/definition":130,"babel-runtime/helpers/interop-require-default":23}],146:[function(require,module,exports){"use strict";function valueFromAST(e,i,r){for(var t=!0;t;){var u=e,n=i,a=r;if(l=s=f=o=p=d=void 0,t=!1,n instanceof _typeDefinition.GraphQLNonNull){var l=n.ofType;e=u,i=l,r=a,t=!0}else{if(!u)return null;if(u.kind===Kind.VARIABLE){var s=u.name.value;return a&&a.hasOwnProperty(s)?a[s]:null}if(n instanceof _typeDefinition.GraphQLList){var f=n.ofType;return u.kind===Kind.LIST?u.values.map(function(e){return valueFromAST(e,f,a)}):[valueFromAST(u,f,a)]}if(n instanceof _typeDefinition.GraphQLInputObjectType){var o=n.getFields();if(u.kind!==Kind.OBJECT)return null;var p=_jsutilsKeyMap2.default(u.fields,function(e){return e.name.value});return _Object$keys(o).reduce(function(e,i){var r=o[i],t=p[i],u=valueFromAST(t&&t.value,r.type,a);return _jsutilsIsNullish2.default(u)&&(u=r.defaultValue),_jsutilsIsNullish2.default(u)||(e[i]=u),e},{})}_jsutilsInvariant2.default(n instanceof _typeDefinition.GraphQLScalarType||n instanceof _typeDefinition.GraphQLEnumType,"Must be input type");var d=n.parseLiteral(u);if(!_jsutilsIsNullish2.default(d))return d}}}var _Object$keys=require("babel-runtime/core-js/object/keys").default,_interopRequireDefault=require("babel-runtime/helpers/interop-require-default").default,_interopRequireWildcard=require("babel-runtime/helpers/interop-require-wildcard").default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.valueFromAST=valueFromAST;var _jsutilsKeyMap=require("../jsutils/keyMap"),_jsutilsKeyMap2=_interopRequireDefault(_jsutilsKeyMap),_jsutilsInvariant=require("../jsutils/invariant"),_jsutilsInvariant2=_interopRequireDefault(_jsutilsInvariant),_jsutilsIsNullish=require("../jsutils/isNullish"),_jsutilsIsNullish2=_interopRequireDefault(_jsutilsIsNullish),_languageKinds=require("../language/kinds"),Kind=_interopRequireWildcard(_languageKinds),_typeDefinition=require("../type/definition")},{"../jsutils/invariant":115,"../jsutils/isNullish":116,"../jsutils/keyMap":117,"../language/kinds":120,"../type/definition":130,"babel-runtime/core-js/object/keys":16,"babel-runtime/helpers/interop-require-default":23,"babel-runtime/helpers/interop-require-wildcard":24}],147:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _validate=require("./validate");Object.defineProperty(exports,"validate",{enumerable:!0,get:function(){return _validate.validate}});var _specifiedRules=require("./specifiedRules");Object.defineProperty(exports,"specifiedRules",{enumerable:!0,get:function(){return _specifiedRules.specifiedRules}})},{"./specifiedRules":170,"./validate":171}],148:[function(require,module,exports){"use strict";function badValueMessage(e,r,t){return'Argument "'+e+'" expected type "'+r+'" but got: '+t+"."}function ArgumentsOfCorrectType(e){return{Argument:function(r){var t=e.getArgument();return t&&!_utilitiesIsValidLiteralValue.isValidLiteralValue(t.type,r.value)?new _error.GraphQLError(badValueMessage(r.name.value,t.type,_languagePrinter.print(r.value)),[r.value]):void 0}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.badValueMessage=badValueMessage,exports.ArgumentsOfCorrectType=ArgumentsOfCorrectType;var _error=require("../../error"),_languagePrinter=require("../../language/printer"),_utilitiesIsValidLiteralValue=require("../../utilities/isValidLiteralValue")},{"../../error":111,"../../language/printer":125,"../../utilities/isValidLiteralValue":143}],149:[function(require,module,exports){"use strict";function defaultForNonNullArgMessage(e,r,a){return'Variable "$'+e+'" of type "'+r+'" is required and will not '+('use the default value. Perhaps you meant to use type "'+a+'".')}function badValueForDefaultArgMessage(e,r,a){return'Variable "$'+e+'" of type "'+r+'" has invalid default '+("value: "+a+".")}function DefaultValuesOfCorrectType(e){return{VariableDefinition:function(r){var a=r.variable.name.value,t=r.defaultValue,l=e.getInputType();return l instanceof _typeDefinition.GraphQLNonNull&&t?new _error.GraphQLError(defaultForNonNullArgMessage(a,l,l.ofType),[t]):l&&t&&!_utilitiesIsValidLiteralValue.isValidLiteralValue(l,t)?new _error.GraphQLError(badValueForDefaultArgMessage(a,l,_languagePrinter.print(t)),[t]):void 0}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultForNonNullArgMessage=defaultForNonNullArgMessage,exports.badValueForDefaultArgMessage=badValueForDefaultArgMessage,exports.DefaultValuesOfCorrectType=DefaultValuesOfCorrectType;var _error=require("../../error"),_languagePrinter=require("../../language/printer"),_typeDefinition=require("../../type/definition"),_utilitiesIsValidLiteralValue=require("../../utilities/isValidLiteralValue")},{"../../error":111,"../../language/printer":125,"../../type/definition":130,"../../utilities/isValidLiteralValue":143}],150:[function(require,module,exports){"use strict";function undefinedFieldMessage(e,r){return'Cannot query field "'+e+'" on "'+r+'".'}function FieldsOnCorrectType(e){return{Field:function(r){var n=e.getParentType();if(n){var i=e.getFieldDef();if(!i)return new _error.GraphQLError(undefinedFieldMessage(r.name.value,n.name),[r])}}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.undefinedFieldMessage=undefinedFieldMessage,exports.FieldsOnCorrectType=FieldsOnCorrectType;var _error=require("../../error")},{"../../error":111}],151:[function(require,module,exports){"use strict";function inlineFragmentOnNonCompositeErrorMessage(e){return'Fragment cannot condition on non composite type "'+e+'".'}function fragmentOnNonCompositeErrorMessage(e,n){return'Fragment "'+e+'" cannot condition on non composite '+('type "'+n+'".')}function FragmentsOnCompositeTypes(e){return{InlineFragment:function(n){var r=e.getType();return r&&!_typeDefinition.isCompositeType(r)?new _error.GraphQLError(inlineFragmentOnNonCompositeErrorMessage(_languagePrinter.print(n.typeCondition)),[n.typeCondition]):void 0},FragmentDefinition:function(n){var r=e.getType();return r&&!_typeDefinition.isCompositeType(r)?new _error.GraphQLError(fragmentOnNonCompositeErrorMessage(n.name.value,_languagePrinter.print(n.typeCondition)),[n.typeCondition]):void 0}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.inlineFragmentOnNonCompositeErrorMessage=inlineFragmentOnNonCompositeErrorMessage,exports.fragmentOnNonCompositeErrorMessage=fragmentOnNonCompositeErrorMessage,exports.FragmentsOnCompositeTypes=FragmentsOnCompositeTypes;var _error=require("../../error"),_languagePrinter=require("../../language/printer"),_typeDefinition=require("../../type/definition")},{"../../error":111,"../../language/printer":125,"../../type/definition":130}],152:[function(require,module,exports){"use strict";function unknownArgMessage(e,n,r){return'Unknown argument "'+e+'" on field "'+n+'" of '+('type "'+r+'".')}function unknownDirectiveArgMessage(e,n){return'Unknown argument "'+e+'" on directive "@'+n+'".'}function KnownArgumentNames(e){return{Argument:function(n,r,i,t,u){var a=u[u.length-1];if("Field"===a.kind){var s=e.getFieldDef();if(s){var o=_jsutilsFind2.default(s.args,function(e){return e.name===n.name.value});if(!o){var l=e.getParentType();return _jsutilsInvariant2.default(l),new _error.GraphQLError(unknownArgMessage(n.name.value,s.name,l.name),[n])}}}else if("Directive"===a.kind){var g=e.getDirective();if(g){var f=_jsutilsFind2.default(g.args,function(e){return e.name===n.name.value});if(!f)return new _error.GraphQLError(unknownDirectiveArgMessage(n.name.value,g.name),[n])}}}}}var _interopRequireDefault=require("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.unknownArgMessage=unknownArgMessage,exports.unknownDirectiveArgMessage=unknownDirectiveArgMessage,exports.KnownArgumentNames=KnownArgumentNames;var _error=require("../../error"),_jsutilsFind=require("../../jsutils/find"),_jsutilsFind2=_interopRequireDefault(_jsutilsFind),_jsutilsInvariant=require("../../jsutils/invariant"),_jsutilsInvariant2=_interopRequireDefault(_jsutilsInvariant)},{"../../error":111,"../../jsutils/find":114,"../../jsutils/invariant":115,"babel-runtime/helpers/interop-require-default":23}],153:[function(require,module,exports){"use strict";function unknownDirectiveMessage(e){return'Unknown directive "'+e+'".'}function misplacedDirectiveMessage(e,r){return'Directive "'+e+'" may not be used on "'+r+'".'}function KnownDirectives(e){return{Directive:function(r,i,n,a,t){var s=_jsutilsFind2.default(e.getSchema().getDirectives(),function(e){return e.name===r.name.value});if(!s)return new _error.GraphQLError(unknownDirectiveMessage(r.name.value),[r]);var u=t[t.length-1];return u.kind!==_languageKinds.OPERATION_DEFINITION||s.onOperation?u.kind!==_languageKinds.FIELD||s.onField?u.kind!==_languageKinds.FRAGMENT_SPREAD&&u.kind!==_languageKinds.INLINE_FRAGMENT&&u.kind!==_languageKinds.FRAGMENT_DEFINITION||s.onFragment?void 0:new _error.GraphQLError(misplacedDirectiveMessage(r.name.value,"fragment"),[r]):new _error.GraphQLError(misplacedDirectiveMessage(r.name.value,"field"),[r]):new _error.GraphQLError(misplacedDirectiveMessage(r.name.value,"operation"),[r])}}}var _interopRequireDefault=require("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.unknownDirectiveMessage=unknownDirectiveMessage,exports.misplacedDirectiveMessage=misplacedDirectiveMessage,exports.KnownDirectives=KnownDirectives;var _error=require("../../error"),_jsutilsFind=require("../../jsutils/find"),_jsutilsFind2=_interopRequireDefault(_jsutilsFind),_languageKinds=require("../../language/kinds")},{"../../error":111,"../../jsutils/find":114,"../../language/kinds":120,"babel-runtime/helpers/interop-require-default":23}],154:[function(require,module,exports){"use strict";function unknownFragmentMessage(e){return'Unknown fragment "'+e+'".'}function KnownFragmentNames(e){return{FragmentSpread:function(n){var r=n.name.value,a=e.getFragment(r);return a?void 0:new _error.GraphQLError(unknownFragmentMessage(r),[n.name])}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.unknownFragmentMessage=unknownFragmentMessage,exports.KnownFragmentNames=KnownFragmentNames;var _error=require("../../error")},{"../../error":111}],155:[function(require,module,exports){"use strict";function unknownTypeMessage(e){return'Unknown type "'+e+'".'}function KnownTypeNames(e){return{NamedType:function(n){var r=n.name.value,o=e.getSchema().getType(r);return o?void 0:new _error.GraphQLError(unknownTypeMessage(r),[n])}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.unknownTypeMessage=unknownTypeMessage,exports.KnownTypeNames=KnownTypeNames;var _error=require("../../error")},{"../../error":111}],156:[function(require,module,exports){"use strict";function anonOperationNotAloneMessage(){return"This anonymous operation must be the only defined operation."}function LoneAnonymousOperation(){var n=0;return{Document:function(e){n=e.definitions.filter(function(n){return"OperationDefinition"===n.kind}).length},OperationDefinition:function(e){return!e.name&&n>1?new _error.GraphQLError(anonOperationNotAloneMessage(),[e]):void 0}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.anonOperationNotAloneMessage=anonOperationNotAloneMessage,exports.LoneAnonymousOperation=LoneAnonymousOperation;var _error=require("../../error")},{"../../error":111}],157:[function(require,module,exports){"use strict";function cycleErrorMessage(e,r){var n=r.length?" via "+r.join(", "):"";return'Cannot spread fragment "'+e+'" within itself'+n+"."}function NoFragmentCycles(e){var r=e.getDocument().definitions,n=r.reduce(function(e,r){return r.kind===_languageKinds.FRAGMENT_DEFINITION&&(e[r.name.value]=gatherSpreads(r)),e},{}),a=new _Set;return{FragmentDefinition:function(e){function r(e){for(var o=n[e],s=0;s<o.length;++s){var c=o[s];if(!a.has(c))if(c.name.value!==i)u.some(function(e){return e===c})||(u.push(c),r(c.name.value),u.pop());else{var g=u.concat(c);g.forEach(function(e){return a.add(e)}),t.push(new _error.GraphQLError(cycleErrorMessage(i,u.map(function(e){return e.name.value})),g))}}}var t=[],i=e.name.value,u=[];return r(i),t.length>0?t:void 0}}}function gatherSpreads(e){var r=[];return _languageVisitor.visit(e,{FragmentSpread:function(e){r.push(e)}}),r}var _Set=require("babel-runtime/core-js/set").default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.cycleErrorMessage=cycleErrorMessage,exports.NoFragmentCycles=NoFragmentCycles;var _error=require("../../error"),_languageKinds=require("../../language/kinds"),_languageVisitor=require("../../language/visitor")},{"../../error":111,"../../language/kinds":120,"../../language/visitor":129,"babel-runtime/core-js/set":18}],158:[function(require,module,exports){"use strict";function undefinedVarMessage(e){return'Variable "$'+e+'" is not defined.'}function undefinedVarByOpMessage(e,n){return'Variable "$'+e+'" is not defined by operation "'+n+'".'}function NoUndefinedVariables(){var e,n={},r={};return{visitSpreadFragments:!0,OperationDefinition:function(a){e=a,n={},r={}},VariableDefinition:function(e){r[e.variable.name.value]=!0},Variable:function(n,a,i,d,u){var s=n.name.value;if(r[s]!==!0){var o=u.some(function(e){return e.kind===_languageKinds.FRAGMENT_DEFINITION});return o&&e&&e.name?new _error.GraphQLError(undefinedVarByOpMessage(s,e.name.value),[n,e]):new _error.GraphQLError(undefinedVarMessage(s),[n])}},FragmentSpread:function(e){return n[e.name.value]===!0?!1:void(n[e.name.value]=!0)}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.undefinedVarMessage=undefinedVarMessage,exports.undefinedVarByOpMessage=undefinedVarByOpMessage,exports.NoUndefinedVariables=NoUndefinedVariables;var _error=require("../../error"),_languageKinds=require("../../language/kinds")},{"../../error":111,"../../language/kinds":120}],159:[function(require,module,exports){"use strict";function unusedFragMessage(e){return'Fragment "'+e+'" is never used.'}function NoUnusedFragments(){var e=[],r=[],n={},u={};return{OperationDefinition:function(){u={},r.push(u)},FragmentDefinition:function(r){e.push(r),u={},n[r.name.value]=u},FragmentSpread:function(e){u[e.name.value]=!0},Document:{leave:function(){var u={},a=function s(e){var r=_Object$keys(e);r.forEach(function(e){if(u[e]!==!0){u[e]=!0;var r=n[e];r&&s(r)}})};r.forEach(a);var t=e.filter(function(e){return u[e.name.value]!==!0}).map(function(e){return new _error.GraphQLError(unusedFragMessage(e.name.value),[e])});return t.length>0?t:void 0}}}}var _Object$keys=require("babel-runtime/core-js/object/keys").default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.unusedFragMessage=unusedFragMessage,exports.NoUnusedFragments=NoUnusedFragments;var _error=require("../../error")},{"../../error":111,"babel-runtime/core-js/object/keys":16}],160:[function(require,module,exports){"use strict";function unusedVariableMessage(e){return'Variable "$'+e+'" is never used.'}function NoUnusedVariables(){var e={},r=[],a={};return{visitSpreadFragments:!0,OperationDefinition:{enter:function(){e={},r=[],a={}},leave:function(){var e=r.filter(function(e){return a[e.variable.name.value]!==!0}).map(function(e){return new _error.GraphQLError(unusedVariableMessage(e.variable.name.value),[e])});return e.length>0?e:void 0}},VariableDefinition:function(e){return r.push(e),!1},Variable:function(e){a[e.name.value]=!0},FragmentSpread:function(r){return e[r.name.value]===!0?!1:void(e[r.name.value]=!0)}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.unusedVariableMessage=unusedVariableMessage,exports.NoUnusedVariables=NoUnusedVariables;var _error=require("../../error")},{"../../error":111}],161:[function(require,module,exports){"use strict";function fieldsConflictMessage(e,r){return'Fields "'+e+'" conflict because '+reasonMessage(r)+"."}function reasonMessage(e){return Array.isArray(e)?e.map(function(e){var r=_slicedToArray(e,2),t=r[0],n=r[1];return'subfields "'+t+'" conflict because '+reasonMessage(n)}).join(" and "):e}function OverlappingFieldsCanBeMerged(e){function r(e){var r=[];return _Object$keys(e).forEach(function(n){var i=e[n];if(i.length>1)for(var a=0;a<i.length;a++)for(var s=a;s<i.length;s++){var u=t(n,i[a],i[s]);u&&r.push(u)}}),r}function t(t,i,a){var s=_slicedToArray(i,2),u=s[0],l=s[1],c=_slicedToArray(a,2),o=c[0],d=c[1];if(u!==o&&!n.has(u,o)){n.add(u,o);var f=u.name.value,g=o.name.value;if(f!==g)return[[t,f+" and "+g+" are different fields"],[u,o]];var p=l&&l.type,v=d&&d.type;if(p&&v&&!sameType(p,v))return[[t,"they return differing types "+p+" and "+v],[u,o]];if(!sameArguments(u.arguments||[],o.arguments||[]))return[[t,"they have differing arguments"],[u,o]];if(!sameDirectives(u.directives||[],o.directives||[]))return[[t,"they have differing directives"],[u,o]];var _=u.selectionSet,m=o.selectionSet;if(_&&m){var y={},h=collectFieldASTsAndDefs(e,_typeDefinition.getNamedType(p),_,y);h=collectFieldASTsAndDefs(e,_typeDefinition.getNamedType(v),m,y,h);var A=r(h);if(A.length>0)return[[t,A.map(function(e){var r=_slicedToArray(e,1),t=r[0];return t})],A.reduce(function(e,r){var t=_slicedToArray(r,2),n=t[1];return e.concat(n)},[u,o])]}}}var n=new PairSet;return{SelectionSet:{leave:function(t){var n=collectFieldASTsAndDefs(e,e.getParentType(),t),i=r(n);return i.length?i.map(function(e){var r=_slicedToArray(e,2),t=_slicedToArray(r[0],2),n=t[0],i=t[1],a=r[1];return new _error.GraphQLError(fieldsConflictMessage(n,i),a)}):void 0}}}}function sameDirectives(e,r){return e.length!==r.length?!1:e.every(function(e){var t=_jsutilsFind2.default(r,function(r){return r.name.value===e.name.value});return t?sameArguments(e.arguments||[],t.arguments||[]):!1})}function sameArguments(e,r){return e.length!==r.length?!1:e.every(function(e){var t=_jsutilsFind2.default(r,function(r){return r.name.value===e.name.value});return t?sameValue(e.value,t.value):!1})}function sameValue(e,r){return!e&&!r||_languagePrinter.print(e)===_languagePrinter.print(r)}function sameType(e,r){return String(e)===String(r)}function collectFieldASTsAndDefs(e,r,t,n,i){for(var a=n||{},s=i||{},u=0;u<t.selections.length;u++){var l=t.selections[u];switch(l.kind){case _languageKinds.FIELD:var c,o=l.name.value;(r instanceof _typeDefinition.GraphQLObjectType||r instanceof _typeDefinition.GraphQLInterfaceType)&&(c=r.getFields()[o]);var d=l.alias?l.alias.value:o;s[d]||(s[d]=[]),s[d].push([l,c]);break;case _languageKinds.INLINE_FRAGMENT:s=collectFieldASTsAndDefs(e,_utilitiesTypeFromAST.typeFromAST(e.getSchema(),l.typeCondition),l.selectionSet,a,s);break;case _languageKinds.FRAGMENT_SPREAD:var f=l.name.value;if(a[f])continue;a[f]=!0;var g=e.getFragment(f);if(!g)continue;s=collectFieldASTsAndDefs(e,_utilitiesTypeFromAST.typeFromAST(e.getSchema(),g.typeCondition),g.selectionSet,a,s)}}return s}function _pairSetAdd(e,r,t){var n=e.get(r);n||(n=new _Set,e.set(r,n)),n.add(t)}var _createClass=require("babel-runtime/helpers/create-class").default,_classCallCheck=require("babel-runtime/helpers/class-call-check").default,_slicedToArray=require("babel-runtime/helpers/sliced-to-array").default,_Object$keys=require("babel-runtime/core-js/object/keys").default,_Map=require("babel-runtime/core-js/map").default,_Set=require("babel-runtime/core-js/set").default,_interopRequireDefault=require("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.fieldsConflictMessage=fieldsConflictMessage,exports.OverlappingFieldsCanBeMerged=OverlappingFieldsCanBeMerged;var _error=require("../../error"),_jsutilsFind=require("../../jsutils/find"),_jsutilsFind2=_interopRequireDefault(_jsutilsFind),_languageKinds=require("../../language/kinds"),_languagePrinter=require("../../language/printer"),_typeDefinition=require("../../type/definition"),_utilitiesTypeFromAST=require("../../utilities/typeFromAST"),PairSet=function(){function e(){_classCallCheck(this,e),this._data=new _Map}return _createClass(e,[{key:"has",value:function(e,r){var t=this._data.get(e);return t&&t.has(r)}},{key:"add",value:function(e,r){_pairSetAdd(this._data,e,r),_pairSetAdd(this._data,r,e)}}]),e}()},{"../../error":111,"../../jsutils/find":114,"../../language/kinds":120,"../../language/printer":125,"../../type/definition":130,"../../utilities/typeFromAST":145,"babel-runtime/core-js/map":12,"babel-runtime/core-js/object/keys":16,"babel-runtime/core-js/set":18,"babel-runtime/helpers/class-call-check":19,"babel-runtime/helpers/create-class":20,"babel-runtime/helpers/interop-require-default":23,"babel-runtime/helpers/sliced-to-array":25}],162:[function(require,module,exports){"use strict";function typeIncompatibleSpreadMessage(e,t,r){return'Fragment "'+e+'" cannot be spread here as objects of '+('type "'+t+'" can never be of type "'+r+'".')}function typeIncompatibleAnonSpreadMessage(e,t){return"Fragment cannot be spread here as objects of "+('type "'+e+'" can never be of type "'+t+'".')}function PossibleFragmentSpreads(e){return{InlineFragment:function(t){var r=e.getType(),n=e.getParentType();return r&&n&&!doTypesOverlap(r,n)?new _error.GraphQLError(typeIncompatibleAnonSpreadMessage(n,r),[t]):void 0},FragmentSpread:function(t){var r=t.name.value,n=getFragmentType(e,r),i=e.getParentType();return n&&i&&!doTypesOverlap(n,i)?new _error.GraphQLError(typeIncompatibleSpreadMessage(r,i,n),[t]):void 0}}}function getFragmentType(e,t){var r=e.getFragment(t);return r&&_utilitiesTypeFromAST.typeFromAST(e.getSchema(),r.typeCondition)}function doTypesOverlap(e,t){if(e===t)return!0;if(e instanceof _typeDefinition.GraphQLObjectType)return t instanceof _typeDefinition.GraphQLObjectType?!1:-1!==t.getPossibleTypes().indexOf(e);if(e instanceof _typeDefinition.GraphQLInterfaceType||e instanceof _typeDefinition.GraphQLUnionType){if(t instanceof _typeDefinition.GraphQLObjectType)return-1!==e.getPossibleTypes().indexOf(t);var r=_jsutilsKeyMap2.default(e.getPossibleTypes(),function(e){return e.name});return t.getPossibleTypes().some(function(e){return r[e.name]})}}var _interopRequireDefault=require("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.typeIncompatibleSpreadMessage=typeIncompatibleSpreadMessage,exports.typeIncompatibleAnonSpreadMessage=typeIncompatibleAnonSpreadMessage,exports.PossibleFragmentSpreads=PossibleFragmentSpreads;var _error=require("../../error"),_jsutilsKeyMap=require("../../jsutils/keyMap"),_jsutilsKeyMap2=_interopRequireDefault(_jsutilsKeyMap),_typeDefinition=require("../../type/definition"),_utilitiesTypeFromAST=require("../../utilities/typeFromAST")},{"../../error":111,"../../jsutils/keyMap":117,"../../type/definition":130,"../../utilities/typeFromAST":145,"babel-runtime/helpers/interop-require-default":23}],163:[function(require,module,exports){"use strict";function missingFieldArgMessage(e,r,i){return'Field "'+e+'" argument "'+r+'" of type "'+i+'" is required but not provided.'}function missingDirectiveArgMessage(e,r,i){return'Directive "@'+e+'" argument "'+r+'" of type '+('"'+i+'" is required but not provided.')}function ProvidedNonNullArguments(e){return{Field:{leave:function(r){var i=e.getFieldDef();if(!i)return!1;var t=[],n=r.arguments||[],s=_jsutilsKeyMap2.default(n,function(e){return e.name.value});return i.args.forEach(function(e){var i=s[e.name];!i&&e.type instanceof _typeDefinition.GraphQLNonNull&&t.push(new _error.GraphQLError(missingFieldArgMessage(r.name.value,e.name,e.type),[r]))}),t.length>0?t:void 0}},Directive:{leave:function(r){var i=e.getDirective();if(!i)return!1;var t=[],n=r.arguments||[],s=_jsutilsKeyMap2.default(n,function(e){return e.name.value});return i.args.forEach(function(e){var i=s[e.name];!i&&e.type instanceof _typeDefinition.GraphQLNonNull&&t.push(new _error.GraphQLError(missingDirectiveArgMessage(r.name.value,e.name,e.type),[r]))}),t.length>0?t:void 0}}}}var _interopRequireDefault=require("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.missingFieldArgMessage=missingFieldArgMessage,exports.missingDirectiveArgMessage=missingDirectiveArgMessage,exports.ProvidedNonNullArguments=ProvidedNonNullArguments;var _error=require("../../error"),_jsutilsKeyMap=require("../../jsutils/keyMap"),_jsutilsKeyMap2=_interopRequireDefault(_jsutilsKeyMap),_typeDefinition=require("../../type/definition")},{"../../error":111,"../../jsutils/keyMap":117,"../../type/definition":130,"babel-runtime/helpers/interop-require-default":23}],164:[function(require,module,exports){"use strict";function noSubselectionAllowedMessage(e,r){return'Field "'+e+'" of type "'+r+'" must not have a sub selection.'}function requiredSubselectionMessage(e,r){return'Field "'+e+'" of type "'+r+'" must have a sub selection.'}function ScalarLeafs(e){return{Field:function(r){var s=e.getType();if(s)if(_typeDefinition.isLeafType(s)){if(r.selectionSet)return new _error.GraphQLError(noSubselectionAllowedMessage(r.name.value,s),[r.selectionSet])}else if(!r.selectionSet)return new _error.GraphQLError(requiredSubselectionMessage(r.name.value,s),[r])}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.noSubselectionAllowedMessage=noSubselectionAllowedMessage,
exports.requiredSubselectionMessage=requiredSubselectionMessage,exports.ScalarLeafs=ScalarLeafs;var _error=require("../../error"),_typeDefinition=require("../../type/definition")},{"../../error":111,"../../type/definition":130}],165:[function(require,module,exports){"use strict";function duplicateArgMessage(e){return'There can be only one argument named "'+e+'".'}function UniqueArgumentNames(){var e=_Object$create(null);return{Field:function(){e=_Object$create(null)},Directive:function(){e=_Object$create(null)},Argument:function(r){var t=r.name.value;return e[t]?new _error.GraphQLError(duplicateArgMessage(t),[e[t],r.name]):void(e[t]=r.name)}}}var _Object$create=require("babel-runtime/core-js/object/create").default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.duplicateArgMessage=duplicateArgMessage,exports.UniqueArgumentNames=UniqueArgumentNames;var _error=require("../../error")},{"../../error":111,"babel-runtime/core-js/object/create":13}],166:[function(require,module,exports){"use strict";function duplicateFragmentNameMessage(e){return'There can only be one fragment named "'+e+'".'}function UniqueFragmentNames(){var e=_Object$create(null);return{FragmentDefinition:function(r){var a=r.name.value;return e[a]?new _error.GraphQLError(duplicateFragmentNameMessage(a),[e[a],r.name]):void(e[a]=r.name)}}}var _Object$create=require("babel-runtime/core-js/object/create").default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.duplicateFragmentNameMessage=duplicateFragmentNameMessage,exports.UniqueFragmentNames=UniqueFragmentNames;var _error=require("../../error")},{"../../error":111,"babel-runtime/core-js/object/create":13}],167:[function(require,module,exports){"use strict";function duplicateOperationNameMessage(e){return'There can only be one operation named "'+e+'".'}function UniqueOperationNames(){var e=_Object$create(null);return{OperationDefinition:function(r){var a=r.name;if(a){if(e[a.value])return new _error.GraphQLError(duplicateOperationNameMessage(a.value),[e[a.value],a]);e[a.value]=a}}}}var _Object$create=require("babel-runtime/core-js/object/create").default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.duplicateOperationNameMessage=duplicateOperationNameMessage,exports.UniqueOperationNames=UniqueOperationNames;var _error=require("../../error")},{"../../error":111,"babel-runtime/core-js/object/create":13}],168:[function(require,module,exports){"use strict";function nonInputTypeOnVarMessage(e,r){return'Variable "$'+e+'" cannot be non-input type "'+r+'".'}function VariablesAreInputTypes(e){return{VariableDefinition:function(r){var n=_utilitiesTypeFromAST.typeFromAST(e.getSchema(),r.type);if(n&&!_typeDefinition.isInputType(n)){var t=r.variable.name.value;return new _error.GraphQLError(nonInputTypeOnVarMessage(t,_languagePrinter.print(r.type)),[r.type])}}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.nonInputTypeOnVarMessage=nonInputTypeOnVarMessage,exports.VariablesAreInputTypes=VariablesAreInputTypes;var _error=require("../../error"),_languagePrinter=require("../../language/printer"),_typeDefinition=require("../../type/definition"),_utilitiesTypeFromAST=require("../../utilities/typeFromAST")},{"../../error":111,"../../language/printer":125,"../../type/definition":130,"../../utilities/typeFromAST":145}],169:[function(require,module,exports){"use strict";function badVarPosMessage(e,i,n){return'Variable "$'+e+'" of type "'+i+'" used in position '+('expecting type "'+n+'".')}function VariablesInAllowedPosition(e){var i={},n={};return{visitSpreadFragments:!0,OperationDefinition:function(){i={},n={}},VariableDefinition:function(e){i[e.variable.name.value]=e},FragmentSpread:function(e){return n[e.name.value]?!1:void(n[e.name.value]=!0)},Variable:function(n){var t=n.name.value,r=i[t],o=r&&_utilitiesTypeFromAST.typeFromAST(e.getSchema(),r.type),a=e.getInputType();return o&&a&&!varTypeAllowedForType(effectiveType(o,r),a)?new _error.GraphQLError(badVarPosMessage(t,o,a),[n]):void 0}}}function effectiveType(e,i){return!i.defaultValue||e instanceof _typeDefinition.GraphQLNonNull?e:new _typeDefinition.GraphQLNonNull(e)}function varTypeAllowedForType(e,i){var n=!0;e:for(;n;){var t=e,r=i;if(n=!1,r instanceof _typeDefinition.GraphQLNonNull){if(t instanceof _typeDefinition.GraphQLNonNull){e=t.ofType,i=r.ofType,n=!0;continue e}return!1}if(t instanceof _typeDefinition.GraphQLNonNull)e=t.ofType,i=r,n=!0;else{if(!(t instanceof _typeDefinition.GraphQLList&&r instanceof _typeDefinition.GraphQLList))return t===r;e=t.ofType,i=r.ofType,n=!0}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.badVarPosMessage=badVarPosMessage,exports.VariablesInAllowedPosition=VariablesInAllowedPosition;var _error=require("../../error"),_typeDefinition=require("../../type/definition"),_utilitiesTypeFromAST=require("../../utilities/typeFromAST")},{"../../error":111,"../../type/definition":130,"../../utilities/typeFromAST":145}],170:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _rulesUniqueOperationNames=require("./rules/UniqueOperationNames"),_rulesLoneAnonymousOperation=require("./rules/LoneAnonymousOperation"),_rulesKnownTypeNames=require("./rules/KnownTypeNames"),_rulesFragmentsOnCompositeTypes=require("./rules/FragmentsOnCompositeTypes"),_rulesVariablesAreInputTypes=require("./rules/VariablesAreInputTypes"),_rulesScalarLeafs=require("./rules/ScalarLeafs"),_rulesFieldsOnCorrectType=require("./rules/FieldsOnCorrectType"),_rulesUniqueFragmentNames=require("./rules/UniqueFragmentNames"),_rulesKnownFragmentNames=require("./rules/KnownFragmentNames"),_rulesNoUnusedFragments=require("./rules/NoUnusedFragments"),_rulesPossibleFragmentSpreads=require("./rules/PossibleFragmentSpreads"),_rulesNoFragmentCycles=require("./rules/NoFragmentCycles"),_rulesNoUndefinedVariables=require("./rules/NoUndefinedVariables"),_rulesNoUnusedVariables=require("./rules/NoUnusedVariables"),_rulesKnownDirectives=require("./rules/KnownDirectives"),_rulesKnownArgumentNames=require("./rules/KnownArgumentNames"),_rulesUniqueArgumentNames=require("./rules/UniqueArgumentNames"),_rulesArgumentsOfCorrectType=require("./rules/ArgumentsOfCorrectType"),_rulesProvidedNonNullArguments=require("./rules/ProvidedNonNullArguments"),_rulesDefaultValuesOfCorrectType=require("./rules/DefaultValuesOfCorrectType"),_rulesVariablesInAllowedPosition=require("./rules/VariablesInAllowedPosition"),_rulesOverlappingFieldsCanBeMerged=require("./rules/OverlappingFieldsCanBeMerged"),specifiedRules=[_rulesUniqueOperationNames.UniqueOperationNames,_rulesLoneAnonymousOperation.LoneAnonymousOperation,_rulesKnownTypeNames.KnownTypeNames,_rulesFragmentsOnCompositeTypes.FragmentsOnCompositeTypes,_rulesVariablesAreInputTypes.VariablesAreInputTypes,_rulesScalarLeafs.ScalarLeafs,_rulesFieldsOnCorrectType.FieldsOnCorrectType,_rulesUniqueFragmentNames.UniqueFragmentNames,_rulesKnownFragmentNames.KnownFragmentNames,_rulesNoUnusedFragments.NoUnusedFragments,_rulesPossibleFragmentSpreads.PossibleFragmentSpreads,_rulesNoFragmentCycles.NoFragmentCycles,_rulesNoUndefinedVariables.NoUndefinedVariables,_rulesNoUnusedVariables.NoUnusedVariables,_rulesKnownDirectives.KnownDirectives,_rulesKnownArgumentNames.KnownArgumentNames,_rulesUniqueArgumentNames.UniqueArgumentNames,_rulesArgumentsOfCorrectType.ArgumentsOfCorrectType,_rulesProvidedNonNullArguments.ProvidedNonNullArguments,_rulesDefaultValuesOfCorrectType.DefaultValuesOfCorrectType,_rulesVariablesInAllowedPosition.VariablesInAllowedPosition,_rulesOverlappingFieldsCanBeMerged.OverlappingFieldsCanBeMerged];exports.specifiedRules=specifiedRules},{"./rules/ArgumentsOfCorrectType":148,"./rules/DefaultValuesOfCorrectType":149,"./rules/FieldsOnCorrectType":150,"./rules/FragmentsOnCompositeTypes":151,"./rules/KnownArgumentNames":152,"./rules/KnownDirectives":153,"./rules/KnownFragmentNames":154,"./rules/KnownTypeNames":155,"./rules/LoneAnonymousOperation":156,"./rules/NoFragmentCycles":157,"./rules/NoUndefinedVariables":158,"./rules/NoUnusedFragments":159,"./rules/NoUnusedVariables":160,"./rules/OverlappingFieldsCanBeMerged":161,"./rules/PossibleFragmentSpreads":162,"./rules/ProvidedNonNullArguments":163,"./rules/ScalarLeafs":164,"./rules/UniqueArgumentNames":165,"./rules/UniqueFragmentNames":166,"./rules/UniqueOperationNames":167,"./rules/VariablesAreInputTypes":168,"./rules/VariablesInAllowedPosition":169}],171:[function(require,module,exports){"use strict";function validate(e,t,r){return _jsutilsInvariant2.default(e,"Must provide schema"),_jsutilsInvariant2.default(t,"Must provide document"),_jsutilsInvariant2.default(e instanceof _typeSchema.GraphQLSchema,"Schema must be an instance of GraphQLSchema. Also ensure that there are not multiple versions of GraphQL installed in your node_modules directory."),visitUsingRules(e,t,r||_specifiedRules.specifiedRules)}function visitUsingRules(e,t,r){function i(e,t){_languageVisitor.visit(e,{enter:function r(e,s){n.enter(e);var l;if(e.kind===Kind.FRAGMENT_DEFINITION&&void 0!==s&&t.visitSpreadFragments)return!1;var r=_languageVisitor.getVisitFn(t,!1,e.kind);if(l=r?r.apply(t,arguments):void 0,l&&isError(l)&&(append(u,l),l=!1),void 0===l&&t.visitSpreadFragments&&e.kind===Kind.FRAGMENT_SPREAD){var o=a.getFragment(e.name.value);o&&i(o,t)}return l===!1&&n.leave(e),l},leave:function s(e){var s=_languageVisitor.getVisitFn(t,!0,e.kind),r=s?s.apply(t,arguments):void 0;return r&&isError(r)&&(append(u,r),r=!1),n.leave(e),r}})}var n=new _utilitiesTypeInfo.TypeInfo(e),a=new ValidationContext(e,t,n),u=[],s=r.map(function(e){return e(a)});return s.forEach(function(e){i(t,e)}),u}function isError(e){return Array.isArray(e)?e.every(function(e){return e instanceof _error.GraphQLError}):e instanceof _error.GraphQLError}function append(e,t){Array.isArray(t)?e.push.apply(e,t):e.push(t)}var _createClass=require("babel-runtime/helpers/create-class").default,_classCallCheck=require("babel-runtime/helpers/class-call-check").default,_interopRequireDefault=require("babel-runtime/helpers/interop-require-default").default,_interopRequireWildcard=require("babel-runtime/helpers/interop-require-wildcard").default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.validate=validate;var _jsutilsInvariant=require("../jsutils/invariant"),_jsutilsInvariant2=_interopRequireDefault(_jsutilsInvariant),_error=require("../error"),_languageVisitor=require("../language/visitor"),_languageKinds=require("../language/kinds"),Kind=_interopRequireWildcard(_languageKinds),_typeSchema=require("../type/schema"),_utilitiesTypeInfo=require("../utilities/TypeInfo"),_specifiedRules=require("./specifiedRules"),ValidationContext=function(){function e(t,r,i){_classCallCheck(this,e),this._schema=t,this._ast=r,this._typeInfo=i}return _createClass(e,[{key:"getSchema",value:function(){return this._schema}},{key:"getDocument",value:function(){return this._ast}},{key:"getFragment",value:function(e){var t=this._fragments;return t||(this._fragments=t=this.getDocument().definitions.reduce(function(e,t){return t.kind===Kind.FRAGMENT_DEFINITION&&(e[t.name.value]=t),e},{})),t[e]}},{key:"getType",value:function(){return this._typeInfo.getType()}},{key:"getParentType",value:function(){return this._typeInfo.getParentType()}},{key:"getInputType",value:function(){return this._typeInfo.getInputType()}},{key:"getFieldDef",value:function(){return this._typeInfo.getFieldDef()}},{key:"getDirective",value:function(){return this._typeInfo.getDirective()}},{key:"getArgument",value:function(){return this._typeInfo.getArgument()}}]),e}();exports.ValidationContext=ValidationContext},{"../error":111,"../jsutils/invariant":115,"../language/kinds":120,"../language/visitor":129,"../type/schema":135,"../utilities/TypeInfo":136,"./specifiedRules":170,"babel-runtime/helpers/class-call-check":19,"babel-runtime/helpers/create-class":20,"babel-runtime/helpers/interop-require-default":23,"babel-runtime/helpers/interop-require-wildcard":24}],172:[function(require,module,exports){(function(global){(function(){function e(e){this.tokens=[],this.tokens.links={},this.options=e||a.defaults,this.rules=p.normal,this.options.gfm&&(this.options.tables?this.rules=p.tables:this.rules=p.gfm)}function t(e,t){if(this.options=t||a.defaults,this.links=e,this.rules=u.normal,this.renderer=this.options.renderer||new n,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=u.breaks:this.rules=u.gfm:this.options.pedantic&&(this.rules=u.pedantic)}function n(e){this.options=e||{}}function r(e){this.tokens=[],this.token=null,this.options=e||a.defaults,this.options.renderer=this.options.renderer||new n,this.renderer=this.options.renderer,this.renderer.options=this.options}function s(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function i(e){return e.replace(/&([#\w]+);/g,function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function l(e,t){return e=e.source,t=t||"",function n(r,s){return r?(s=s.source||s,s=s.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(r,s),n):new RegExp(e,t)}}function o(){}function h(e){for(var t,n,r=1;r<arguments.length;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}function a(t,n,i){if(i||"function"==typeof n){i||(i=n,n=null),n=h({},a.defaults,n||{});var l,o,p=n.highlight,u=0;try{l=e.lex(t,n)}catch(c){return i(c)}o=l.length;var g=function(e){if(e)return n.highlight=p,i(e);var t;try{t=r.parse(l,n)}catch(s){e=s}return n.highlight=p,e?i(e):i(null,t)};if(!p||p.length<3)return g();if(delete n.highlight,!o)return g();for(;u<l.length;u++)!function(e){return"code"!==e.type?--o||g():p(e.text,e.lang,function(t,n){return t?g(t):null==n||n===e.text?--o||g():(e.text=n,e.escaped=!0,void(--o||g()))})}(l[u])}else try{return n&&(n=h({},a.defaults,n)),r.parse(e.lex(t,n),n)}catch(c){if(c.message+="\nPlease report this to https://github.com/chjj/marked.",(n||a.defaults).silent)return"<p>An error occured:</p><pre>"+s(c.message+"",!0)+"</pre>";throw c}}var p={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:o,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:o,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:o,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};p.bullet=/(?:[*+-]|\d+\.)/,p.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,p.item=l(p.item,"gm")(/bull/g,p.bullet)(),p.list=l(p.list)(/bull/g,p.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+p.def.source+")")(),p.blockquote=l(p.blockquote)("def",p.def)(),p._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",p.html=l(p.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,p._tag)(),p.paragraph=l(p.paragraph)("hr",p.hr)("heading",p.heading)("lheading",p.lheading)("blockquote",p.blockquote)("tag","<"+p._tag)("def",p.def)(),p.normal=h({},p),p.gfm=h({},p.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),p.gfm.paragraph=l(p.paragraph)("(?!","(?!"+p.gfm.fences.source.replace("\\1","\\2")+"|"+p.list.source.replace("\\1","\\3")+"|")(),p.tables=h({},p.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),e.rules=p,e.lex=function(t,n){var r=new e(n);return r.lex(t)},e.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},e.prototype.token=function(e,t,n){for(var r,s,i,l,o,h,a,u,c,e=e.replace(/^ +$/gm,"");e;)if((i=this.rules.newline.exec(e))&&(e=e.substring(i[0].length),i[0].length>1&&this.tokens.push({type:"space"})),i=this.rules.code.exec(e))e=e.substring(i[0].length),i=i[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?i:i.replace(/\n+$/,"")});else if(i=this.rules.fences.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"code",lang:i[2],text:i[3]||""});else if(i=this.rules.heading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:i[1].length,text:i[2]});else if(t&&(i=this.rules.nptable.exec(e))){for(e=e.substring(i[0].length),h={type:"table",header:i[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3].replace(/\n$/,"").split("\n")},u=0;u<h.align.length;u++)/^ *-+: *$/.test(h.align[u])?h.align[u]="right":/^ *:-+: *$/.test(h.align[u])?h.align[u]="center":/^ *:-+ *$/.test(h.align[u])?h.align[u]="left":h.align[u]=null;for(u=0;u<h.cells.length;u++)h.cells[u]=h.cells[u].split(/ *\| */);this.tokens.push(h)}else if(i=this.rules.lheading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:"="===i[2]?1:2,text:i[1]});else if(i=this.rules.hr.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"hr"});else if(i=this.rules.blockquote.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"blockquote_start"}),i=i[0].replace(/^ *> ?/gm,""),this.token(i,t,!0),this.tokens.push({type:"blockquote_end"});else if(i=this.rules.list.exec(e)){for(e=e.substring(i[0].length),l=i[2],this.tokens.push({type:"list_start",ordered:l.length>1}),i=i[0].match(this.rules.item),r=!1,c=i.length,u=0;c>u;u++)h=i[u],a=h.length,h=h.replace(/^ *([*+-]|\d+\.) +/,""),~h.indexOf("\n ")&&(a-=h.length,h=this.options.pedantic?h.replace(/^ {1,4}/gm,""):h.replace(new RegExp("^ {1,"+a+"}","gm"),"")),this.options.smartLists&&u!==c-1&&(o=p.bullet.exec(i[u+1])[0],l===o||l.length>1&&o.length>1||(e=i.slice(u+1).join("\n")+e,u=c-1)),s=r||/\n\n(?!\s*$)/.test(h),u!==c-1&&(r="\n"===h.charAt(h.length-1),s||(s=r)),this.tokens.push({type:s?"loose_item_start":"list_item_start"}),this.token(h,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(i=this.rules.html.exec(e))e=e.substring(i[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===i[1]||"script"===i[1]||"style"===i[1]),text:i[0]});else if(!n&&t&&(i=this.rules.def.exec(e)))e=e.substring(i[0].length),this.tokens.links[i[1].toLowerCase()]={href:i[2],title:i[3]};else if(t&&(i=this.rules.table.exec(e))){for(e=e.substring(i[0].length),h={type:"table",header:i[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3].replace(/(?: *\| *)?\n$/,"").split("\n")},u=0;u<h.align.length;u++)/^ *-+: *$/.test(h.align[u])?h.align[u]="right":/^ *:-+: *$/.test(h.align[u])?h.align[u]="center":/^ *:-+ *$/.test(h.align[u])?h.align[u]="left":h.align[u]=null;for(u=0;u<h.cells.length;u++)h.cells[u]=h.cells[u].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(h)}else if(t&&(i=this.rules.paragraph.exec(e)))e=e.substring(i[0].length),this.tokens.push({type:"paragraph",text:"\n"===i[1].charAt(i[1].length-1)?i[1].slice(0,-1):i[1]});else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"text",text:i[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var u={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:o,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:o,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};u._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,u._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,u.link=l(u.link)("inside",u._inside)("href",u._href)(),u.reflink=l(u.reflink)("inside",u._inside)(),u.normal=h({},u),u.pedantic=h({},u.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),u.gfm=h({},u.normal,{escape:l(u.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:l(u.text)("]|","~]|")("|","|https?://|")()}),u.breaks=h({},u.gfm,{br:l(u.br)("{2,}","*")(),text:l(u.gfm.text)("{2,}","*")()}),t.rules=u,t.output=function(e,n,r){var s=new t(n,r);return s.output(e)},t.prototype.output=function(e){for(var t,n,r,i,l="";e;)if(i=this.rules.escape.exec(e))e=e.substring(i[0].length),l+=i[1];else if(i=this.rules.autolink.exec(e))e=e.substring(i[0].length),"@"===i[2]?(n=":"===i[1].charAt(6)?this.mangle(i[1].substring(7)):this.mangle(i[1]),r=this.mangle("mailto:")+n):(n=s(i[1]),r=n),l+=this.renderer.link(r,null,n);else if(this.inLink||!(i=this.rules.url.exec(e))){if(i=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(i[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(i[0])&&(this.inLink=!1),e=e.substring(i[0].length),l+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):s(i[0]):i[0];else if(i=this.rules.link.exec(e))e=e.substring(i[0].length),this.inLink=!0,l+=this.outputLink(i,{href:i[2],title:i[3]}),this.inLink=!1;else if((i=this.rules.reflink.exec(e))||(i=this.rules.nolink.exec(e))){if(e=e.substring(i[0].length),t=(i[2]||i[1]).replace(/\s+/g," "),t=this.links[t.toLowerCase()],!t||!t.href){l+=i[0].charAt(0),e=i[0].substring(1)+e;continue}this.inLink=!0,l+=this.outputLink(i,t),this.inLink=!1}else if(i=this.rules.strong.exec(e))e=e.substring(i[0].length),l+=this.renderer.strong(this.output(i[2]||i[1]));else if(i=this.rules.em.exec(e))e=e.substring(i[0].length),l+=this.renderer.em(this.output(i[2]||i[1]));else if(i=this.rules.code.exec(e))e=e.substring(i[0].length),l+=this.renderer.codespan(s(i[2],!0));else if(i=this.rules.br.exec(e))e=e.substring(i[0].length),l+=this.renderer.br();else if(i=this.rules.del.exec(e))e=e.substring(i[0].length),l+=this.renderer.del(this.output(i[1]));else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),l+=this.renderer.text(s(this.smartypants(i[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(i[0].length),n=s(i[1]),r=n,l+=this.renderer.link(r,null,n);return l},t.prototype.outputLink=function(e,t){var n=s(t.href),r=t.title?s(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,s(e[1]))},t.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},t.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",r=e.length,s=0;r>s;s++)t=e.charCodeAt(s),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},n.prototype.code=function(e,t,n){if(this.options.highlight){var r=this.options.highlight(e,t);null!=r&&r!==e&&(n=!0,e=r)}return t?'<pre><code class="'+this.options.langPrefix+s(t,!0)+'">'+(n?e:s(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:s(e,!0))+"\n</code></pre>"},n.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},n.prototype.html=function(e){return e},n.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},n.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},n.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},n.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},n.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},n.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},n.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},n.prototype.tablecell=function(e,t){var n=t.header?"th":"td",r=t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">";return r+e+"</"+n+">\n"},n.prototype.strong=function(e){return"<strong>"+e+"</strong>"},n.prototype.em=function(e){return"<em>"+e+"</em>"},n.prototype.codespan=function(e){return"<code>"+e+"</code>"},n.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},n.prototype.del=function(e){return"<del>"+e+"</del>"},n.prototype.link=function(e,t,n){if(this.options.sanitize){try{var r=decodeURIComponent(i(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(s){return""}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:"))return""}var l='<a href="'+e+'"';return t&&(l+=' title="'+t+'"'),l+=">"+n+"</a>"},n.prototype.image=function(e,t,n){var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},n.prototype.text=function(e){return e},r.parse=function(e,t,n){var s=new r(t,n);return s.parse(e)},r.prototype.parse=function(e){this.inline=new t(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var n="";this.next();)n+=this.tok();return n},r.prototype.next=function(){return this.token=this.tokens.pop()},r.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},r.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},r.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,r,s,i="",l="";for(n="",e=0;e<this.token.header.length;e++)r={header:!0,align:this.token.align[e]},n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(i+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",s=0;s<t.length;s++)n+=this.renderer.tablecell(this.inline.output(t[s]),{header:!1,align:this.token.align[s]});l+=this.renderer.tablerow(n)}return this.renderer.table(i,l);case"blockquote_start":for(var l="";"blockquote_end"!==this.next().type;)l+=this.tok();return this.renderer.blockquote(l);case"list_start":for(var l="",o=this.token.ordered;"list_end"!==this.next().type;)l+=this.tok();return this.renderer.list(l,o);case"list_item_start":for(var l="";"list_item_end"!==this.next().type;)l+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(l);case"loose_item_start":for(var l="";"list_item_end"!==this.next().type;)l+=this.tok();return this.renderer.listitem(l);case"html":var h=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(h);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},o.exec=o,a.options=a.setOptions=function(e){return h(a.defaults,e),a},a.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new n,xhtml:!1},a.Parser=r,a.parser=r.parse,a.Renderer=n,a.Lexer=e,a.lexer=e.lex,a.InlineLexer=t,a.inlineLexer=t.output,a.parse=a,"undefined"!=typeof module&&"object"==typeof exports?module.exports=a:"function"==typeof define&&define.amd?define(function(){return a}):this.marked=a}).call(function(){return this||("undefined"!=typeof window?window:global)}())}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[8])(8)});
